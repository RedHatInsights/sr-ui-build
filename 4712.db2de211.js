/*! For license information please see 4712.db2de211.js.LICENSE.txt */
"use strict";(self.webpackChunk_apicurio_registry_ui=self.webpackChunk_apicurio_registry_ui||[]).push([[4712,1366],{35374:(e,t,r)=>{r.d(t,{N:()=>s});var n,a=r(93264),o=r.n(a),i=r(81167),l=r(99926),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.render=function(){return this.accept()?o().createElement(o().Fragment,{children:this.props.children}):o().createElement(o().Fragment,null)},t.prototype.initializeState=function(){return{}},t.prototype.accept=function(){var e=l.K9.getAuthService(),t=!0;return void 0!==this.props.enabled&&(t=t&&e.isAuthenticationEnabled()===this.props.enabled),void 0!==this.props.isAuthenticated&&(t=t&&e.isAuthenticated()===this.props.isAuthenticated),void 0!==this.props.isAdmin&&(t=t&&e.isUserAdmin()===this.props.isAdmin),void 0!==this.props.isDeveloper&&(t=t&&e.isUserDeveloper(this.props.owner)===this.props.isDeveloper),void 0!==this.props.isOwner&&this.props.owner&&(t=this.props.isOwner?t&&e.isUserId(this.props.owner):t&&!e.isUserId(this.props.owner)),!0===this.props.isAdminOrOwner&&this.props.owner&&(t=t&&(!0===e.isUserAdmin()||e.isUserId(this.props.owner))),t},t}(i.V)},26068:(e,t,r)=>{r.d(t,{Q:()=>s});var n,a=r(93264),o=r.n(a),i=r(81167),l=r(99926),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.render=function(){return this.accept()?o().createElement(o().Fragment,{children:this.props.children}):o().createElement(o().Fragment,null)},t.prototype.initializeState=function(){return{}},t.prototype.accept=function(){var e=l.K9.getConfigService().features()[this.props.feature];return void 0!==this.props.is?e===this.props.is:void 0!==this.props.isNot?e!==this.props.isNot:void 0!==e},t}(i.V)},98227:(e,t,r)=>{r.d(t,{N:()=>i});var n=r(93264),a=r.n(n),o=r(99922),i=function(e){var t=e.collection,r=e.emptyState,n=e.emptyStateTitle,i=e.emptyStateMessage,l=e.children,c=r||a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.Title,{headingLevel:"h4",size:"md"},n||"None found"),a().createElement(o.EmptyStateBody,null,i||"No items found."));return t&&0!==t.length?a().createElement(a().Fragment,{children:l}):a().createElement(a().Fragment,{children:c})}},66092:(e,t,r)=>{r.d(t,{t:()=>f,N:()=>m});var n,a=r(93264),o=r.n(a),i=(r(3195),r(99922)),l=r(43221),c=r(81167),s=r(35374),p=r(46022),u=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t){return e.call(this,t)||this}return u(t,e),t.prototype.render=function(){var e;return e=o().createElement(i.PageHeaderTools,{className:"header-toolbar"},o().createElement(i.PageHeaderToolsGroup,null,o().createElement(i.PageHeaderToolsItem,{id:"avatar"},o().createElement(s.N,{enabled:!0},o().createElement(p.K,null))))),o().createElement(i.PageHeader,{logo:o().createElement(i.Brand,{onClick:this.navigateTo(this.linkTo("/artifacts")),src:l.Z,alt:"Apicurio Registry"}),showNavToggle:!1,headerTools:e})},t.prototype.initializeState=function(){return{}},t}(c.V),h=(r(83847),r(91344)),d=r(99926),g=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=function(e){function t(t){var r=e.call(this,t)||this;return r.handleTabClick=function(e,t){t!==r.props.tabKey&&(0===t&&r.navigateTo(r.linkTo("/artifacts"))(),1===t&&r.navigateTo(r.linkTo("/rules"))(),2===t&&r.navigateTo(r.linkTo("/roles"))(),3===t&&r.navigateTo(r.linkTo("/settings"))())},r}return g(t,e),t.prototype.render=function(){var e=[o().createElement(i.Tab,{key:0,eventKey:0,title:o().createElement(i.TabTitleText,null,"Artifacts")}),o().createElement(i.Tab,{key:1,eventKey:1,title:o().createElement(i.TabTitleText,null,"Global rules")})];return d.K9.getConfigService().featureRoleManagement()&&e.push(o().createElement(i.Tab,{key:2,eventKey:2,title:o().createElement(i.TabTitleText,null,"Access")})),d.K9.getConfigService().featureSettings()&&e.push(o().createElement(i.Tab,{key:3,eventKey:3,title:o().createElement(i.TabTitleText,null,"Settings")})),o().createElement("div",null,o().createElement(h.No,{isAdmin:!0},o().createElement(i.Tabs,{activeKey:this.props.tabKey,onSelect:this.handleTabClick,children:e})))},t.prototype.initializeState=function(){return{}},t}(c.V)},72058:(e,t,r)=>{var n,a=r(56550),o=r(2331),i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});!function(e){function t(t){return e.call(this,t)||this}i(t,e),t.prototype.postConstruct=function(){o.m.updateConfiguration(this.props),e.prototype.postConstruct.call(this)}}(a.F)},23311:(e,t,r)=>{r.d(t,{XT:()=>n.X});var n=r(47230);r(68470)},27297:(e,t,r)=>{r.d(t,{p:()=>n.p});var n=r(72896);r(85654)},54287:(e,t,r)=>{r.d(t,{IK:()=>n.I,fP:()=>o.f,pX:()=>a.p});var n=r(29646),a=r(72627),o=r(74789);r(4080)},11635:(e,t,r)=>{r.d(t,{G:()=>n.G});var n=r(75602)},59442:(e,t,r)=>{r.d(t,{ye:()=>n.y});var n=r(79570);r(48853),r(67859)},92321:(e,t,r)=>{r.d(t,{B:()=>n.B});var n=r(49423)},34782:(e,t,r)=>{r.d(t,{U:()=>n.U});var n=r(6774)},14658:(e,t,r)=>{r.d(t,{k:()=>n.k});var n=r(29500)},89872:(e,t,r)=>{r.d(t,{C0:()=>o.C,gx:()=>n.g,jx:()=>o.j,st:()=>a.s});var n=r(55194),a=r(51680),o=r(95101)},18338:(e,t,r)=>{r.d(t,{jx:()=>n.jx,sE:()=>a.s});var n=r(89872),a=r(58306)},58306:(e,t,r)=>{r.d(t,{s:()=>y});var n,a=r(93264),o=r.n(a),i=(r(77685),r(99922)),l=r(67646),c=r(37799),s=r(99926),p=r(89872),u=r(79824),f=r(8556),h=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},g=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n},m=["Account","Role"],y=function(e){function t(t){var r=e.call(this,t)||this;return r.onRoleFilterToggle=function(e){r.setSingleState("roleListFilterOpened",e)},r.onRoleFilterSelectToggle=function(e){r.setSingleState("roleFilterSelectInputOpened",e)},r.onRoleFilterSelect=function(e,t,n){r.setMultiState({roleFilterSelected:t,roleListFilterOpened:!1})},r.onRoleFilterInputChange=function(e){r.setSingleState("roleFilterTextInputValue",e)},r.onRoleFilterTextInputKeydown=function(e){"Enter"===e.key&&r.onRoleFilterApplyClick()},r.onRoleFilterApplyClick=function(){var e,t,n={principalId:r.state.roleFilterSelected==m[0]?r.state.roleFilterTextInputValue:null===(e=r.state.roleFilter)||void 0===e?void 0:e.principalId,role:r.state.roleFilterSelected==m[1]?r.state.roleFilterSelectInputValue:r.state.roleFilter.role,principalName:r.state.roleFilterSelected==m[0]?r.state.roleFilterTextInputValue:null===(t=r.state.roleFilter)||void 0===t?void 0:t.principalId};r.setMultiState({roleFilter:n,roleFilterTextInputValue:""})},r.onCreateRoleMapping=function(){r.setSingleState("isCreateRoleMappingModalOpen",!0)},r.isAccountFilterSelected=function(){return r.state.roleFilterSelected==m[0]},r.isRoleFilterSelected=function(){return r.state.roleFilterSelected==m[1]},r.onRoleFilterSelectChange=function(e,t,n){r.setMultiState({roleFilterSelectInputValue:t,roleFilterSelectInputOpened:!1},(function(){return r.onRoleFilterApplyClick()}))},r.closeRoleMappingModal=function(){r.setMultiState({selectedRole:void 0,isRoleMappingUpdate:!1,isCreateRoleMappingModalOpen:!1})},r.onEditRoleMapping=function(e){r.setMultiState({selectedRole:e,isRoleMappingUpdate:!0}),r.onCreateRoleMapping()},r.updateRoleMapping=function(e,t){r.pleaseWait(!0,"Granting access, please wait..."),s.K9.getAdminService().updateRoleMapping(e.id,t).then((function(t){var n=r.state.roles;n.forEach((function(r,a){r.principalId===t.principalId&&(n[a]=d(d({},t),{principalName:e.displayName}))})),r.pleaseWait(!1,""),r.setSingleState("roles",g(n))})).catch((function(e){return r.handleServerError(e,"Error updating access.")}))},r.createRoleMapping=function(e,t,n){r.closeRoleMappingModal(),n?r.updateRoleMapping(e,t):(r.pleaseWait(!0,"Granting access, please wait..."),s.K9.getAdminService().createRoleMapping(e.id,t,e.displayName).then((function(e){r.pleaseWait(!1,""),r.setSingleState("roles",g([e],r.state.roles))})).catch((function(n){409===(null==n?void 0:n.error_code)?r.updateRoleMapping(e,t):r.handleServerError(n,"Error granting access.")})))},r.onRevokeRoleMapping=function(e){r.pleaseWait(!0,"Revoking access for "+e+", please wait..."),s.K9.getAdminService().deleteRoleMapping(e).then((function(){r.pleaseWait(!1,""),r.removeMapping(e)})).catch((function(e){return r.handleServerError(e,"Error revoking access.")}))},r.pleaseWait=function(e,t){r.setMultiState({isPleaseWaitModalOpen:e,pleaseWaitMessage:t})},r}return h(t,e),t.prototype.renderPage=function(){var e=this;return o().createElement(o().Fragment,null,o().createElement(i.PageSection,{className:"ps_roles-header",variant:i.PageSectionVariants.light,padding:{default:"noPadding"}},o().createElement(u.N4,{tabKey:2})),o().createElement(i.PageSection,{variant:i.PageSectionVariants.default,isFilled:!0,className:"ps_role-section"},0===this.state.roles.length?o().createElement(p.gx,{onCreateRoleMapping:this.onCreateRoleMapping}):o().createElement(o().Fragment,null,o().createElement(i.Toolbar,{id:"toolbar",clearAllFilters:function(){e.setSingleState("roleFilter",{principalId:"",role:"",principalName:""})}},o().createElement(i.ToolbarContent,null,o().createElement(i.ToolbarGroup,null,o().createElement(i.ToolbarItem,{className:"ps_role-filter-select-toolbar-item"},o().createElement(i.Select,{variant:i.SelectVariant.single,"aria-label":"Filter On",onToggle:this.onRoleFilterToggle,onSelect:this.onRoleFilterSelect,selections:this.state.roleFilterSelected,isOpen:this.state.roleListFilterOpened},m.map((function(e,t){return o().createElement(i.SelectOption,{key:t,value:e})})))),o().createElement(i.ToolbarItem,null,o().createElement(i.InputGroup,null,this.isRoleFilterSelected()?o().createElement(i.Select,{variant:i.SelectVariant.single,"aria-label":"Role",onToggle:this.onRoleFilterSelectToggle,onSelect:this.onRoleFilterSelectChange,isOpen:this.state.roleFilterSelectInputOpened,placeholderText:"Filter by role"},o().createElement(i.SelectOption,{key:1,value:"Administrator"}),o().createElement(i.SelectOption,{key:2,value:"Manager"}),o().createElement(i.SelectOption,{key:3,value:"Viewer"})):o().createElement(i.TextInput,{value:this.state.roleFilterTextInputValue,placeholder:"Filter by account",name:"roleFilterInput",id:"roleFilterInput",type:"search","aria-label":"role filter input",onKeyDown:this.onRoleFilterTextInputKeydown,onChange:this.onRoleFilterInputChange}),o().createElement(f.If,{condition:this.isAccountFilterSelected},o().createElement(i.Button,{variant:i.ButtonVariant.control,"aria-label":"search button for search input",onClick:this.onRoleFilterApplyClick},o().createElement(l.SearchIcon,null))))),o().createElement(i.ToolbarItem,null,o().createElement(i.Button,{variant:"primary","data-testid":"btn-grant-access",onClick:this.onCreateRoleMapping},"Grant access")),o().createElement(i.ToolbarFilter,{chips:this.state.roleFilter.principalId.length>0?[this.state.roleFilter.principalId]:void 0,deleteChip:function(){e.setSingleState("roleFilter",{principalId:"",role:e.state.roleFilter.role,principalName:""})},categoryName:"Account"}," "),o().createElement(i.ToolbarFilter,{chips:this.state.roleFilter.role.length>0?[this.state.roleFilter.role]:void 0,deleteChip:function(){e.setSingleState("roleFilter",{principalId:e.state.roleFilter.principalId,role:"",principalName:e.state.roleFilter.principalName})},categoryName:"Role"}," ")))),o().createElement(p.st,{roles:this.state.roles,roleFilter:this.state.roleFilter,onRevoke:this.onRevokeRoleMapping,onEditRoleMapping:this.onEditRoleMapping}))),o().createElement(p.C0,{isOpen:this.state.isCreateRoleMappingModalOpen,isUpdateAccess:this.state.isRoleMappingUpdate,onClose:this.closeRoleMappingModal,onGrant:this.createRoleMapping,roles:this.state.isRoleMappingUpdate?this.state.roles:null,defaultRole:this.state.selectedRole}),o().createElement(u.jb,{message:this.state.pleaseWaitMessage,isOpen:this.state.isPleaseWaitModalOpen}))},t.prototype.initializePageState=function(){return{isCreateRoleMappingModalOpen:!1,isPleaseWaitModalOpen:!1,isRoleMappingUpdate:!1,pleaseWaitMessage:"",selectedRole:void 0,roles:[],roleFilter:{principalId:"",role:"",principalName:""},roleListFilterOpened:!1,roleFilterSelected:m[0],roleFilterTextInputValue:"",roleFilterSelectInputValue:"",roleFilterSelectInputOpened:!1}},t.prototype.createLoaders=function(){var e=this;return s.K9.getAdminService().getRoleMappings().then((function(t){e.setMultiState({isLoading:!1,roles:t})}))},t.prototype.removeMapping=function(e){var t=this.state.roles.filter((function(t){return t.principalId!==e}));this.setSingleState("roles",t)},t}(c.I)},98635:(e,t,r)=>{r.r(t);var n,a=r(93264),o=r.n(a),i=r(3644),l=r.n(i),c=r(99922),s=r(73685),p=r(66092),u=r(37799),f=r(43759),h=r(99926),d=r(79824),g=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n},y=function(e){function t(t){var r=e.call(this,t)||this;return r.doEnableRule=function(e){h.K9.getLoggerService().debug("[RulesPage] Enabling global rule:",e);var t="FULL";"COMPATIBILITY"===e&&(t="BACKWARD"),h.K9.getAdminService().createRule(e,t).catch((function(t){r.handleServerError(t,'Error enabling "'+e+'" global rule.')})),r.setSingleState("rules",m(r.rules(),[{config:t,type:e}]))},r.doDisableRule=function(e){h.K9.getLoggerService().debug("[RulesPage] Disabling global rule:",e),h.K9.getAdminService().deleteRule(e).catch((function(t){r.handleServerError(t,'Error disabling "'+e+'" global rule.')})),r.setSingleState("rules",r.rules().filter((function(t){return t.type!==e})))},r.doConfigureRule=function(e,t){h.K9.getLoggerService().debug("[RulesPage] Configuring global rule:",e,t),h.K9.getAdminService().updateRule(e,t).catch((function(t){r.handleServerError(t,'Error configuring "'+e+'" global rule.')})),r.setSingleState("rules",r.rules().map((function(r){return r.type===e?{config:t,type:r.type}:r})))},r}return g(t,e),t.prototype.renderPage=function(){return o().createElement(o().Fragment,null,o().createElement(c.PageSection,{className:"ps_rules-header",variant:c.PageSectionVariants.light,padding:{default:"noPadding"}},o().createElement(d.N4,{tabKey:1})),o().createElement(c.PageSection,{className:"ps_rules-description",variant:c.PageSectionVariants.light},o().createElement(c.TextContent,null,"Manage the list of global rules for this registry. Rules can be enabled, disabled, and individually configured.")),o().createElement(c.PageSection,{variant:c.PageSectionVariants.default,isFilled:!0},o().createElement(o().Fragment,null,o().createElement(f.RB,{rules:this.rules(),onEnableRule:this.doEnableRule,onDisableRule:this.doDisableRule,onConfigureRule:this.doConfigureRule}))))},t.prototype.initializePageState=function(){return{rules:null}},t.prototype.createLoaders=function(){var e=this;return h.K9.getAdminService().getRules().then((function(t){e.setMultiState({isLoading:!1,rules:t})}))},t.prototype.rules=function(){return this.state.rules?this.state.rules:[]},t}(u.I),v=r(37627),S=(r(59442),r(92321),r(34782),r(14658),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),E=function(e){function t(t){return e.call(this,t)||this}return S(t,e),t.prototype.renderPage=function(){var e=this.groupIdParam(),t=this.artifactIdParam(),r=this.linkTo("/artifacts/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"/versions/latest");return h.K9.getLoggerService().info("[ArtifactRedirectPage] Redirecting to: %s",r),o().createElement(s.Redirect,{to:r})},t.prototype.groupIdParam=function(){return this.getPathParam("groupId")},t.prototype.artifactIdParam=function(){return this.getPathParam("artifactId")},t.prototype.initializePageState=function(){return{}},t}(u.I),b=(r(27297),r(23311),r(54287),r(11635),r(85029)),P=r(5977),O=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=function(e){function t(t){return e.call(this,t)||this}return O(t,e),t.prototype.renderPage=function(){return o().createElement(P.l_,{to:"/artifacts"})},t.prototype.initializePageState=function(){return{}},t}(u.I),R=r(67646),C=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(e){function t(t){return e.call(this,t)||this}return C(t,e),t.prototype.renderPage=function(){return o().createElement(o().Fragment,null,o().createElement(c.PageSection,{className:"ps_rules-header",variant:c.PageSectionVariants.light},o().createElement(c.EmptyState,{variant:c.EmptyStateVariant.full},o().createElement(c.EmptyStateIcon,{icon:R.ExclamationCircleIcon}),o().createElement(c.Title,{headingLevel:"h5",size:"lg"},"404 Error: page not found"),o().createElement(c.EmptyStateBody,null,"This page couldn't be found.  If you think this is a bug, please report the issue."),o().createElement(c.Button,{variant:"primary","data-testid":"error-btn-artifacts",onClick:this.navigateTo(this.linkTo("/artifacts"))},"Show all artifacts"))))},t.prototype.initializePageState=function(){return{}},t}(u.I),I=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(e){function t(t){var r=e.call(this,t)||this;return r.handleInputChange=function(e){var t=r.state.isValid,n=r.validate(e);r.setMultiState({currentValue:e,isDirty:e!==r.props.value,isValid:n},(function(){t!==n&&r.props.onValid(n),r.props.onChange(e)}))},r.handleKeyPress=function(e){"Escape"===e.code&&r.props.onCancel(),"Enter"===e.code&&r.state.isDirty&&r.state.isValid&&r.props.onSave()},r}return I(t,e),t.prototype.render=function(){return o().createElement(c.InputGroup,null,o().createElement(c.TextInput,{name:this.props.name,value:this.state.currentValue,validated:this.validated(),onChange:this.handleInputChange,onKeyDown:this.handleKeyPress,"aria-label":"configuration property input"}))},t.prototype.initializeState=function(){return{currentValue:this.props.value,isDirty:!1,isValid:!0}},t.prototype.validated=function(){return this.state.isValid?"default":"error"},t.prototype.validate=function(e){if("text"===this.props.type)return e.trim().length>0;if("number"===this.props.type){if(0===e.trim().length)return!1;var t=Number(e);return Number.isInteger(t)}return!0},t}(d.Vx),N=r(8556),T=function(e){var t=e.property,r=e.onChange,n=(e.onReset,(0,a.useState)(!1)),i=n[0],l=n[1],s=(0,a.useState)(t.value),p=s[0],u=s[1],f=(0,a.useState)(!0),h=f[0],d=f[1],g=function(e){r(t,e?"true":"false")},m=function(e){u(e)},y=function(e){d(e)},v=function(){u(t.value),l(!1)},S=function(){d(!0),l(!0)},E=function(){r(t,p),l(!1)},b=function(e){return o().createElement(c.Flex,{className:"configuration-property string-property",flexWrap:{default:"nowrap"}},o().createElement(c.FlexItem,{grow:{default:"grow"}},o().createElement("div",{className:"property-name"},o().createElement("span",{className:"name"},t.label)),o().createElement("div",{className:"property-description"},t.description),o().createElement(N.If,{condition:!i},o().createElement("div",{className:"property-value"},t.value)),o().createElement(N.If,{condition:i},o().createElement("div",{className:"property-editor"},o().createElement(A,{name:t.name,value:t.value,type:e,onChange:m,onValid:y,onCancel:v,onSave:E})))),o().createElement(c.FlexItem,{className:"actions",align:{default:"alignRight"}},o().createElement(N.If,{condition:!i},o().createElement(c.Button,{variant:"plain",className:"action single",onClick:S},o().createElement(R.PencilAltIcon,null))),o().createElement(N.If,{condition:i},o().createElement(c.Button,{variant:"plain",className:"action",onClick:E,isDisabled:!h},o().createElement(R.CheckIcon,null)),o().createElement(c.Button,{variant:"plain",className:"action",onClick:v},o().createElement(R.CloseIcon,null)))))};return"java.lang.Boolean"===t.type?o().createElement(c.Flex,{className:"configuration-property boolean-property",flexWrap:{default:"nowrap"}},o().createElement(c.FlexItem,{grow:{default:"grow"}},o().createElement("div",{className:"property-name"},o().createElement("span",{className:"name"},t.label),o().createElement("span",{className:"sep"},":"),o().createElement("span",{className:"value"},"true"===t.value?"On":"Off")),o().createElement("div",{className:"property-description"},t.description)),o().createElement(c.FlexItem,{className:"actions",align:{default:"alignRight"}},o().createElement(c.Switch,{id:t.name,"aria-label":t.label,className:"action",isChecked:"true"===t.value,onChange:g}))):"java.lang.Integer"===t.type||"java.lang.Long"===t.type?b("number"):b("text")},k=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),w=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n},M=[{id:"authn",label:"Authentication settings",propertyNames:["registry.auth.basic-auth-client-credentials.enabled"]},{id:"authz",label:"Authorization settings",propertyNames:["registry.auth.owner-only-authorization","registry.auth.owner-only-authorization.limit-group-access","registry.auth.anonymous-read-access.enabled","registry.auth.authenticated-read-access.enabled"]},{id:"compatibility",label:"Compatibility settings",propertyNames:["registry.ccompat.legacy-id-mode.enabled"]},{id:"console",label:"Web console settings",propertyNames:["registry.download.href.ttl","registry.ui.features.readOnly"]}],x=function(e){function t(t){var r=e.call(this,t)||this;return r.acceptProperty=function(e){if(!r.state.searchCriteria||0===r.state.searchCriteria.trim().length)return!0;var t=r.state.searchCriteria.toLocaleLowerCase();return e.label.toLocaleLowerCase().indexOf(t)>=0||e.description.toLocaleLowerCase().indexOf(t)>=0},r.onSearchCriteria=function(e){r.setSingleState("searchCriteria",e)},r.onSearchSettings=function(){r.filterProperties()},r.onSearchClear=function(){r.setMultiState({searchCriteria:""},r.onSearchSettings)},r.onPropertyChange=function(e,t){e.value=t,h.K9.getAdminService().setConfigurationProperty(e.name,t).then((function(){r.createLoaders(),h.K9.getAlertsService().settingChanged(e,t)})).catch((function(e){r.handleServerError(e,"Error setting configuration property")}))},r.onPropertyReset=function(e){h.K9.getAdminService().resetConfigurationProperty(e.name).then((function(){r.createLoaders()})).catch((function(e){r.handleServerError(e,"Error resetting configuration property")}))},r}return k(t,e),t.prototype.renderPage=function(){var e=this;return o().createElement(o().Fragment,null,o().createElement(c.PageSection,{className:"ps_settings-header",variant:c.PageSectionVariants.light,padding:{default:"noPadding"}},o().createElement(d.N4,{tabKey:3})),o().createElement(c.PageSection,{className:"ps_settings-description",variant:c.PageSectionVariants.light},o().createElement(c.TextContent,null,"Configure global settings for this Service Registry instance."),o().createElement(c.TextContent,{style:{marginTop:"10px",marginBottom:"5px",maxWidth:"450px"}},o().createElement(c.SearchInput,{placeholder:"Filter by keyword","aria-label":"Filter by keyword",value:this.state.searchCriteria,onChange:this.onSearchCriteria,onSearch:this.onSearchSettings,onClear:this.onSearchClear}))),o().createElement(c.PageSection,{variant:c.PageSectionVariants.default,isFilled:!0},o().createElement(d.Ng,{collection:this.state.searchedProperties,emptyStateMessage:"No settings found matching your search criteria."},this.propertyGroups().map((function(t){var r;return o().createElement(N.If,{key:t.id,condition:void 0!==t.properties&&t.properties.length>0},o().createElement(c.Card,{key:t.id,className:"config-property-group"},o().createElement(c.CardTitle,{className:"title"},t.label),o().createElement(c.CardBody,{className:"config-properties"},null===(r=t.properties)||void 0===r?void 0:r.map((function(t){return o().createElement(T,{key:t.name,property:t,onChange:e.onPropertyChange,onReset:e.onPropertyReset})})))))})))))},t.prototype.initializePageState=function(){return{searchCriteria:""}},t.prototype.createLoaders=function(){var e=this;return h.K9.getAdminService().listConfigurationProperties().then((function(t){e.setMultiState({isLoading:!1,properties:t}),e.filterProperties()}))},t.prototype.groupFor=function(e,t){for(var r=0,n=e;r<n.length;r++){var a=n[r];if(a.propertyNames.indexOf(t.name)>=0)return a}return e[e.length-1]},t.prototype.propertyGroups=function(){var e,t=this,r=w(M);r.forEach((function(e){return e.properties=[]}));return r.push({id:"additional",label:"Additional properties",properties:[],propertyNames:[]}),null===(e=this.state.searchedProperties)||void 0===e||e.forEach((function(e){var n;null===(n=t.groupFor(r,e).properties)||void 0===n||n.push(e)})),r.forEach((function(e){var t;e.properties=null===(t=e.properties)||void 0===t?void 0:t.sort((function(e,t){return e.label.localeCompare(t.label)}))})),r},t.prototype.filterProperties=function(){var e,t=null===(e=this.state.properties)||void 0===e?void 0:e.filter(this.acceptProperty);this.setSingleState("searchedProperties",t)},t}(u.I),L=r(18338),K=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),V=function(){return V=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},V.apply(this,arguments)};const j=function(e){function t(t){return e.call(this,t)||this}return K(t,e),t.prototype.render=function(){var e=h.K9.getConfigService().uiContextPath();h.K9.getLoggerService().info("[App] Using app contextPath: ",e);return o().createElement(s.BrowserRouter,{basename:e},o().createElement(c.Page,{className:"pf-m-redhat-font",isManagedSidebar:!1,header:o().createElement(p.t,null)},o().createElement(s.Switch,null,o().createElement(s.Route,{path:"/",exact:!0,component:_}),o().createElement(s.Route,{path:"/rules",exact:!0,component:y}),o().createElement(s.Route,{path:"/roles",exact:!0,component:L.sE}),o().createElement(s.Route,{path:"/settings",exact:!0,component:x}),o().createElement(s.Route,{path:"/artifacts",exact:!0,component:v.y}),o().createElement(s.Route,{path:"/artifacts/:groupId/:artifactId",exact:!0,component:E}),o().createElement(s.Route,{path:"/artifacts/:groupId/:artifactId/versions/:version",exact:!0,component:function(e){var t=e.location.pathname;return o().createElement(b.C,V({key:t},e))}}),o().createElement(s.Route,{component:F}))))},t}(o().PureComponent);h.K9.getAuthService().authenticateAndRender((function(){return l().render(o().createElement(j,null),document.getElementById("root"))}))},6142:(e,t,r)=>{r.d(t,{_:()=>n});var n=function(){}},38780:(e,t,r)=>{r.d(t,{R:()=>i});var n=r(99926),a=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function l(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))},o=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},i=function(){function e(){}return e.allTypes=function(){return a(this,void 0,Promise,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.K9.getAdminService().getArtifactTypes()];case 1:return[2,e.sent().map((function(e){return e.name}))];case 2:return e.sent(),[2,["AVRO","PROTOBUF","JSON","OPENAPI","ASYNCAPI","GRAPHQL","KCONNECT","WSDL","XSD"]];case 3:return[2]}}))}))},e.allTypesWithLabels=function(){return a(this,void 0,Promise,(function(){var e=this;return o(this,(function(t){switch(t.label){case 0:return[4,this.allTypes()];case 1:return[2,t.sent().map((function(t){return{id:t,label:e.getLabel(t)}}))]}}))}))},e.getTitle=function(e){var t=e;switch(e){case"AVRO":t="Avro Schema";break;case"PROTOBUF":t="Protobuf Schema";break;case"JSON":t="JSON Schema";break;case"OPENAPI":t="OpenAPI Definition";break;case"ASYNCAPI":t="AsyncAPI Definition";break;case"GRAPHQL":t="GraphQL Definition";break;case"KCONNECT":t="Kafka Connect Schema";break;case"WSDL":t="WSDL";break;case"XSD":t="XML Schema";break;case"XML":t="XML"}return t},e.getLabel=function(e){var t=e;switch(e){case"AVRO":t="Avro Schema";break;case"PROTOBUF":t="Protocol Buffer Schema";break;case"JSON":t="JSON Schema";break;case"OPENAPI":t="OpenAPI";break;case"ASYNCAPI":t="AsyncAPI";break;case"GRAPHQL":t="GraphQL";break;case"KCONNECT":t="Kafka Connect Schema";break;case"WSDL":t="WSDL";break;case"XSD":t="XML Schema";break;case"XML":t="XML"}return t},e.getClassNames=function(e){var t="artifact-type-icon";switch(e){case"AVRO":t+=" avro-icon24";break;case"PROTOBUF":t+=" protobuf-icon24";break;case"JSON":t+=" json-icon24";break;case"OPENAPI":t+=" oai-icon24";break;case"ASYNCAPI":t+=" aai-icon24";break;case"GRAPHQL":t+=" graphql-icon24";break;case"KCONNECT":t+=" kconnect-icon24";break;case"WSDL":case"XSD":case"XML":t+=" xml-icon24";break;default:t+=" questionmark-icon24"}return t},e}()}}]);
//# sourceMappingURL=4712.db2de211.js.map