{"version":3,"file":"2048.e906f69b.js","mappings":";kiBA0CA,cAEI,WAAYA,UACR,YAAMA,IAAM,KAgCpB,OAnC4C,OAMjC,YAAAC,OAAP,sBACI,OACI,kBAAC,EAAAC,WAAU,CAACC,QAAS,EAAAC,kBAAA,MACjB,kBAAC,EAAAC,eAAc,CAACC,KAAM,EAAAC,iBACtB,kBAAC,EAAAC,MAAK,CAACC,aAAa,KAAKC,KAAK,MAAI,qBAGlC,kBAAC,EAAAC,GAAE,CAACC,UAAW,WAAM,OAA0B,IAA1B,EAAKZ,MAAMa,aAC5B,kBAAC,EAAAC,eAAc,gHAEnB,kBAAC,EAAAH,GAAE,CAACC,UAAW,WAAM,OAAC,EAAKZ,MAAMa,aAC7B,kBAAC,EAAAC,eAAc,KAAGC,KAAKC,sBACvB,kBAAC,EAAAC,OAAM,CAACd,QAAQ,UAAS,cAAa,mBAAmBe,QAASH,KAAKf,MAAMmB,qBAAmB,mBAMtG,YAAAC,gBAAV,WACI,MAAO,IAGH,YAAAJ,mBAAR,WACI,OAAI,EAAAK,SAAA,mBAA4BC,qBACrB,iKAEA,uIAGnB,EAnCA,CAA4C,8aCL5C,cAEI,WAAYtB,GAAZ,MACI,YAAMA,IAAM,YASR,EAAAuB,SAAW,SAACC,GAChB,EAAKC,eAAe,SAAUD,GAC9B,EAAKxB,MAAMuB,SAASC,IAGhB,EAAAE,eAAiB,WACrB,EAAKC,cAAc,CACfC,GAAI,GACJJ,QAAQ,KAIR,EAAAK,SAAW,SAACC,EAAaC,EAAgBC,GACzCA,EACA,EAAKN,kBAEL,EAAKD,eAAe,KAAMM,GAC1B,EAAKR,UAAS,IAElB,EAAKvB,MAAMiC,WAAWF,IAqClB,EAAAG,OAAS,SAACC,EAAYC,GAC1B,IAAMC,EAA+E,SAACC,EAAsBC,GACxG,OACI,kBAAC,EAAAC,aAAY,CACTC,IAAKF,EACLG,MAAOJ,EAAUV,GACjBe,YAAaL,EAAUM,aAEtBN,EAAUV,KAKjBiB,EAA2B,EAAK7C,MAAM8C,eAAeZ,QACvD,SAACI,GACG,MAA4B,oBAA5BA,EAAUS,iBAChBb,QACE,SAACI,SACG,OAAAA,EAAUV,GAAGoB,cAAcC,SAASb,EAASY,iBACxB,QADsC,EAC3DV,EAAUM,mBAAW,eAAEI,cAAcC,SAASb,EAASY,mBAEzDE,EAA6B,EAAKlD,MAAM8C,eAAeZ,QACzD,SAACI,GACG,MAA4B,iBAA5BA,EAAUS,iBAChBb,QACE,SAACI,SACG,OAAAA,EAAUV,GAAGoB,cAAcC,SAASb,EAASY,iBACxB,QADsC,EAC3DV,EAAUM,mBAAW,eAAEI,cAAcC,SAASb,EAASY,mBAG3DG,EAA6B,GA6BjC,OA3BIN,EAAYO,OAAS,GACrBD,EAAKE,KACD,kBAAC,EAAAC,YAAW,CAACC,MAAO,mBAAoBd,IAAI,0BAEpCI,EAAYW,MAAK,SAACC,EAAGC,GAAM,OAAAD,EAAEb,aAAec,EAAEd,YAAca,EAAEb,YAAYe,cAAcD,EAAEd,cAAgB,KACtGgB,IAAIvB,KAMpBQ,EAAYO,OAAS,GAAKF,EAAcE,OAAS,GACjDD,EAAKE,KACD,kBAAC,EAAAQ,QAAO,CAACpB,IAAI,aAIjBS,EAAcE,OAAS,GACvBD,EAAKE,KACD,kBAAC,EAAAC,YAAW,CAACC,MAAO,gBAAiBd,IAAI,uBAEjCS,EAAcU,IAAIvB,KAM3Bc,KAGf,OAlI4C,OAMxC,YAAAW,mBAAA,SAAmBC,GACXhD,KAAKf,MAAM4B,IAAMb,KAAKf,MAAM4B,KAAOmC,EAAUnC,IAC7Cb,KAAKU,eAAe,KAAMV,KAAKf,MAAM4B,KA0BnC,YAAAR,gBAAV,WACI,MAAO,CACHQ,GAAI,GACJJ,QAAQ,IAIT,YAAAvB,OAAP,WACU,MAAgCc,KAAKf,MAApCgE,EAAc,iBAAEC,EAAW,cAC5BC,EAAiCnD,KAAKmB,OAAO,KAAM,IAEzD,OACI,kBAAC,EAAAiC,OAAM,CACHhE,QAAS,EAAAiE,cAAA,UACTC,mBAAoB,oBACpBC,WAAY,MACZ/C,SAAUR,KAAKQ,SACfM,SAAUd,KAAKc,SACf0C,QAASxD,KAAKW,eACd8C,WAAYzD,KAAK0D,MAAM7C,GACvBJ,OAAQT,KAAK0D,MAAMjD,OACnBkD,uBAAuB,EACvBC,gBAAiBX,EAAiBC,aAAW,EAAXA,EAAaW,YAAc,oBAC7DC,aAAa,EACbC,aAAa,SACbC,UAAW,IACXC,WAAW,EACXC,SAAUlE,KAAKmB,OACfgC,SAAUA,EACVgB,WAAYlB,KAmE5B,EAlIA,CAA4C,kVCiC5C,cAEI,WAAYhE,GAAZ,MACI,YAAMA,IAAM,YAgKR,EAAAmF,WAAa,WACV,IAAAC,EAAW,EAAKpF,MAAK,QACxBoF,GACAA,IAEJ,EAAKC,SAeD,EAAAC,0BAA4B,WAChC,EAAK3D,cAAc,CACjB4D,UAAW,GACXC,uBAAuB,EACvBC,UAAMC,KAIJ,EAAAC,sBAAwB,SAACjD,GAC7B,EAAKf,cAAc,CACfiE,UAAWlD,EACXmD,QAAS,EAAKC,WAAWpD,EAAO,EAAK+B,MAAMgB,SAI3C,EAAAM,eAAiB,WACd,IAAAH,EAAa,EAAKnB,MAAK,UAC1BmB,IACA,EAAKnE,eAAe,yBAAyB,GAC7C,EAAAJ,SAAA,kBAA2B0E,eAAeH,GAAWI,MAAK,SAAC,OAACP,EAAI,OAC5D,EAAK9D,cAAc,CACf8D,KAAI,EACJQ,uBAAuB,EACvBC,YAAaT,OAElBU,OAAM,SAACC,GACN,EAAKzE,cAAc,CACf8D,KAAM,EAAAY,UAAA,UACNJ,uBAAuB,SAM/B,EAAAK,kBAAoB,SAACxE,EAAaC,EAAwCC,GAC9E,GAAIA,EACA,EAAKsD,gCACF,CACH,IAAMiB,EAAgB,CAClBX,UAAW7D,EACXyE,YAAa,EAAKC,eAAe1E,GACjCyD,uBAAuB,GAE3B,EAAK7D,cAAc4E,GAAU,WACzB,EAAKR,sBAMT,EAAAW,iBAAmB,SAACC,EAAoBxE,GAC5C,EAAKR,cAAc,CACfkE,QAAS,EAAKC,WAAW,EAAKrB,MAAMmB,UAAWzD,EAAMyE,OAAOlE,OAC5D+C,KAAMtD,EAAMyE,OAAOlE,SAInB,EAAAmE,cAAgB,iBACdvE,EAAuB,CACzBM,YAAa,EAAK6B,MAAM+B,YACxB5E,GAAI,EAAK6C,MAAMmB,UACf7C,cAAe,gBAEnB,EAAK/C,MAAM8G,QAAQxE,EACf,EAAKmC,MAAMgB,UACkEC,KAA7D,QAAhB,IAAK1F,MAAM+G,aAAK,eAAEC,MAAK,SAAAvB,GAAQ,OAAAA,EAAKb,aAAe,EAAKH,MAAMmB,eAClE,EAAKP,SA8BD,EAAA4B,cAAgB,WAChB,EAAKxC,MAAMyC,mBACZ,EAAK/B,cAIJ,EAAAgC,sBAAwB,SAAC3F,GAC7B,EAAKC,eAAe,qBAAsBD,IAGtC,EAAA4F,MAAQ,SAACjF,GACK,UAAdA,EAAMM,MACNN,EAAMkF,kBACNlF,EAAMmF,qBAIlB,OAxSsC,OAM3B,YAAAC,kBAAP,WACIxG,KAAKY,cAAc,CACfiE,UAAW,GACXY,YAAa,GACbf,UAAMC,KAIP,YAAA5B,mBAAP,SAA0BC,EAAkCyD,GACpDzG,KAAKf,MAAMiE,cAAgBF,EAAUE,aACjClD,KAAKf,MAAMiE,aACXlD,KAAKY,cAAc,CACfiE,UAAW7E,KAAKf,MAAMiE,YAAYW,YAClC4B,YAAazF,KAAKf,MAAMiE,YAAYwD,cACpCvB,YAAanF,KAAKf,MAAMiE,YAAYwB,KACpCA,KAAM1E,KAAKf,MAAMiE,YAAYwB,OAKrC+B,EAAU5B,YAAc7E,KAAK0D,MAAMmB,WAAa4B,EAAU/B,OAAS1E,KAAK0D,MAAMgB,MAC9E1E,KAAKU,eAAe,UAAWV,KAAK+E,WAAW/E,KAAK0D,MAAMmB,UAAW7E,KAAK0D,MAAMgB,QAIjF,YAAAxF,OAAP,sBACU,EAAqCc,KAAK0D,MAAzCwB,EAAqB,wBAAEL,EAAS,YACjC,EAAgC7E,KAAKf,MAApCgE,EAAc,iBAAEC,EAAW,cAC5ByD,EAAqC,EAAArG,SAAA,mBAA4BqG,aAEvE,OACI,kBAAC,EAAAC,MAAK,CACFC,MAAM,eACNjF,YAAa5B,KAAK8G,mBAClB1H,QAAQ,SACRqB,OAAQT,KAAKf,MAAMwB,OACnB4D,QAASrE,KAAKoE,WACd2C,UAAU,sCACVC,cAAehH,KAAKkG,cACpBe,WAAYjH,KAAKqG,MACjBa,UAAWlH,KAAKqG,MAChBc,QAASnH,KAAKqG,MACde,QAAS,CACL,kBAAC,EAAAlH,OAAM,CAACwB,IAAI,QAAQtC,QAAQ,UAAS,cAAa,kBAAkBe,QAASH,KAAK8F,cAAe3B,YAAanE,KAAK0D,MAAMoB,SAAWI,GAAqB,QACzJ,kBAAC,EAAAhF,OAAM,CAACwB,IAAI,SAAStC,QAAQ,OAAM,cAAa,mBAAmBe,QAASH,KAAKoE,YAAU,YAG/F,kBAAC,EAAAiD,KAAI,UACuC1C,IAAvC3E,KAAKf,MAAMqI,wBAAyC,kBAAC,EAAAC,gBAAe,KACjE,kBAAC,EAAAC,qBAAoB,KACjB,kBAAC,EAAAC,oBAAmB,kCACpB,kBAAC,EAAAC,2BAA0B,KAAE1H,KAAKf,MAAMqI,gCAG5C3C,EAEJ,kBAAC,EAAAgD,UAAS,CACNnF,MAAM,UACNoF,UACI,kBAAC,EAAAC,QAAO,cAAY,eACXC,cACI,8CAEJC,YACI,kMAKT,kBAAC,EAAAC,2BAA0B,OAGnCC,YAAU,EACVC,QAAQ,2BAENvB,EACA,kBAACwB,EAAsB,CACrBtH,GAAIb,KAAK0D,MAAMmB,UACfrE,SAAUR,KAAKoG,sBACflF,WAAY,SAACL,GACT,EAAK0E,kBAAkB,KAAM1E,GAAI,IAErCkB,eAAgB4E,GAAc,GAC9B1D,eAAgBA,EAChBC,YAAaA,IAEb,kBAAC,EAAAkF,UAAS,CACNH,YAAU,EACVI,KAAK,OACLxH,GAAG,yBACHyH,KAAK,yBAAwB,mBACZ,gCACjBC,SAAUvI,KAAK4E,sBACfjD,MAAOkD,EACPV,WAAYlB,KAIvB4B,GACD,kBAAC,EAAA8C,UAAS,CACNnF,MAAM,OACNyF,YAAU,EACVC,QAAQ,qBAER,kBAAC,EAAAM,MAAK,CAAC3H,GAAG,0BACNkG,UAAU,4BACVuB,KAAK,oBACL9F,MAAOxC,KAAKyI,aAAa,gBAAgB,EAAAnD,UAAA,OACzC1D,YAAY,wIACZD,MAAO,EAAA2D,UAAA,MACPiD,SAAUvI,KAAK2F,iBACfC,UAAW5F,KAAK0D,MAAMgB,MAAQ,EAAAY,UAAA,MAC9BnB,WAAYe,IAGhB,kBAAC,EAAAsD,MAAK,CAAC3H,GAAG,4BACNkG,UAAU,4BACVuB,KAAK,oBACL9F,MAAOxC,KAAKyI,aAAa,UAAU,EAAAnD,UAAA,WACnC1D,YAAY,8DACZD,MAAO,EAAA2D,UAAA,UACPiD,SAAUvI,KAAK2F,iBACfC,UAAW5F,KAAK0D,MAAMgB,MAAQ,EAAAY,UAAA,UAC9BnB,WAAYe,IAGhB,kBAAC,EAAAsD,MAAK,CAAC3H,GAAG,2BACNkG,UAAU,4BACVuB,KAAK,oBACL9F,MAAOxC,KAAKyI,aAAa,SAAS,EAAAnD,UAAA,WAClC1D,YAAY,oDACZD,MAAO,EAAA2D,UAAA,UACPiD,SAAUvI,KAAK2F,iBACfC,UAAW5F,KAAK0D,MAAMgB,MAAQ,EAAAY,UAAA,UAC9BnB,WAAYe,QAU1B,YAAA7E,gBAAV,WACI,MAAO,CACHwE,UAAW,GACXY,YAAa,GACbN,iBAAaR,EACbwB,mBAAmB,EACnB1B,uBAAuB,EACvBS,uBAAuB,EACvBJ,SAAS,EACTJ,UAAMC,IAYN,YAAA8D,aAAR,SAAqBC,EAAkBC,GAEnC,OADsB3I,KAAK0D,MAAK,cACZiF,EACND,EAAQ,kBAEfA,GAGH,YAAApE,MAAR,WACItE,KAAKY,cAAcZ,KAAKK,oBAwEpB,YAAA0E,WAAR,SAAmBF,EAAoDH,GACnE,SAAKG,IAAcH,IAMf,YAAAgB,eAAR,SAAuBb,GACnB,IAAM8B,EAAsC,EAAArG,SAAA,mBAA4BqG,aACxE,GAAIA,EACA,IAAwB,UAAAA,EAAA,eAAY,CAA/B,IAAMpF,EAAS,KAChB,GAAIA,EAAUV,KAAOgE,EACjB,OAAOtD,EAAUM,cAOzB,YAAAiF,iBAAR,WACI,OAAI,EAAAxG,SAAA,mBAA4BC,qBACrB,iGAEA,oFAqBnB,EAxSA,CAAsC,ybCnBtC,cAEI,WAAYtB,GAAZ,MACI,YAAMA,IAAM,YA0HR,EAAA2J,oBAAsB,SAAC/E,GAC3B,EAAKjD,cAAc,CACfiI,mBAAmB,EACnBC,oBAAqBjF,KAIrB,EAAAkF,mBAAqB,WACzB,EAAKrI,eAAe,qBAAqB,IAGrC,EAAAsI,eAAiB,WACrB,EAAKD,qBACL,EAAK9J,MAAMgK,SAAS,EAAKvF,MAAMoF,wBAUvC,OApJ8B,OAMnB,YAAA5J,OAAP,sBAEUgK,EAAc,SAACxE,GAAsB,OACvC,CACImC,MAAO,OACP1G,QAAS,WAAQ,EAAKlB,MAAMkK,kBAAkBzE,KAElD,CACImC,MAAO,SACP1G,QAAS,WAAO,EAAKyI,oBAAoBlE,EAAKb,iBAIlDuF,EAAgBpJ,KAAKf,MAAM+G,MAAMvD,MAAK,SAAC4G,EAAKC,GAC5C,OAAOD,EAAIxF,YAAYjB,cAAc0G,EAAIzF,gBAC1C1C,QAAO,SAACuD,GACP,IAAI6E,GAAiB,EACjBC,GAAqB,EASzB,OARG,EAAKvK,MAAMwK,WAAW5F,YAAYxB,OAAS,IAC1CmH,GAAY,EACZD,EAAQA,GAAS7E,EAAKb,YAAY5B,cAAcC,SAAS,EAAKjD,MAAMwK,WAAW5F,YAAY5B,gBAE5F,EAAKhD,MAAMwK,WAAW/C,cAAcrE,OAAS,IAC5CmH,GAAY,EACZD,EAAQA,GAAS7E,EAAKgC,cAAczE,cAAcC,SAAS,EAAKjD,MAAMwK,WAAW/C,cAAczE,iBAE5FuH,GAAYD,KACpBpI,QAAO,SAACuD,GACP,GAAI,EAAKzF,MAAMwK,WAAW/E,KAAKrC,OAAS,EACpC,OAAQqC,EAAKA,MACT,KAAK,EAAAY,UAAA,UACD,MAAO,WAAa,EAAKrG,MAAMwK,WAAW/E,KAC9C,KAAK,EAAAY,UAAA,MACD,MAAO,iBAAmB,EAAKrG,MAAMwK,WAAW/E,KACpD,KAAK,EAAAY,UAAA,UACD,MAAO,UAAY,EAAKrG,MAAMwK,WAAW/E,KAGrD,OAAO,KAEX,OAC6B,IAAzB0E,EAAc/G,OACV,kBAAC,IAAsB,CAACvC,YAAY,IACxC,kBAAC,aAAc,KACX,kBAAC,EAAA4J,gBAAe,CAAC3C,UAAU,aACvB,kBAAC,EAAA4C,MAAK,KACF,kBAAC,EAAAC,GAAE,KAGC,kBAAC,EAAAC,GAAE,gBACH,kBAAC,EAAAA,GAAE,eAGX,kBAAC,EAAAC,MAAK,KACDV,EAAcvG,KAAI,SAAC6B,EAAMqF,GAEtB,yBAAC,EAAAH,GAAE,CAAClI,IAAKqI,GAUL,kBAAC,EAAAC,GAAE,KACC,yBAAKjD,UAAU,gBAAiBrC,EAAKb,aACrC,yBAAKkD,UAAU,kBAAmBrC,EAAKgC,gBAE3C,kBAAC,EAAAsD,GAAE,KAAE,EAAKtB,SAAShE,EAAKA,OACxB,kBAAC,EAAAsF,GAAE,CAACjD,UAAY,0BACZrF,IAAQqI,EAAQ,KAChB3C,QAAS,CACL6C,MAAOf,EAAYxE,YAQ3C,kBAAC,EAAAkC,MAAK,CACFC,MAAM,eACNzH,QAAQ,QACRqB,OAAQT,KAAK0D,MAAMmF,kBACnBxE,QAASrE,KAAK+I,mBACdhC,UAAU,uCACVK,QAAS,CACL,kBAAC,EAAAlH,OAAM,CAACwB,IAAI,SAAStC,QAAQ,UAAS,cAAa,mBAAmBe,QAASH,KAAKgJ,gBAAc,UAClG,kBAAC,EAAA9I,OAAM,CAACwB,IAAI,SAAStC,QAAQ,OAAM,cAAa,mBAAmBe,QAASH,KAAK+I,oBAAkB,YAGvG,2BAAK/I,KAAKkK,qCAMhB,YAAA7J,gBAAV,WACI,MAAO,CACHwI,mBAAmB,EACnBC,oBAAqB,GACrB3D,YAAanF,KAAKf,MAAM+G,MAAM,KAI9B,YAAA0C,SAAR,SAAiBhE,GACb,OAAQA,GACJ,KAAK,EAAAY,UAAA,UACD,MAAO,UACX,KAAK,EAAAA,UAAA,MACD,MAAO,gBACX,KAAK,EAAAA,UAAA,UACD,MAAO,SAEf,OAAOZ,GAmBH,YAAAwF,+BAAR,WACI,OAAI,EAAA5J,SAAA,mBAA4BC,qBACrB,gCAAgCP,KAAK0D,MAAMoF,oBAAmB,aAE3D9I,KAAK0D,MAAMoF,oBAAmB,kEAGpD,EApJA,CAA8B,s1BCqBxBqB,EAAoB,CAAC,UAAW,QAItC,cAEI,WAAYlL,GAAZ,MACI,YAAMA,IAAM,YAwIR,EAAAmL,mBAAqB,SAACC,GAC1B,EAAK3J,eAAe,uBAAwB2J,IAExC,EAAAC,yBAA2B,SAACD,GAChC,EAAK3J,eAAe,8BAA+B2J,IAG/C,EAAAE,mBAAqB,SAACxJ,EAAaC,EAAwCC,GAC/E,EAAKL,cAAc,CACf4J,mBAAoBxJ,EACpByJ,sBAAsB,KAItB,EAAAC,wBAA0B,SAAC/I,GAC/B,EAAKjB,eAAe,2BAA4BiB,IAE5C,EAAAgJ,6BAA+B,SAACvJ,GAClB,UAAdA,EAAMM,KACN,EAAKkJ,0BAGL,EAAAA,uBAAyB,mBACzBC,EAAoC,CACpChH,YAAa,EAAKH,MAAM8G,oBAAsBL,EAAkB,GAAK,EAAKzG,MAAMoH,yBAAgD,QAAtB,EAAC,EAAKpH,MAAM+F,kBAAU,eAAE5F,YAClIa,KAAM,EAAKhB,MAAM8G,oBAAsBL,EAAkB,GAAK,EAAKzG,MAAMqH,2BAA6B,EAAKrH,MAAM+F,WAAW/E,KAC5HgC,cAAe,EAAKhD,MAAM8G,oBAAsBL,EAAkB,GAAK,EAAKzG,MAAMoH,yBAAgD,QAAtB,EAAC,EAAKpH,MAAM+F,kBAAU,eAAE5F,aAExI,EAAKjD,cAAc,CACf6I,WAAYoB,EACZC,yBAA0B,MAG1B,EAAA1K,oBAAsB,WAC1B,EAAKM,eAAe,gCAAgC,IAGhD,EAAAsK,wBAA0B,WAC9B,OAAO,EAAKtH,MAAM8G,oBAAsBL,EAAkB,IAEtD,EAAAc,qBAAuB,WAC3B,OAAO,EAAKvH,MAAM8G,oBAAsBL,EAAkB,IAGtD,EAAAe,yBAA2B,SAACnK,EAAaC,EAAwCC,GACrF,EAAKL,cAAc,CACfmK,2BAA4B/J,EAC5BmK,6BAA6B,IAC9B,WAAM,SAAKP,6BAGV,EAAAQ,sBAAwB,WAC5B,EAAKxK,cAAc,CACfyK,kBAAc1G,EACd2G,qBAAqB,EACrBC,8BAA8B,KAI9B,EAAApC,kBAAoB,SAACzE,GACzB,EAAK9D,cAAc,CACfyK,aAAc3G,EACd4G,qBAAqB,IAEzB,EAAKlL,uBAGD,EAAAoL,kBAAoB,SAACjK,EAAsBmD,GAC/C,EAAK+G,YAAW,EAAM,mCACtB,EAAAnL,SAAA,kBAA2BkL,kBAAkBjK,EAAUV,GAAI6D,GAAMO,MAAK,SAACyG,GACnE,IAAMC,EAAsB,EAAKjI,MAAMsC,MACvC2F,EAAoBC,SAAQ,SAAClH,EAAMlD,GAC3BkD,EAAKb,cAAgB6H,EAAQ7H,cAC7B8H,EAAoBnK,GAAS,EAAH,KACnBkK,GAAO,CACVhF,cAAenF,EAAUM,kBAKrC,EAAK4J,YAAW,EAAO,IACvB,EAAK/K,eAAe,QAAS,EACtBiL,OAERvG,OAAM,SAAAC,GAAK,SAAKwG,kBAAkBxG,EAAG,8BAGpC,EAAAyG,kBAAoB,SAACvK,EAAsBmD,EAAcqH,GAC7D,EAAKX,wBACDW,EACA,EAAKP,kBAAkBjK,EAAWmD,IAElC,EAAK+G,YAAW,EAAM,mCACtB,EAAAnL,SAAA,kBAA2BwL,kBAAkBvK,EAAUV,GAAI6D,EAAMnD,EAAUM,aAAuBoD,MAAK,SAACyG,GACpG,EAAKD,YAAW,EAAO,IACvB,EAAK/K,eAAe,QAAS,EAAF,CACvBgL,GAAY,EAAKhI,MAAMsC,WAE5BZ,OAAM,SAAAC,GACiB,OAAlBA,aAAC,EAADA,EAAG2G,YAGH,EAAKR,kBAAkBjK,EAAWmD,GAElC,EAAKmH,kBAAkBxG,EAAG,+BAMlC,EAAAuD,oBAAsB,SAAC/E,GAC3B,EAAK4H,YAAW,EAAM,uBAAuB5H,EAAW,oBACxD,EAAAvD,SAAA,kBAA2B2L,kBAAkBpI,GAAaoB,MAAK,WAC3D,EAAKwG,YAAW,EAAO,IACvB,EAAKS,cAAcrI,MACpBuB,OAAM,SAAAC,GAAK,SAAKwG,kBAAkBxG,EAAG,8BAGpC,EAAAoG,WAAa,SAAChL,EAAiB0L,GACnC,EAAKvL,cAAc,CACfwL,sBAAuB3L,EACvB4L,kBAAmBF,OAY/B,OAhR+B,OAMpB,YAAAG,WAAP,sBACI,OACI,kBAAC,aAAc,KACX,kBAAC,EAAAC,YAAW,CAACxF,UAAU,kBAAkB3H,QAAS,EAAAoN,oBAAA,MAA2BC,QAAS,CAAEC,QAAU,cAC9F,kBAAC,KAAc,CAACC,OAAQ,KAE5B,kBAAC,EAAAJ,YAAW,CAACnN,QAAS,EAAAoN,oBAAA,QAA6BI,UAAU,EAAM7F,UAAU,mBAEzC,IAA5B/G,KAAK0D,MAAMsC,MAAM3D,OACb,kBAAC,KAAsB,CAACjC,oBAAqBJ,KAAKI,sBAElD,oCACI,kBAAC,EAAAyM,QAAO,CAAChM,GAAG,UAAUiM,gBAAiB,WACnC,EAAKpM,eAAe,aAAc,CAC9BmD,YAAa,GACba,KAAM,GACNgC,cAAe,OAGnB,kBAAC,EAAAqG,eAAc,KACX,kBAAC,EAAAC,aAAY,KACT,kBAAC,EAAAC,YAAW,CAAClG,UAAU,sCACnB,kBAAC,EAAA3D,OAAM,CACHhE,QAAS,EAAAiE,cAAA,OAAoB,aAClB,YACX7C,SAAUR,KAAKoK,mBACftJ,SAAUd,KAAKuK,mBACf9G,WAAYzD,KAAK0D,MAAM8G,mBACvB/J,OAAQT,KAAK0D,MAAM+G,sBAElBN,EAAkBtH,KAAI,SAACqK,EAAQ1L,GAAU,OACtC,kBAAC,EAAAC,aAAY,CAACC,IAAKF,EAAOG,MAAOuL,SAI7C,kBAAC,EAAAD,YAAW,KACR,kBAAC,EAAAE,WAAU,KAEHnN,KAAKiL,uBACD,kBAAC,EAAA7H,OAAM,CACHhE,QAAS,EAAAiE,cAAA,OAAoB,aAClB,OACX7C,SAAUR,KAAKsK,yBACfxJ,SAAUd,KAAKkL,yBACfzK,OAAQT,KAAK0D,MAAMyH,4BACnBvH,gBAAgB,kBAEhB,kBAAC,EAAAnC,aAAY,CAACC,IAAK,EAAGC,MAAM,kBAC5B,kBAAC,EAAAF,aAAY,CAACC,IAAK,EAAGC,MAAM,YAC5B,kBAAC,EAAAF,aAAY,CAACC,IAAK,EAAGC,MAAM,YAGhC,kBAAC,EAAAyG,UAAS,CAACzG,MAAO3B,KAAK0D,MAAMoH,yBAClBsC,YAAY,oBACZ9E,KAAK,kBAAkBzH,GAAG,kBAC1BwH,KAAK,SAAQ,aAAY,oBACzBnB,UAAWlH,KAAK2K,6BAChBpC,SAAUvI,KAAK0K,0BAElC,kBAAC,EAAA9K,GAAE,CAACC,UAAWG,KAAKgL,yBAChB,kBAAC,EAAA9K,OAAM,CAACd,QAAS,EAAAiO,cAAA,QAAqB,aAAa,iCAAiClN,QAASH,KAAK4K,wBAC9F,kBAAC,EAAA0C,WAAU,UAK3B,kBAAC,EAAAL,YAAW,KACR,kBAAC,EAAA/M,OAAM,CAACd,QAAQ,UAAS,cAAa,mBAAmBe,QAASH,KAAKI,qBAAmB,iBAE9F,kBAAC,EAAAmN,cAAa,CAACC,MAAOxN,KAAK0D,MAAM+F,WAAW5F,YAAYxB,OAAS,EAAI,CAACrC,KAAK0D,MAAM+F,WAAW5F,kBAAec,EACvG8I,WAAY,WACR,EAAK/M,eAAe,aAAc,CAC9BmD,YAAa,GACba,KAAM,EAAKhB,MAAM+F,WAAW/E,KAC5BgC,cAAe,MAGvBgH,aAAa,WAAS,KAC1B,kBAAC,EAAAH,cAAa,CAACC,MAAOxN,KAAK0D,MAAM+F,WAAW/E,KAAKrC,OAAS,EAAI,CAACrC,KAAK0D,MAAM+F,WAAW/E,WAAQC,EACzF8I,WAAY,WACR,EAAK/M,eAAe,aAAc,CAC9BmD,YAAa,EAAKH,MAAM+F,WAAW5F,YACnCa,KAAM,GACNgC,cAAe,EAAKhD,MAAM+F,WAAW/C,iBAG7CgH,aAAa,QAAM,QAKnC,kBAAC,KAAQ,CAAC1H,MAAOhG,KAAK0D,MAAMsC,MAAOyD,WAAYzJ,KAAK0D,MAAM+F,WAAYR,SAAUjJ,KAAK4I,oBAAqBO,kBAAmBnJ,KAAKmJ,sBAGlJ,kBAAC,KAAgB,CAAC1I,OAAQT,KAAK0D,MAAM6H,6BACjCtI,eAAgBjD,KAAK0D,MAAM4H,oBAC3BjH,QAASrE,KAAKoL,sBACdrF,QAAS/F,KAAK8L,kBACd9F,MAAOhG,KAAK0D,MAAM4H,oBAAsBtL,KAAK0D,MAAMsC,MAAQ,KAC3D9C,YAAalD,KAAK0D,MAAM2H,eAC5B,kBAAC,KAAe,CAACc,QAASnM,KAAK0D,MAAM2I,kBACpB5L,OAAQT,KAAK0D,MAAM0I,0BAKtC,YAAAuB,oBAAV,WACI,MAAO,CACHpC,8BAA8B,EAC9Ba,uBAAuB,EACvBd,qBAAqB,EACrBe,kBAAmB,GACnBhB,kBAAc1G,EACdqB,MAAO,GACPyD,WAAY,CAAE5F,YAAa,GAAIa,KAAM,GAAIgC,cAAe,IACxD+D,sBAAsB,EACtBD,mBAAoBL,EAAkB,GACtCW,yBAA0B,GAC1BC,2BAA4B,GAC5BI,6BAA6B,IAK3B,YAAAyC,cAAV,sBACI,OAAO,EAAAtN,SAAA,kBAA2BuN,kBAAkB5I,MAAK,SAAAe,GACrD,EAAKpF,cAAc,CACfkN,WAAW,EACX9H,MAAK,QAkIT,YAAAkG,cAAR,SAAsBrI,GAClB,IAAMkK,EACF/N,KAAK0D,MAAMsC,MAAM7E,QAAO,SAAA6M,GACpB,OAAOA,EAAGnK,cAAgBA,KAElC7D,KAAKU,eAAe,QAASqN,IAGrC,EAhRA,CAA+B","sources":["webpack://@apicurio/registry-ui/./src/app/pages/roles/components/empty/empty.tsx","webpack://@apicurio/registry-ui/./src/app/pages/roles/components/modals/selectPrincipalAccount.tsx","webpack://@apicurio/registry-ui/./src/app/pages/roles/components/modals/grantAccessModal.tsx","webpack://@apicurio/registry-ui/./src/app/pages/roles/components/roleList/roleList.tsx","webpack://@apicurio/registry-ui/./src/app/pages/roles/roles.tsx"],"sourcesContent":["/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport {Button, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title} from '@patternfly/react-core';\nimport {PlusCircleIcon} from \"@patternfly/react-icons\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../../../../components\";\nimport {If} from \"../../../../components/common/if\";\nimport {Services} from \"../../../../../services\";\n\n/**\n * Properties\n */\nexport interface RoleMappingsEmptyStateProps extends PureComponentProps {\n    isFiltered?: boolean;\n    onCreateRoleMapping?: ()=>void;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface RoleMappingsEmptyStateState extends PureComponentState {\n}\n\n\n/**\n * Models the empty state for the Artifacts page (when there are no artifacts).\n */\nexport class RoleMappingsEmptyState extends PureComponent<RoleMappingsEmptyStateProps, RoleMappingsEmptyStateState> {\n\n    constructor(props: Readonly<RoleMappingsEmptyStateProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <EmptyState variant={EmptyStateVariant.full}>\n                <EmptyStateIcon icon={PlusCircleIcon}/>\n                <Title headingLevel=\"h5\" size=\"lg\">\n                    No roles assigned\n                </Title>\n                <If condition={() => this.props.isFiltered === true}>\n                    <EmptyStateBody>No role mappings match your filter settings.  Change your filter or perhaps create a new role mapping.</EmptyStateBody>\n                </If>\n                <If condition={() => !this.props.isFiltered}>\n                    <EmptyStateBody>{ this.emptyStateBodyText() }</EmptyStateBody>\n                    <Button variant=\"primary\" data-testid=\"btn-grant-access\" onClick={this.props.onCreateRoleMapping}>Grant access</Button>\n                </If>\n            </EmptyState>\n        );\n    }\n\n    protected initializeState(): RoleMappingsEmptyStateState {\n        return {};\n    }\n\n    private emptyStateBodyText() {\n        if (Services.getConfigService().featureMultiTenant()) {\n            return \"The Service Registry instance owner and organization administrators have access to resources in this instance. Grant other accounts access by assigning roles.\";\n        } else {\n            return \"There are currently no role mappings configured for the registry.  Click the \\\"Grant access\\\" button above to grant access to a user.\";\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Divider, Select, SelectGroup, SelectOption, SelectVariant, } from '@patternfly/react-core';\nimport { PureComponent, PureComponentProps, PureComponentState } from \"../../../../components\";\nimport { Principal } from '../../../../../services/config';\nimport {RoleMapping} from \"../../../../../models\";\n\nexport interface SelectPrincipalAccountProps extends PureComponentProps {\n    id: string | undefined;\n    onIdUpdate: (id: string) => void;\n    initialOptions: Principal[];\n    onToggle: (isOpen: boolean) => void;\n    isUpdateAccess: boolean;\n    defaultRole?: RoleMapping;\n}\n\nexport interface SelectPrincipalAccountState extends PureComponentState {\n    id: string | undefined;\n    isOpen: boolean;\n}\n\nexport class SelectPrincipalAccount extends PureComponent<SelectPrincipalAccountProps, SelectPrincipalAccountState> {\n\n    constructor(props: Readonly<SelectPrincipalAccountProps>) {\n        super(props);\n    }\n\n    componentDidUpdate(prevProps: SelectPrincipalAccountProps){\n        if (this.props.id && this.props.id !== prevProps.id) {\n            this.setSingleState(\"id\", this.props.id);\n        }\n    }\n\n    private onToggle = (isOpen: boolean) => {\n        this.setSingleState(\"isOpen\", isOpen);\n        this.props.onToggle(isOpen);\n    };\n\n    private clearSelection = () => {\n        this.setMultiState({\n            id: \"\",\n            isOpen: false\n        });\n    };\n\n    private onSelect = (_event: any, selection: any, isPlaceholder: any) => {\n        if (isPlaceholder) {\n            this.clearSelection();\n        } else {\n            this.setSingleState(\"id\", selection);\n            this.onToggle(false);\n        }\n        this.props.onIdUpdate(selection);\n    };\n\n    protected initializeState(): SelectPrincipalAccountState {\n        return {\n            id: \"\",\n            isOpen: false\n        };\n    }\n\n    public render(): React.ReactElement {\n        const {isUpdateAccess, defaultRole} = this.props;\n        const children: React.ReactElement[] = this.filter(null, \"\");\n\n        return (\n            <Select\n                variant={SelectVariant.typeahead}\n                typeAheadAriaLabel={\"Select an account\"}\n                createText={\"Use\"}\n                onToggle={this.onToggle}\n                onSelect={this.onSelect}\n                onClear={this.clearSelection}\n                selections={this.state.id}\n                isOpen={this.state.isOpen}\n                isInputValuePersisted={true}\n                placeholderText={isUpdateAccess ? defaultRole?.principalId : \"Select an account\"}\n                isCreatable={true}\n                menuAppendTo=\"parent\"\n                maxHeight={400}\n                isGrouped={true}\n                onFilter={this.filter}\n                children={children}\n                isDisabled={isUpdateAccess}\n            />\n        );\n    };\n\n    private filter = (event: any, criteria: string): React.ReactElement[] => {\n        const principalToSelectOption: (p: Principal, index: number) => React.ReactElement = (principal: Principal, index: number): React.ReactElement => {\n            return (\n                <SelectOption\n                    key={index}\n                    value={principal.id}\n                    description={principal.displayName}\n                >\n                    {principal.id}\n                </SelectOption>\n            )\n        };\n\n        const filteredSAs: Principal[] = this.props.initialOptions.filter(\n            (principal) =>\n                principal.principalType === \"SERVICE_ACCOUNT\"\n        ).filter(\n            (principal) =>\n                principal.id.toLowerCase().includes(criteria.toLowerCase()) ||\n                principal.displayName?.toLowerCase().includes(criteria.toLowerCase())\n        );\n        const filteredUsers: Principal[] = this.props.initialOptions.filter(\n            (principal) =>\n                principal.principalType === \"USER_ACCOUNT\"\n        ).filter(\n            (principal) =>\n                principal.id.toLowerCase().includes(criteria.toLowerCase()) ||\n                principal.displayName?.toLowerCase().includes(criteria.toLowerCase())\n        );\n\n        let rval: React.ReactElement[] = [];\n\n        if (filteredSAs.length > 0) {\n            rval.push(\n                <SelectGroup label={\"Service accounts\"} key=\"service_accounts_group\">\n                    {\n                        filteredSAs.sort((a, b) => a.displayName && b.displayName ? a.displayName.localeCompare(b.displayName) : -1).\n                            map(principalToSelectOption)\n                    }\n                </SelectGroup>,\n            );\n        }\n\n        if (filteredSAs.length > 0 && filteredUsers.length > 0) {\n            rval.push(\n                <Divider key='divider' />,\n            );\n        }\n\n        if (filteredUsers.length > 0) {\n            rval.push(\n                <SelectGroup label={\"User accounts\"} key=\"user_accounts_group\">\n                    {\n                        filteredUsers.map(principalToSelectOption)\n                    }\n                </SelectGroup>,\n            );\n        }\n\n        return rval;\n    }\n\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport {\n    Button,\n    DescriptionList,\n    DescriptionListDescription,\n    DescriptionListGroup,\n    DescriptionListTerm,\n    Form,\n    FormGroup,\n    Modal, Popover,\n    Radio,\n    SelectOptionObject,\n    TextInput\n} from '@patternfly/react-core';\nimport {Principal, Services} from \"../../../../../services\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../../../../components\";\nimport {RoleMapping, RoleTypes} from \"../../../../../models\";\nimport {OutlinedQuestionCircleIcon} from '@patternfly/react-icons'\nimport {SelectPrincipalAccount} from \"./selectPrincipalAccount\";\nimport \"./grantAccessModal.css\";\n\n/**\n * Properties\n */\nexport interface GrantAccessModalProps extends PureComponentProps {\n    isOpen: boolean;\n    isUpdateAccess: boolean;\n    serviceRegistryInstance?: string;\n    accountId?: string;\n    roles: null | RoleMapping[];\n    defaultRole?: RoleMapping;\n    onClose: () => void;\n    onGrant: (principal: Principal, role: string, isUpdate: boolean) => void;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface GrantAccessModalState extends PureComponentState {\n    isAccountIDSelectOpen: boolean;\n    isValid: boolean;\n    accountId: string | undefined;\n    accountName: string | undefined;\n    role: string | undefined;\n    escapeClosesModal: boolean;\n    isFetchingMappingRole: boolean;\n    currentRole: string | undefined;\n}\n\n\n/**\n * Models the modal dialog for granting access to a user.\n */\nexport class GrantAccessModal extends PureComponent<GrantAccessModalProps, GrantAccessModalState> {\n\n    constructor(props: Readonly<GrantAccessModalProps>) {\n        super(props);\n    }\n\n    public componentDidMount() {\n        this.setMultiState({\n            accountId: \"\",\n            accountName: \"\",\n            role: undefined\n        });\n    }\n\n    public componentDidUpdate(prevProps: GrantAccessModalProps, prevState: GrantAccessModalState) {\n        if (this.props.defaultRole !== prevProps.defaultRole) {\n            if (this.props.defaultRole) {\n                this.setMultiState({\n                    accountId: this.props.defaultRole.principalId,\n                    accountName: this.props.defaultRole.principalName,\n                    currentRole: this.props.defaultRole.role,\n                    role: this.props.defaultRole.role\n                });\n            }\n        }\n\n        if (prevState.accountId !== this.state.accountId || prevState.role !== this.state.role) {\n            this.setSingleState(\"isValid\", this.checkValid(this.state.accountId, this.state.role));\n        }\n    }\n\n    public render(): React.ReactElement {\n        const {isFetchingMappingRole, accountId} = this.state;\n        const {isUpdateAccess, defaultRole} = this.props;\n        const principals: Principal[] | undefined =Services.getConfigService().principals();\n\n        return (\n            <Modal\n                title=\"Grant access\"\n                description={this.modalDescription()}\n                variant=\"medium\"\n                isOpen={this.props.isOpen}\n                onClose={this.closeModal}\n                className=\"grant-access-modal pf-m-redhat-font\"\n                onEscapePress={this.escapePressed}\n                onKeyPress={this.onKey}\n                onKeyDown={this.onKey}\n                onKeyUp={this.onKey}\n                actions={[\n                    <Button key=\"grant\" variant=\"primary\" data-testid=\"modal-btn-grant\" onClick={this.doGrantAccess} isDisabled={!this.state.isValid || isFetchingMappingRole}>Save</Button>,\n                    <Button key=\"cancel\" variant=\"link\" data-testid=\"modal-btn-cancel\" onClick={this.closeModal}>Cancel</Button>\n                ]}\n            >\n                <Form>\n                    {this.props.serviceRegistryInstance !== undefined ? (<DescriptionList>\n                        <DescriptionListGroup>\n                            <DescriptionListTerm>Service Registry instance</DescriptionListTerm>\n                            <DescriptionListDescription>{this.props.serviceRegistryInstance}</DescriptionListDescription>\n                        </DescriptionListGroup>\n                    </DescriptionList>\n                    ) : undefined}\n\n                    <FormGroup\n                        label=\"Account\"\n                        labelIcon={\n                            <Popover aria-label=\"Account help\"\n                                     headerContent={\n                                         <span>Account help</span>\n                                     }\n                                     bodyContent={\n                                         <div>A service account enables your application or tool to connect securely to\n                                             your resources. A user account enables users in your organization to access\n                                             resources.</div>\n                                     }\n                            >\n                                <OutlinedQuestionCircleIcon/>\n                            </Popover>\n                        }\n                        isRequired\n                        fieldId=\"grant-access-account-id\"\n                    >\n                         {principals ?\n                          <SelectPrincipalAccount\n                            id={this.state.accountId}\n                            onToggle={this.onAccountSelectToggle}\n                            onIdUpdate={(id: string) => {\n                                this.onAccountIDSelect(null, id, false);\n                            }}\n                            initialOptions={principals || []}\n                            isUpdateAccess={isUpdateAccess}\n                            defaultRole={defaultRole}\n                            />:\n                            <TextInput\n                                isRequired\n                                type=\"text\"\n                                id=\"grant-access-principal\"\n                                name=\"grant-access-principal\"\n                                aria-describedby=\"grant-access-principal-helper\"\n                                onChange={this.handlePrincipalChange}\n                                value={accountId}\n                                isDisabled={isUpdateAccess}\n                            />\n                        }\n                    </FormGroup>\n                    {accountId &&\n                    <FormGroup\n                        label=\"Role\"\n                        isRequired\n                        fieldId=\"grant-access-role\"\n                    >\n                        <Radio id=\"grant-access-role-admin\"\n                            className=\"grant-access-radio-button\"\n                            name=\"grant-access-role\"\n                            label={this.appendString(\"Administrator\",RoleTypes.ADMIN)}\n                            description=\"Assign roles to other accounts on this Service Registry instance, configure global rules, and access data import and export features.\"\n                            value={RoleTypes.ADMIN}\n                            onChange={this.handleRoleChange}\n                            isChecked={this.state.role == RoleTypes.ADMIN}\n                            isDisabled={isFetchingMappingRole}\n                        />\n\n                        <Radio id=\"grant-access-role-manager\"\n                            className=\"grant-access-radio-button\"\n                            name=\"grant-access-role\"\n                            label={this.appendString(\"Manager\",RoleTypes.DEVELOPER)}\n                            description=\"Read and write artifacts on this Service Registry instance.\"\n                            value={RoleTypes.DEVELOPER}\n                            onChange={this.handleRoleChange}\n                            isChecked={this.state.role == RoleTypes.DEVELOPER}\n                            isDisabled={isFetchingMappingRole}\n                            />\n\n                        <Radio id=\"grant-access-role-viewer\"\n                            className=\"grant-access-radio-button\"\n                            name=\"grant-access-role\"\n                            label={this.appendString(\"Viewer\",RoleTypes.READ_ONLY)}\n                            description=\"Read artifacts on this Service Registry instance.\"\n                            value={RoleTypes.READ_ONLY}\n                            onChange={this.handleRoleChange}\n                            isChecked={this.state.role == RoleTypes.READ_ONLY}\n                            isDisabled={isFetchingMappingRole}\n                            />\n                    </FormGroup>\n                   }\n                </Form>\n\n            </Modal>\n        );\n    }\n\n    protected initializeState(): GrantAccessModalState {\n        return {\n            accountId: \"\",\n            accountName: \"\",\n            currentRole: undefined,\n            escapeClosesModal: true,\n            isAccountIDSelectOpen: false,\n            isFetchingMappingRole: false,\n            isValid: false,\n            role: undefined\n        };\n    }\n\n    private closeModal = () => {\n        const {onClose} = this.props;\n        if (onClose) {\n            onClose();\n        }\n        this.reset();\n    }\n\n    private appendString(roleName: string, roleType: RoleTypes): string {\n        const {currentRole} = this.state;\n        if (currentRole === roleType) {\n            return `${roleName} (current role)`;\n        }\n        return roleName;\n    }\n\n    private reset(): void {\n        this.setMultiState(this.initializeState());\n    }\n\n    private onAccountIDClearSelection = () => {\n        this.setMultiState({\n          accountID: \"\",\n          isAccountIDSelectOpen: false,\n          role: undefined\n        });\n      };\n\n    private handlePrincipalChange = (value: string): void => {\n        this.setMultiState({\n            accountId: value,\n            isValid: this.checkValid(value, this.state.role)\n        })\n    };\n\n    private getRoleMapping = () => {\n        const {accountId} = this.state;\n        if (accountId) {\n            this.setSingleState(\"isFetchingMappingRole\", true);\n            Services.getAdminService().getRoleMapping(accountId).then(({role}) => {\n                this.setMultiState({\n                    role,\n                    isFetchingMappingRole: false,\n                    currentRole: role\n                });\n            }).catch((e) => {\n                this.setMultiState({\n                    role: RoleTypes.READ_ONLY,\n                    isFetchingMappingRole: false\n                });\n            });\n        }\n    };\n\n    private onAccountIDSelect = (_event: any, selection: string | SelectOptionObject, isPlaceholder: boolean | undefined) => {\n        if (isPlaceholder) {\n            this.onAccountIDClearSelection();\n        } else {\n            const newState: any = {\n                accountId: selection,\n                accountName: this.getAccountName(selection as string),\n                isAccountIDSelectOpen: false\n            };\n            this.setMultiState(newState, () => {\n                this.getRoleMapping();\n            });\n        }\n      };\n\n\n    private handleRoleChange = (isChecked: boolean, event: any): void => {\n        this.setMultiState({\n            isValid: this.checkValid(this.state.accountId, event.target.value),\n            role: event.target.value\n        });\n    };\n\n    private doGrantAccess = (): void => {\n        const principal: Principal = {\n            displayName: this.state.accountName,\n            id: this.state.accountId as string,\n            principalType: \"USER_ACCOUNT\"\n        };\n        this.props.onGrant(principal,\n            this.state.role as string,\n            this.props.roles?.find(role => role.principalId == this.state.accountId) !== undefined);\n        this.reset();\n    }\n\n    private checkValid(accountId: SelectOptionObject | string | undefined, role: string | undefined): boolean {\n        if (!accountId || !role) {\n            return false;\n        }\n        return true;\n    }\n\n    private getAccountName(accountId: string): string | undefined {\n        const principals: Principal[] | undefined = Services.getConfigService().principals();\n        if (principals) {\n            for (const principal of principals) {\n                if (principal.id === accountId) {\n                    return principal.displayName;\n                }\n            }\n        }\n        return undefined;\n    }\n\n    private modalDescription() {\n        if (Services.getConfigService().featureMultiTenant()) {\n            return \"Grant access to resources in this Service Registry instance by assigning a role to an account.\";\n        } else {\n            return \"Grant access to resources in the Registry by assigning permissions to an account\";\n        }\n    }\n\n    private escapePressed = (): void => {\n        if (this.state.escapeClosesModal) {\n           this.closeModal();\n        }\n    };\n\n    private onAccountSelectToggle = (isOpen: boolean): void => {\n        this.setSingleState(\"escapeClosesModal\", !isOpen);\n    };\n\n    private onKey = (event: any) => {\n        if (event.key === \"Enter\") {\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    };\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport \"./roleList.css\";\nimport {\n    Button,\n    Modal\n} from '@patternfly/react-core';\nimport { TableComposable, Thead, Tbody, Tr, Th, Td } from '@patternfly/react-table';\nimport { PureComponent, PureComponentProps, PureComponentState } from \"../../../../components\";\nimport { RoleMapping, RoleTypes } from \"../../../../../models\";\nimport { RoleMappingsEmptyState } from '../empty';\nimport {Services} from \"../../../../../services\";\n\n/**\n * Properties\n */\nexport interface RoleListProps extends PureComponentProps {\n    roles: RoleMapping[];\n    roleFilter: RoleMapping;\n    onRevoke: (principalId: string) => void;\n    onEditRoleMapping: (role: RoleMapping) => void;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface RoleListState extends PureComponentState {\n    isRevokeModalOpen: boolean;\n    revokingPrincipalId: string;\n    currentRole: RoleMapping;\n}\n\n/**\n * Models the list of roles.\n */\nexport class RoleList extends PureComponent<RoleListProps, RoleListState> {\n\n    constructor(props: Readonly<RoleListProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n\n        const roleActions = (role: RoleMapping) => [\n            {\n                title: 'Edit',\n                onClick: () => { this.props.onEditRoleMapping(role)}\n            },\n            {\n                title: 'Remove',\n                onClick: () => {this.onRevokeRoleMapping(role.principalId)}\n            }\n        ];\n\n        let filteredRoles = this.props.roles.sort((rm1, rm2) => {\n            return rm1.principalId.localeCompare(rm2.principalId);\n        }).filter((role: RoleMapping)=>{\n            let match: boolean = false;\n            let mustMatch: boolean = false;\n            if(this.props.roleFilter.principalId.length > 0) {\n                mustMatch = true;\n                match = match || role.principalId.toLowerCase().includes(this.props.roleFilter.principalId.toLowerCase());\n            }\n            if(this.props.roleFilter.principalName.length > 0) {\n                mustMatch = true;\n                match = match || role.principalName.toLowerCase().includes(this.props.roleFilter.principalName.toLowerCase());\n            }\n            return mustMatch ? match : true;\n        }).filter((role: RoleMapping)=>{\n            if (this.props.roleFilter.role.length > 0) {\n                switch (role.role) {\n                    case RoleTypes.DEVELOPER:\n                        return \"Manager\" == this.props.roleFilter.role;\n                    case RoleTypes.ADMIN:\n                        return \"Administrator\" == this.props.roleFilter.role;\n                    case RoleTypes.READ_ONLY:\n                        return \"Viewer\" == this.props.roleFilter.role;\n                }\n            }\n            return true;\n        });\n        return (\n            filteredRoles.length === 0 ?\n                <RoleMappingsEmptyState isFiltered={true}/> :\n            <React.Fragment>\n                <TableComposable className=\"role-list\">\n                    <Thead>\n                        <Tr>\n                            {/* <Th\n                            /> */}\n                            <Th>Account</Th>\n                            <Th>Role</Th>\n                        </Tr>\n                    </Thead>\n                    <Tbody>\n                        {filteredRoles.map((role, rowIndex) =>\n\n                            <Tr key={rowIndex}>\n                                {/* Disable for now until we want to support multi-select.\n                                <Td\n                                    key={`${rowIndex}_0`}\n                                    select={{\n                                        rowIndex,\n                                        onSelect: this.onSelect,\n                                        isSelected: false,\n                                    }}\n                                /> */}\n                                <Td>\n                                    <div className=\"principal-id\">{ role.principalId }</div>\n                                    <div className=\"principal-name\">{ role.principalName }</div>\n                                </Td>\n                                <Td>{this.roleName(role.role)}</Td>\n                                <Td className = \"role-list-action-column\"\n                                    key={`${rowIndex}_2`}\n                                    actions={{\n                                        items: roleActions(role)\n                                    }}\n                                />\n                            </Tr>\n                        )\n                        }\n                    </Tbody>\n                </TableComposable>\n                <Modal\n                    title=\"Remove role?\"\n                    variant=\"small\"\n                    isOpen={this.state.isRevokeModalOpen}\n                    onClose={this.onRevokeModalClose}\n                    className=\"revoke-access-modal pf-m-redhat-font\"\n                    actions={[\n                        <Button key=\"revoke\" variant=\"primary\" data-testid=\"modal-btn-revoke\" onClick={this.doRevokeAccess}>Remove</Button>,\n                        <Button key=\"cancel\" variant=\"link\" data-testid=\"modal-btn-cancel\" onClick={this.onRevokeModalClose}>Cancel</Button>\n                    ]}\n                >\n                    <p>{ this.removeRoleConfirmModalBodyText() }</p>\n                </Modal>\n            </React.Fragment>\n        );\n    }\n\n    protected initializeState(): RoleListState {\n        return {\n            isRevokeModalOpen: false,\n            revokingPrincipalId: \"\",\n            currentRole: this.props.roles[0],\n        };\n    }\n\n    private roleName(role: string): string {\n        switch (role) {\n            case RoleTypes.DEVELOPER:\n                return \"Manager\";\n            case RoleTypes.ADMIN:\n                return \"Administrator\";\n            case RoleTypes.READ_ONLY:\n                return \"Viewer\";\n        }\n        return role;\n    }\n\n    private onRevokeRoleMapping = (principalId: string) => {\n        this.setMultiState({\n            isRevokeModalOpen: true,\n            revokingPrincipalId: principalId\n        });\n    };\n\n    private onRevokeModalClose = (): void => {\n        this.setSingleState(\"isRevokeModalOpen\", false);\n    };\n\n    private doRevokeAccess = (): void => {\n        this.onRevokeModalClose();\n        this.props.onRevoke(this.state.revokingPrincipalId);\n    }\n\n    private removeRoleConfirmModalBodyText() {\n        if (Services.getConfigService().featureMultiTenant()) {\n            return `Do you really want to revoke ${this.state.revokingPrincipalId}'s access?`;\n        } else {\n            return `${this.state.revokingPrincipalId} will no longer have access to this Service Registry instance.`;\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport \"./roles.css\";\nimport {\n    Button,\n    ButtonVariant,\n    InputGroup,\n    PageSection,\n    PageSectionVariants,\n    Select,\n    SelectOption,\n    SelectOptionObject,\n    SelectVariant,\n    TextInput,\n    Toolbar,\n    ToolbarContent,\n    ToolbarFilter,\n    ToolbarGroup,\n    ToolbarItem\n} from '@patternfly/react-core';\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport {PageComponent, PageProps, PageState} from \"../basePage\";\nimport {RoleMapping} from \"../../../models\";\nimport {Principal, Services} from \"../../../services\";\nimport {GrantAccessModal, RoleList, RoleMappingsEmptyState} from \"./components\";\nimport {PleaseWaitModal, RootPageHeader} from \"../../components\";\nimport {If} from \"../../components/common/if\";\n\n\n/**\n * Properties\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface RolesPageProps extends PageProps {\n    principalSelect: any\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface RolesPageState extends PageState {\n    isCreateRoleMappingModalOpen: boolean;\n    isRoleMappingUpdate: boolean;\n    roles: RoleMapping[];\n    roleFilter: RoleMapping;\n    roleListFilterOpened: boolean;\n    roleFilterSelected: string;\n    roleFilterTextInputValue: string;\n    roleFilterSelectInputValue: string;\n    roleFilterSelectInputOpened: boolean;\n    selectedRole: RoleMapping | undefined;\n    isPleaseWaitModalOpen: boolean;\n    pleaseWaitMessage: string;\n}\n\nconst roleFilterOptions = ['Account', 'Role'];\n/**\n * The global roles page.\n */\nexport class RolesPage extends PageComponent<RolesPageProps, RolesPageState> {\n\n    constructor(props: Readonly<RolesPageProps>) {\n        super(props);\n    }\n\n    public renderPage(): React.ReactElement {\n        return (\n            <React.Fragment>\n                <PageSection className=\"ps_roles-header\" variant={PageSectionVariants.light} padding={{ default : \"noPadding\" }}>\n                    <RootPageHeader tabKey={2} />\n                </PageSection>\n                <PageSection variant={PageSectionVariants.default} isFilled={true} className=\"ps_role-section\">\n                    {\n                        this.state.roles.length === 0 ?\n                            <RoleMappingsEmptyState onCreateRoleMapping={this.onCreateRoleMapping}/>\n                            :\n                            <>\n                                <Toolbar id=\"toolbar\" clearAllFilters={() => {\n                                    this.setSingleState(\"roleFilter\", {\n                                        principalId: \"\",\n                                        role: \"\",\n                                        principalName: \"\"\n                                    });\n                                }}>\n                                    <ToolbarContent>\n                                        <ToolbarGroup>\n                                            <ToolbarItem className=\"ps_role-filter-select-toolbar-item\">\n                                                <Select\n                                                    variant={SelectVariant.single}\n                                                    aria-label=\"Filter On\"\n                                                    onToggle={this.onRoleFilterToggle}\n                                                    onSelect={this.onRoleFilterSelect}\n                                                    selections={this.state.roleFilterSelected}\n                                                    isOpen={this.state.roleListFilterOpened}\n                                                >\n                                                    {roleFilterOptions.map((option, index) => (\n                                                        <SelectOption key={index} value={option} />\n                                                    ))}\n                                                </Select>\n                                            </ToolbarItem>\n                                            <ToolbarItem>\n                                                <InputGroup>\n                                                    {\n                                                        this.isRoleFilterSelected() ?\n                                                            <Select\n                                                                variant={SelectVariant.single}\n                                                                aria-label=\"Role\"\n                                                                onToggle={this.onRoleFilterSelectToggle}\n                                                                onSelect={this.onRoleFilterSelectChange}\n                                                                isOpen={this.state.roleFilterSelectInputOpened}\n                                                                placeholderText=\"Filter by role\"\n                                                            >\n                                                                <SelectOption key={1} value=\"Administrator\" />\n                                                                <SelectOption key={2} value=\"Manager\" />\n                                                                <SelectOption key={3} value=\"Viewer\" />\n                                                            </Select>\n                                                            :\n                                                            <TextInput value={this.state.roleFilterTextInputValue}\n                                                                       placeholder=\"Filter by account\"\n                                                                       name=\"roleFilterInput\" id=\"roleFilterInput\"\n                                                                       type=\"search\" aria-label=\"role filter input\"\n                                                                       onKeyDown={this.onRoleFilterTextInputKeydown}\n                                                                       onChange={this.onRoleFilterInputChange} />\n                                                    }\n                                                    <If condition={this.isAccountFilterSelected}>\n                                                        <Button variant={ButtonVariant.control} aria-label=\"search button for search input\" onClick={this.onRoleFilterApplyClick}>\n                                                            <SearchIcon />\n                                                        </Button>\n                                                    </If>\n                                                </InputGroup>\n                                            </ToolbarItem>\n                                            <ToolbarItem>\n                                                <Button variant=\"primary\" data-testid=\"btn-grant-access\" onClick={this.onCreateRoleMapping}>Grant access</Button>\n                                            </ToolbarItem>\n                                            <ToolbarFilter chips={this.state.roleFilter.principalId.length > 0 ? [this.state.roleFilter.principalId] : undefined}\n                                                deleteChip={() => {\n                                                    this.setSingleState(\"roleFilter\", {\n                                                        principalId: \"\",\n                                                        role: this.state.roleFilter.role,\n                                                        principalName: \"\"\n                                                    });\n                                                }}\n                                                categoryName=\"Account\"> </ToolbarFilter>\n                                            <ToolbarFilter chips={this.state.roleFilter.role.length > 0 ? [this.state.roleFilter.role] : undefined}\n                                                deleteChip={() => {\n                                                    this.setSingleState(\"roleFilter\", {\n                                                        principalId: this.state.roleFilter.principalId,\n                                                        role: \"\",\n                                                        principalName: this.state.roleFilter.principalName,\n                                                    });\n                                                }}\n                                                categoryName=\"Role\"> </ToolbarFilter>\n\n                                        </ToolbarGroup>\n                                    </ToolbarContent>\n                                </Toolbar>\n                                <RoleList roles={this.state.roles} roleFilter={this.state.roleFilter} onRevoke={this.onRevokeRoleMapping} onEditRoleMapping={this.onEditRoleMapping}></RoleList>\n                            </>}\n                </PageSection>\n                <GrantAccessModal isOpen={this.state.isCreateRoleMappingModalOpen}\n                    isUpdateAccess={this.state.isRoleMappingUpdate}\n                    onClose={this.closeRoleMappingModal}\n                    onGrant={this.createRoleMapping}\n                    roles={this.state.isRoleMappingUpdate ? this.state.roles : null}\n                    defaultRole={this.state.selectedRole} />\n                <PleaseWaitModal message={this.state.pleaseWaitMessage}\n                                 isOpen={this.state.isPleaseWaitModalOpen} />\n            </React.Fragment>\n        );\n    }\n\n    protected initializePageState(): RolesPageState {\n        return {\n            isCreateRoleMappingModalOpen: false,\n            isPleaseWaitModalOpen: false,\n            isRoleMappingUpdate: false,\n            pleaseWaitMessage: \"\",\n            selectedRole: undefined,\n            roles: [],\n            roleFilter: { principalId: \"\", role: \"\", principalName: \"\" },\n            roleListFilterOpened: false,\n            roleFilterSelected: roleFilterOptions[0],\n            roleFilterTextInputValue: \"\",\n            roleFilterSelectInputValue: \"\",\n            roleFilterSelectInputOpened: false\n        };\n    }\n\n    // @ts-ignore\n    protected createLoaders(): Promise {\n        return Services.getAdminService().getRoleMappings().then(roles => {\n            this.setMultiState({\n                isLoading: false,\n                roles\n            });\n        });\n    }\n\n    private onRoleFilterToggle = (isExpanded: boolean): void => {\n        this.setSingleState(\"roleListFilterOpened\", isExpanded)\n    }\n    private onRoleFilterSelectToggle = (isExpanded: boolean): void => {\n        this.setSingleState(\"roleFilterSelectInputOpened\", isExpanded)\n    }\n\n    private onRoleFilterSelect = (_event: any, selection: string | SelectOptionObject, isPlaceholder: boolean | undefined) => {\n        this.setMultiState({\n            roleFilterSelected: selection as string,\n            roleListFilterOpened: false\n        });\n    };\n\n    private onRoleFilterInputChange = (value: string) => {\n        this.setSingleState(\"roleFilterTextInputValue\", value)\n    }\n    private onRoleFilterTextInputKeydown = (event: any) => {\n        if (event.key === \"Enter\") {\n            this.onRoleFilterApplyClick();\n        }\n    };\n    private onRoleFilterApplyClick = () => {\n        let newRoleMappingFilter: RoleMapping = {\n            principalId: this.state.roleFilterSelected == roleFilterOptions[0] ? this.state.roleFilterTextInputValue : this.state.roleFilter?.principalId,\n            role: this.state.roleFilterSelected == roleFilterOptions[1] ? this.state.roleFilterSelectInputValue : this.state.roleFilter.role,\n            principalName: this.state.roleFilterSelected == roleFilterOptions[0] ? this.state.roleFilterTextInputValue : this.state.roleFilter?.principalId\n        }\n        this.setMultiState({\n            roleFilter: newRoleMappingFilter,\n            roleFilterTextInputValue: \"\"\n        });\n    }\n    private onCreateRoleMapping = (): void => {\n        this.setSingleState(\"isCreateRoleMappingModalOpen\", true);\n    };\n\n    private isAccountFilterSelected = (): boolean => {\n        return this.state.roleFilterSelected == roleFilterOptions[0];\n    };\n    private isRoleFilterSelected = (): boolean => {\n        return this.state.roleFilterSelected == roleFilterOptions[1];\n    };\n\n    private onRoleFilterSelectChange = (_event: any, selection: string | SelectOptionObject, isPlaceholder: boolean | undefined) => {\n        this.setMultiState({\n            roleFilterSelectInputValue: selection as string,\n            roleFilterSelectInputOpened: false\n        }, () => this.onRoleFilterApplyClick());\n    };\n\n    private closeRoleMappingModal = (): void => {\n        this.setMultiState({\n            selectedRole: undefined,\n            isRoleMappingUpdate: false,\n            isCreateRoleMappingModalOpen: false\n        });\n    };\n\n    private onEditRoleMapping = (role: RoleMapping) => {\n        this.setMultiState({\n            selectedRole: role,\n            isRoleMappingUpdate: true\n        })\n        this.onCreateRoleMapping();\n    }\n\n    private updateRoleMapping = (principal: Principal, role: string): void => {\n        this.pleaseWait(true, \"Granting access, please wait...\");\n        Services.getAdminService().updateRoleMapping(principal.id, role).then((mapping) => {\n            const currentRoleMappings = this.state.roles;\n            currentRoleMappings.forEach((role, index) => {\n                if (role.principalId === mapping.principalId) {\n                    currentRoleMappings[index] = {\n                        ...mapping,\n                        principalName: principal.displayName as string\n                    };\n                }\n            });\n\n            this.pleaseWait(false, \"\");\n            this.setSingleState(\"roles\", [\n                ...currentRoleMappings\n            ]);\n        }).catch(e => this.handleServerError(e, \"Error updating access.\"));\n    };\n\n    private createRoleMapping = (principal: Principal, role: string, isUpdate: boolean): void => {\n        this.closeRoleMappingModal();\n        if (isUpdate) {\n            this.updateRoleMapping(principal, role);\n        } else {\n            this.pleaseWait(true, \"Granting access, please wait...\");\n            Services.getAdminService().createRoleMapping(principal.id, role, principal.displayName as string).then((mapping) => {\n                this.pleaseWait(false, \"\");\n                this.setSingleState(\"roles\", [\n                    mapping, ...this.state.roles\n                ]);\n            }).catch(e => {\n                if (e?.error_code === 409) {\n                    // If we get a conflict when trying to create, that means the mapping already exists\n                    // and we should instead update.\n                    this.updateRoleMapping(principal, role);\n                } else {\n                    this.handleServerError(e, \"Error granting access.\");\n                }\n            });\n        }\n    };\n\n    private onRevokeRoleMapping = (principalId: string): void => {\n        this.pleaseWait(true, `Revoking access for ${principalId}, please wait...`);\n        Services.getAdminService().deleteRoleMapping(principalId).then(() => {\n            this.pleaseWait(false, \"\");\n            this.removeMapping(principalId);\n        }).catch(e => this.handleServerError(e, \"Error revoking access.\"));\n    };\n\n    private pleaseWait = (isOpen: boolean, message: string): void => {\n        this.setMultiState({\n            isPleaseWaitModalOpen: isOpen,\n            pleaseWaitMessage: message\n        });\n    };\n\n    private removeMapping(principalId: string): void {\n        const newRoles: RoleMapping[] =\n            this.state.roles.filter(rm => {\n                return rm.principalId !== principalId;\n            });\n        this.setSingleState(\"roles\", newRoles);\n    }\n\n}\n"],"names":["props","render","EmptyState","variant","EmptyStateVariant","EmptyStateIcon","icon","PlusCircleIcon","Title","headingLevel","size","If","condition","isFiltered","EmptyStateBody","this","emptyStateBodyText","Button","onClick","onCreateRoleMapping","initializeState","Services","featureMultiTenant","onToggle","isOpen","setSingleState","clearSelection","setMultiState","id","onSelect","_event","selection","isPlaceholder","onIdUpdate","filter","event","criteria","principalToSelectOption","principal","index","SelectOption","key","value","description","displayName","filteredSAs","initialOptions","principalType","toLowerCase","includes","filteredUsers","rval","length","push","SelectGroup","label","sort","a","b","localeCompare","map","Divider","componentDidUpdate","prevProps","isUpdateAccess","defaultRole","children","Select","SelectVariant","typeAheadAriaLabel","createText","onClear","selections","state","isInputValuePersisted","placeholderText","principalId","isCreatable","menuAppendTo","maxHeight","isGrouped","onFilter","isDisabled","closeModal","onClose","reset","onAccountIDClearSelection","accountID","isAccountIDSelectOpen","role","undefined","handlePrincipalChange","accountId","isValid","checkValid","getRoleMapping","then","isFetchingMappingRole","currentRole","catch","e","RoleTypes","onAccountIDSelect","newState","accountName","getAccountName","handleRoleChange","isChecked","target","doGrantAccess","onGrant","roles","find","escapePressed","escapeClosesModal","onAccountSelectToggle","onKey","stopPropagation","preventDefault","componentDidMount","prevState","principalName","principals","Modal","title","modalDescription","className","onEscapePress","onKeyPress","onKeyDown","onKeyUp","actions","Form","serviceRegistryInstance","DescriptionList","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","FormGroup","labelIcon","Popover","headerContent","bodyContent","OutlinedQuestionCircleIcon","isRequired","fieldId","SelectPrincipalAccount","TextInput","type","name","onChange","Radio","appendString","roleName","roleType","onRevokeRoleMapping","isRevokeModalOpen","revokingPrincipalId","onRevokeModalClose","doRevokeAccess","onRevoke","roleActions","onEditRoleMapping","filteredRoles","rm1","rm2","match","mustMatch","roleFilter","TableComposable","Thead","Tr","Th","Tbody","rowIndex","Td","items","removeRoleConfirmModalBodyText","roleFilterOptions","onRoleFilterToggle","isExpanded","onRoleFilterSelectToggle","onRoleFilterSelect","roleFilterSelected","roleListFilterOpened","onRoleFilterInputChange","onRoleFilterTextInputKeydown","onRoleFilterApplyClick","newRoleMappingFilter","roleFilterTextInputValue","roleFilterSelectInputValue","isAccountFilterSelected","isRoleFilterSelected","onRoleFilterSelectChange","roleFilterSelectInputOpened","closeRoleMappingModal","selectedRole","isRoleMappingUpdate","isCreateRoleMappingModalOpen","updateRoleMapping","pleaseWait","mapping","currentRoleMappings","forEach","handleServerError","createRoleMapping","isUpdate","error_code","deleteRoleMapping","removeMapping","message","isPleaseWaitModalOpen","pleaseWaitMessage","renderPage","PageSection","PageSectionVariants","padding","default","tabKey","isFilled","Toolbar","clearAllFilters","ToolbarContent","ToolbarGroup","ToolbarItem","option","InputGroup","placeholder","ButtonVariant","SearchIcon","ToolbarFilter","chips","deleteChip","categoryName","initializePageState","createLoaders","getRoleMappings","isLoading","newRoles","rm"],"sourceRoot":""}