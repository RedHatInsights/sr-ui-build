{"version":3,"file":"946.bundle.7468ed7a63dc2b2d93ef.js","mappings":"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","sources":["webpack://@apicurio/registry-ui/./src/app/components/baseComponent.ts","webpack://@apicurio/registry-ui/./src/app/components/common/artifactTypeIcon.tsx","webpack://@apicurio/registry-ui/./src/app/components/header/avatarDropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/errorPage/errorPage.tsx","webpack://@apicurio/registry-ui/./src/app/components/modals/invalidContentModal.tsx","webpack://@apicurio/registry-ui/./src/app/components/modals/pleaseWaitModal.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/compatibility-dropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/validity-dropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/ruleList.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/emptyState.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/matchingSchemaCard.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/noMatchingSchema.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/schemaCard.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/schemaMapping.tsx","webpack://@apicurio/registry-ui/./src/app/federated/federated-utils.ts","webpack://@apicurio/registry-ui/./src/models/contentTypes.model.ts","webpack://@apicurio/registry-ui/./src/models/roleMapping.model.ts","webpack://@apicurio/registry-ui/./src/services/baseService.ts","webpack://@apicurio/registry-ui/./src/services/admin/admin.service.ts","webpack://@apicurio/registry-ui/./src/services/config/config.service.ts","webpack://@apicurio/registry-ui/./src/services/downloader/downloader.service.ts","webpack://@apicurio/registry-ui/./src/services/groups/groups.service.ts","webpack://@apicurio/registry-ui/./src/services/logger/logger.service.ts","webpack://@apicurio/registry-ui/./src/services/auth/auth.service.ts","webpack://@apicurio/registry-ui/./src/services/users/users.service.ts","webpack://@apicurio/registry-ui/./src/services/services.ts","webpack://@apicurio/registry-ui/./src/app/components/header/apicurio_logo_darkbkg_350px.png","webpack://@apicurio/registry-ui/./src/app/components/header/avatar.png"],"sourcesContent":["/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport {Services} from \"../../services\";\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface PureComponentProps {\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface PureComponentState {\n}\n\n\n/**\n * Base class for all Apicurio Registry UI components.\n */\nexport abstract class PureComponent<P extends PureComponentProps, S extends PureComponentState, SS = {}> extends React.PureComponent<P, S, SS> {\n\n    private static HISTORY: any = null;\n    private testIdCounter: number = 1;\n\n    public static setHistory(history: any): void {\n        PureComponent.HISTORY = history;\n    }\n\n    protected constructor(properties: Readonly<P>) {\n        super(properties);\n        this.state = this.initializeState();\n        this.postConstruct();\n    }\n\n    protected abstract initializeState(): S;\n\n    protected testId(prefix: string): string {\n        return prefix + this.testIdCounter++;\n    }\n\n    protected postConstruct(): void {\n        // Can optionally be overridden by subclasses.\n    }\n\n    protected setSingleState(key: string, value: any, callback?: () => void): void {\n        const newState: any = {};\n        newState[key] = value;\n        this.setMultiState(newState, callback);\n    }\n\n    protected setMultiState(newState: any, callback?: () => void): void {\n        // Services.getLoggerService().debug(\"[PureComponent] Setting multi-state: %o\", newState);\n        this.setState({\n            ...newState\n        }, callback);\n    }\n\n    protected navigateTo = (location: string): () => void => {\n        // @ts-ignore\n        return () => {\n            const history: any = PureComponent.HISTORY;\n            if (history) {\n                Services.getLoggerService().info(\"Navigating to:\", location);\n                history.push(location);\n            } else {\n                Services.getLoggerService().warn(\"Navigation impossible, null/undefined history.\");\n            }\n        };\n    };\n\n    protected linkTo(url: string): string {\n        return Services.getConfigService().uiNavPrefixPath() + url;\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport \"./artifactTypeIcon.css\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {ArtifactTypes} from \"../../../models\";\n\n/**\n * Properties\n */\nexport interface ArtifactTypeIconProps extends PureComponentProps {\n    type: string;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface ArtifactTypeIconState extends PureComponentState {\n}\n\n\n/**\n * Models the list of artifacts.\n */\nexport class ArtifactTypeIcon extends PureComponent<ArtifactTypeIconProps, ArtifactTypeIconState> {\n\n    constructor(props: Readonly<ArtifactTypeIconProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <div className={this.getClassNames()} title={this.getTitle()} />\n        );\n    }\n\n    protected initializeState(): ArtifactTypeIconState {\n        return {};\n    }\n\n    private getTitle(): string {\n        let title: string = this.props.type;\n        switch (this.props.type) {\n            case ArtifactTypes.AVRO:\n                title = \"Avro Schema\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                title = \"Protobuf Schema\";\n                break;\n            case ArtifactTypes.JSON:\n                title = \"JSON Schema\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                title = \"OpenAPI Definition\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                title = \"AsyncAPI Definition\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                title = \"GraphQL Definition\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                title = \"Kafka Connect Schema\";\n                break;\n            case ArtifactTypes.WSDL:\n                title = \"WSDL\";\n                break;\n            case ArtifactTypes.XSD:\n                title = \"XML Schema\";\n                break;\n            case ArtifactTypes.XML:\n                title = \"XML\";\n                break;\n        }\n        return title;\n    }\n\n    private getClassNames(): string {\n        let classes: string = \"artifact-type-icon\";\n        switch (this.props.type) {\n            case ArtifactTypes.AVRO:\n                classes += \" avro-icon24\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                classes += \" protobuf-icon24\";\n                break;\n            case ArtifactTypes.JSON:\n                classes += \" json-icon24\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                classes += \" oai-icon24\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                classes += \" aai-icon24\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                classes += \" graphql-icon24\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                classes += \" kconnect-icon24\";\n                break;\n            case ArtifactTypes.WSDL:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XSD:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XML:\n                classes += \" xml-icon24\";\n                break;\n        }\n        return classes;\n    }\n\n}\n\nexport default ArtifactTypeIcon;\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./avatarDropdown.css\"\nimport avatarImg from \"./avatar.png\";\nimport {Avatar, Button, Dropdown, DropdownItem, DropdownToggle} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {Services} from \"../../../services\";\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface AvatarDropdownProps extends PureComponentProps {\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface AvatarDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\nexport class AvatarDropdown extends PureComponent<AvatarDropdownProps, AvatarDropdownState> {\n\n    constructor(props: Readonly<AvatarDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"logout\">\n                <Button className=\"avatar-logout-link\" onClick={() => Services.getAuthService().doLogout()} variant=\"link\" isInline={true}>Logout</Button>\n            </DropdownItem>,\n        ];\n\n        return (\n            <Dropdown\n                id=\"avatar-dropdown\"\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle onToggle={this.onToggle} aria-label=\"User Menu\" id=\"avatar-toggle\">\n                        <Avatar src={avatarImg} alt=\"User\" />\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                isPlain={true}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): AvatarDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onSelect = (event: any): void => {\n        this.setSingleState(\"isOpen\", !this.state.isOpen);\n        // @ts-ignore\n        document.getElementById(\"avatar-toggle\").focus();\n    };\n\n    private onToggle = (): void => {\n        this.setSingleState(\"isOpen\", !this.state.isOpen);\n    };\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./errorPage.css\";\nimport {\n    Button, DropdownItem,\n    EmptyState, EmptyStateBody,\n    EmptyStateIcon, EmptyStateSecondaryActions,\n    EmptyStateVariant,\n    PageSection,\n    PageSectionVariants,\n    Title\n} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {PageErrorType} from \"../../pages/basePage\";\nimport {ExclamationTriangleIcon} from \"@patternfly/react-icons\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-text\";\nimport \"ace-builds/src-noconflict/theme-tomorrow\";\n\n\nexport interface PageError {\n    type: PageErrorType,\n    errorMessage: string,\n    error: any\n}\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface ErrorPageProps extends PureComponentProps {\n    error: PageError|undefined;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface ErrorPageState extends PureComponentState {\n    isShowDetails: boolean;\n    editorWidth: string;\n    editorHeight: string;\n}\n\n\nexport class ErrorPage extends PureComponent<ErrorPageProps, ErrorPageState> {\n\n    constructor(props: Readonly<ErrorPageProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <React.Fragment>\n                <PageSection className=\"ps_error\" variant={PageSectionVariants.light}>\n                    <div className=\"centerizer\">\n                        <EmptyState variant={EmptyStateVariant.large}>\n                            <EmptyStateIcon icon={ExclamationTriangleIcon} />\n                            <Title headingLevel=\"h5\" size=\"lg\">{ this.errorMessage() }</Title>\n                            <EmptyStateBody>\n                                Something went seriously wrong on the server.  We'll try to provide you with some more information about\n                                the problem (see below) but you might want to try reloading.  If things still don't work then you'll\n                                have to report the problem to an admin.\n                            </EmptyStateBody>\n                            <Button variant=\"primary\" onClick={this.reloadPage}>Reload page</Button>\n                            <EmptyStateSecondaryActions>\n                                <Button variant=\"link\"\n                                        data-testid=\"error-btn-artifacts\"\n                                        onClick={this.navigateTo(this.linkTo(\"/\"))}>Back to artifacts</Button>\n                                <Button variant=\"link\"\n                                        data-testid=\"error-btn-details\"\n                                        onClick={this.showDetails}>Show details</Button>\n                            </EmptyStateSecondaryActions>\n                        </EmptyState>\n                        <div className=\"separator\">&nbsp;</div>\n                        {\n                            this.state.isShowDetails ?\n                                <div className=\"ace-wrapper pf-c-empty-state pf-m-lg\" id=\"ace-wrapper\">\n                                    <AceEditor\n                                        data-testid=\"ace-details\"\n                                        mode=\"json\"\n                                        theme=\"tomorrow\"\n                                        name=\"errorDetail\"\n                                        className=\"errorDetail\"\n                                        width={this.state.editorWidth}\n                                        height={this.state.editorHeight}\n                                        fontSize={14}\n                                        showPrintMargin={false}\n                                        showGutter={false}\n                                        highlightActiveLine={false}\n                                        value={this.errorDetail()}\n                                        readOnly={true}\n                                        setOptions={{\n                                            enableBasicAutocompletion: false,\n                                            enableLiveAutocompletion: false,\n                                            enableSnippets: false,\n                                            showLineNumbers: true,\n                                            tabSize: 2,\n                                            useWorker: false\n                                        }}\n                                    />\n                                </div>\n                                :\n                                <div/>\n                        }\n                    </div>\n                </PageSection>\n            </React.Fragment>\n        );\n    }\n\n    protected initializeState(): ErrorPageState {\n        return {\n            editorHeight: \"250px\",\n            editorWidth: \"100%\",\n            isShowDetails: false\n        };\n    }\n\n    private errorMessage(): string {\n        if (this.props.error) {\n            return this.props.error.errorMessage;\n        } else {\n            return \"Internal server error\";\n        }\n    }\n\n    private errorDetail(): string {\n        if (this.props.error && this.props.error.error && this.props.error.error.detail) {\n            return this.props.error.error.detail;\n        } else if (this.props.error && this.props.error.error) {\n            return JSON.stringify(this.props.error.error, null, 3);\n        } else {\n            return \"Error info not available\";\n        }\n    }\n\n    private showDetails = (): void => {\n        this.setSingleState(\"isShowDetails\", true);\n    };\n\n    private reloadPage = (): void => {\n        window.location.reload();\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport \"./invalidContentModal.css\";\nimport {Button, Modal, ModalVariant} from \"@patternfly/react-core\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface InvalidContentModalProps extends PureComponentProps {\n    error: any;\n    isOpen: boolean;\n    onClose: () => void;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface InvalidContentModalState extends PureComponentState {\n}\n\n/**\n * Models the \"invalid content\" modal.  This is shown when the user tries to upload content\n * that is not valid.\n */\nexport class InvalidContentModal extends PureComponent<InvalidContentModalProps, InvalidContentModalState> {\n\n    constructor(props: Readonly<InvalidContentModalProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <Modal\n                title=\"Invalid Content Error\"\n                variant={ModalVariant.large}\n                isOpen={this.props.isOpen}\n                onClose={this.props.onClose}\n                className=\"edit-artifact-metaData pf-m-redhat-font\"\n                actions={[\n                    <Button key=\"close\" variant=\"link\" data-testid=\"modal-btn-close\" onClick={this.props.onClose}>Close</Button>\n                ]}\n            >\n                <p>The content you attempted to upload violated one or more of the established content rules.</p>\n                <pre className=\"error-detail\">\n                    { this.errorDetail() }\n                </pre>\n            </Modal>\n        );\n    }\n\n    protected initializeState(): InvalidContentModalState {\n        return {};\n    }\n\n    private errorDetail(): string {\n        if (this.props.error && this.props.error.detail) {\n            return this.props.error.detail;\n        }\n        return \"\";\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport \"./pleaseWaitModal.css\";\nimport {Modal, Spinner} from \"@patternfly/react-core\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface PleaseWaitModalProps extends PureComponentProps {\n    message: string;\n    isOpen: boolean;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface PleaseWaitModalState extends PureComponentState {\n}\n\n/**\n * Models the \"please wait\" modal.  This is shown when the user performs an asynchronous operation.\n */\nexport class PleaseWaitModal extends PureComponent<PleaseWaitModalProps, PleaseWaitModalState> {\n\n    constructor(props: Readonly<PleaseWaitModalProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <Modal\n                title=\"Please Wait\"\n                variant=\"small\"\n                isOpen={this.props.isOpen}\n                header={<a href=\"#\" />}\n                showClose={false}\n                className=\"please-wait pf-m-redhat-font\"\n                aria-label=\"please-wait-modal\"\n            >\n                <Spinner size=\"md\" className=\"spinner\" />\n                <span className=\"message\">{ this.props.message }</span>\n            </Modal>\n        );\n    }\n\n    protected initializeState(): PleaseWaitModalState {\n        return {};\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {Dropdown, DropdownItem, DropdownToggle} from \"@patternfly/react-core\";\nimport {CaretDownIcon} from \"@patternfly/react-icons\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface CompatibilityDropdownProps extends PureComponentProps {\n    value: string;\n    onSelect: (newValue: string) => void;\n}\n\n/**\n * State\n */\nexport interface CompatibilityDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\n/**\n * Models the content of the Artifact Info tab.\n */\nexport class CompatibilityDropdown extends PureComponent<CompatibilityDropdownProps, CompatibilityDropdownState> {\n\n    constructor(props: Readonly<CompatibilityDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"BACKWARD\"\n                          data-testid=\"rules-compatibility-config-backward\"\n                          id=\"BACKWARD\">Backward</DropdownItem>,\n            <DropdownItem key=\"BACKWARD_TRANSITIVE\"\n                          data-testid=\"rules-compatibility-config-backwardTrans\"\n                          id=\"BACKWARD_TRANSITIVE\">Backward Transitive</DropdownItem>,\n            <DropdownItem key=\"FORWARD\"\n                          data-testid=\"rules-compatibility-config-forward\"\n                          id=\"FORWARD\">Forward</DropdownItem>,\n            <DropdownItem key=\"FORWARD_TRANSITIVE\"\n                          data-testid=\"rules-compatibility-config-forwardTrans\"\n                          id=\"FORWARD_TRANSITIVE\">Forward Transitive</DropdownItem>,\n            <DropdownItem key=\"FULL\"\n                          data-testid=\"rules-compatibility-config-full\"\n                          id=\"FULL\">Full</DropdownItem>,\n            <DropdownItem key=\"FULL_TRANSITIVE\"\n                          data-testid=\"rules-compatibility-config-fullTrans\"\n                          id=\"FULL_TRANSITIVE\">Full Transitive</DropdownItem>,\n        ];\n        return (\n            <Dropdown\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle id=\"toggle-id\"\n                                    data-testid=\"rules-compatibility-config-toggle\"\n                                    onToggle={this.onToggle} toggleIndicator={CaretDownIcon}>\n                        {this.displayValue()}\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): CompatibilityDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onToggle = (isOpen: boolean): void => {\n        this.setSingleState(\"isOpen\", isOpen);\n    };\n\n    private onSelect = (event: any): void => {\n        const newValue: string = event && event.currentTarget && event.currentTarget.id ? event.currentTarget.id : \"\";\n        this.props.onSelect(newValue);\n        this.onToggle(false);\n    };\n\n    private displayValue(): string {\n        switch (this.props.value) {\n            case \"BACKWARD\":\n                return \"Backward\";\n            case \"BACKWARD_TRANSITIVE\":\n                return \"Backward Transitive\";\n            case \"FORWARD\":\n                return \"Forward\";\n            case \"FORWARD_TRANSITIVE\":\n                return \"Forward Transitive\";\n            case \"FULL\":\n                return \"Full\";\n            case \"FULL_TRANSITIVE\":\n                return \"Full Transitive\";\n        }\n        return this.props.value;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {Dropdown, DropdownItem, DropdownToggle} from \"@patternfly/react-core\";\nimport {CaretDownIcon} from \"@patternfly/react-icons\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface ValidityDropdownProps extends PureComponentProps {\n    value: string;\n    onSelect: (newValue: string) => void;\n}\n\n/**\n * State\n */\nexport interface ValidityDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\n/**\n * Models the content of the Artifact Info tab.\n */\nexport class ValidityDropdown extends PureComponent<ValidityDropdownProps, ValidityDropdownState> {\n\n    constructor(props: Readonly<ValidityDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"FULL\"\n                          id=\"FULL\"\n                          data-testid=\"rules-validity-config-full\">Full</DropdownItem>,\n            <DropdownItem key=\"SYNTAX_ONLY\"\n                          id=\"SYNTAX_ONLY\"\n                          data-testid=\"rules-validity-config-syntaxOnly\">Syntax Only</DropdownItem>,\n        ];\n        return (\n            <Dropdown\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle id=\"toggle-id\"\n                                    data-testid=\"rules-validity-config-toggle\"\n                                    onToggle={this.onToggle} toggleIndicator={CaretDownIcon}>\n                        {this.displayValue()}\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): ValidityDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onToggle = (isOpen: boolean): void => {\n        this.setSingleState(\"isOpen\", isOpen);\n    };\n\n    private onSelect = (event: any): void => {\n        const newValue: string = event && event.currentTarget && event.currentTarget.id ? event.currentTarget.id : \"\";\n        this.props.onSelect(newValue);\n        this.onToggle(false);\n    };\n\n    private displayValue(): string {\n        switch (this.props.value) {\n            case \"FULL\":\n                return \"Full\";\n            case \"SYNTAX_ONLY\":\n                return \"Syntax Only\";\n        }\n        return this.props.value;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./ruleList.css\"\nimport {\n    Button,\n    DataList,\n    DataListAction,\n    DataListCell,\n    DataListItem,\n    DataListItemCells,\n    DataListItemRow, EmptyStateBody\n} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {CodeBranchIcon, OkIcon, TrashIcon} from \"@patternfly/react-icons\";\nimport {CompatibilityDropdown} from \"./compatibility-dropdown\";\nimport {ValidityDropdown} from \"./validity-dropdown\";\nimport {IfFeature} from \"../common/ifFeature\";\nimport {IfAuth} from \"../common\";\nimport {Rule} from \"../../../models\";\n\n\nexport interface RuleListProps extends PureComponentProps {\n    onEnableRule: (ruleType: string) => void;\n    onDisableRule: (ruleType: string) => void;\n    onConfigureRule: (ruleType: string, config: string) => void;\n    rules: Rule[];\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface RuleListState extends PureComponentState {\n}\n\n\nexport class RuleList extends PureComponent<RuleListProps, RuleListState> {\n\n    constructor(props: Readonly<RuleListProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        let validityRuleActions: React.ReactElement = (\n            <Button variant=\"secondary\"\n                    key=\"enable-action\"\n                    data-testid=\"rules-validity-enable\"\n                    onClick={this.doEnableRule(\"VALIDITY\")}>Enable</Button>\n        );\n        if (this.isRuleEnabled(\"VALIDITY\")) {\n            validityRuleActions = (\n                <React.Fragment>\n                    <ValidityDropdown value={this.getRuleConfig(\"VALIDITY\")}\n                                      onSelect={this.doConfigureRule(\"VALIDITY\")} />\n                    <Button variant=\"plain\"\n                            key=\"delete-action\"\n                            data-testid=\"rules-validity-disable\"\n                            title=\"Disable the validity rule\"\n                            onClick={this.doDisableRule(\"VALIDITY\")}><TrashIcon /></Button>\n                </React.Fragment>\n            );\n        }\n        let compatibilityRuleActions: React.ReactElement = (\n            <Button variant=\"secondary\"\n                    key=\"enable-action\"\n                    data-testid=\"rules-compatibility-enable\"\n                    onClick={this.doEnableRule(\"COMPATIBILITY\")}>Enable</Button>\n        );\n        if (this.isRuleEnabled(\"COMPATIBILITY\")) {\n            compatibilityRuleActions = (\n                <React.Fragment>\n                    <CompatibilityDropdown value={this.getRuleConfig(\"COMPATIBILITY\")}\n                                           onSelect={this.doConfigureRule(\"COMPATIBILITY\")} />\n                    <Button variant=\"plain\"\n                            key=\"delete-action\"\n                            data-testid=\"rules-compatibility-disable\"\n                            title=\"Disable the compatibility rule\"\n                            onClick={this.doDisableRule(\"COMPATIBILITY\")}><TrashIcon /></Button>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <DataList aria-label=\"Artifact rules\">\n                <DataListItem aria-labelledby=\"validity-rule-name\">\n                    <DataListItemRow className={this.getRuleRowClasses(\"VALIDITY\")}>\n                        <DataListItemCells dataListCells={[\n                            <DataListCell key=\"rule-name\">\n                                <OkIcon className=\"rule-icon\" />\n                                <span id=\"validity-rule-name\">Validity Rule</span>\n                            </DataListCell>,\n                            <DataListCell key=\"rule-description\">Ensure that content is <em>valid</em> when updating this artifact.</DataListCell>\n                        ]}\n                        />\n                        <IfAuth isDeveloper={true}>\n                            <IfFeature feature=\"readOnly\" isNot={true}>\n                                <DataListAction\n                                    aria-labelledby=\"selectable-action-item1 selectable-action-action1\"\n                                    id=\"selectable-action-action1\"\n                                    aria-label=\"Actions\"\n                                >\n                                    { validityRuleActions}\n                                </DataListAction>\n                            </IfFeature>\n                        </IfAuth>\n                    </DataListItemRow>\n                </DataListItem>\n                <DataListItem aria-labelledby=\"compatibility-rule-name\">\n                    <DataListItemRow className={this.getRuleRowClasses(\"COMPATIBILITY\")}>\n                        <DataListItemCells dataListCells={[\n                            <DataListCell key=\"rule-name\">\n                                <CodeBranchIcon className=\"rule-icon\" />\n                                <span id=\"compatibility-rule-name\">Compatibility Rule</span>\n                            </DataListCell>,\n                            <DataListCell key=\"rule-description\">Enforce a compatibility level when updating this artifact (e.g. Backwards Compatibility).</DataListCell>\n                        ]}\n                        />\n                        <IfAuth isDeveloper={true}>\n                            <IfFeature feature=\"readOnly\" isNot={true}>\n                                <DataListAction\n                                    aria-labelledby=\"selectable-action-item1 selectable-action-action1\"\n                                    id=\"selectable-action-action2\"\n                                    aria-label=\"Actions\"\n                                >\n                                    { compatibilityRuleActions }\n                                </DataListAction>\n                            </IfFeature>\n                        </IfAuth>\n                    </DataListItemRow>\n                </DataListItem>\n            </DataList>\n        );\n    }\n\n    protected initializeState(): RuleListState {\n        return {};\n    }\n\n    private isRuleEnabled(ruleType: string): boolean {\n        return this.props.rules.filter(rule => rule.type === ruleType).length > 0;\n    }\n\n    private getRuleRowClasses(ruleType: string): string {\n        const classes: string[] = [ \"rule\" ];\n        if (ruleType === \"COMPATIBILITY\") {\n            classes.push(\"compatibility-rule\");\n        } else {\n            classes.push(\"validity-rule\");\n        }\n        if (!this.isRuleEnabled(ruleType)) {\n            classes.push(\"disabled\");\n        }\n        return classes.join(' ');\n    }\n\n    private getRuleConfig(ruleType: string): string {\n        const frules: Rule[] = this.props.rules.filter(r => r.type === ruleType);\n        if (frules.length === 1) {\n            return frules[0].config;\n        } else {\n            return \"UNKNOWN\";\n        }\n    };\n\n    private doEnableRule = (ruleType: string): (() => void) => {\n        return () => {\n            this.props.onEnableRule(ruleType);\n        };\n    };\n\n    private doDisableRule = (ruleType: string): (() => void) => {\n        return () => {\n            this.props.onDisableRule(ruleType);\n        };\n    };\n\n    private doConfigureRule = (ruleType: string): ((config: string) => void) => {\n        return (config: string) => {\n            this.props.onConfigureRule(ruleType, config);\n        };\n    };\n\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateVariant,\n  ClipboardCopy,\n  EmptyStateSecondaryActions,\n  Card,\n  CardBody,\n  CardTitle,\n} from \"@patternfly/react-core\";\nimport ArrowRightIcon from \"@patternfly/react-icons/dist/js/icons/arrow-icon\";\nimport InfoCircleIcon from \"@patternfly/react-icons/dist/js/icons/info-circle-icon\";\n\nexport type EmptyStateProps = {\n  artifactName: string;\n  basename: string;\n  registryId: string;\n};\n\nexport const SchemaEmptyState: React.FC<EmptyStateProps> = ({\n  artifactName,\n  basename,\n  registryId,\n}: EmptyStateProps) => {\n  return (\n    <Card>\n      <CardTitle>Topic Schemas</CardTitle>\n      <CardBody>\n        <EmptyState variant={EmptyStateVariant.large}>\n          <EmptyStateIcon icon={InfoCircleIcon} color=\"#2B9AF3\" />\n          <Title headingLevel=\"h4\" size=\"lg\">\n            No matching schema exists for the selected instance\n          </Title>\n          <EmptyStateBody>\n            The system couldn't find a matching schema for this topic in the\n            selected Service Registry instance. Please make sure to use the\n            following naming format for the artifact ID:\n          </EmptyStateBody>\n          <EmptyStateSecondaryActions>\n            <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n              {artifactName + \"-key\"}\n            </ClipboardCopy>\n          </EmptyStateSecondaryActions>\n          <EmptyStateSecondaryActions>\n            <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n              {artifactName + \"-value\"}\n            </ClipboardCopy>\n          </EmptyStateSecondaryActions>\n          <EmptyStateSecondaryActions>\n            <Link to={`${basename}/t/${registryId}`}>\n              Go to Service Registry instance <ArrowRightIcon />\n            </Link>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      </CardBody>\n    </Card>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Grid,\n  GridItem,\n  DescriptionListDescription,\n} from \"@patternfly/react-core\";\nimport { PureComponent } from \"../baseComponent\";\nimport ExternalLinkAltIcon from \"@patternfly/react-icons/dist/js/icons/external-link-alt-icon\";\nimport CheckCircleIcon from \"@patternfly/react-icons/dist/js/icons/check-circle-icon\";\n\nexport type MatchingSchemaProps = {\n  topicName: string;\n  keySchema: boolean;\n  routePath: string;\n};\n\nexport class MatchingSchemaCard extends PureComponent<MatchingSchemaProps, {}> {\n  constructor(props: Readonly<MatchingSchemaProps>) {\n    super(props);\n  }\n\n  protected initializeState() {\n    return {};\n  }\n\n  public render(): React.ReactElement {\n    const { keySchema, topicName, routePath } = this.props;\n    const postfix = keySchema ? \"-key\" : \"-value\";\n\n    return (\n      <DescriptionListDescription>\n        <Grid hasGutter rowSpan={2}>\n          <GridItem rowSpan={2}>\n            <CheckCircleIcon color=\"#38812f\" /> {topicName + postfix}\n          </GridItem>\n          <GridItem>\n            <Link to={routePath}>\n              View details <ExternalLinkAltIcon />\n            </Link>\n          </GridItem>\n        </Grid>\n      </DescriptionListDescription>\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Grid,\n  GridItem,\n  Alert,\n  AlertVariant,\n  DescriptionListDescription,\n  Popover,\n  ClipboardCopy,\n} from \"@patternfly/react-core\";\nimport OutlinedQuestionCircleIcon from \"@patternfly/react-icons/dist/js/icons/outlined-question-circle-icon\";\nimport ArrowRightIcon from \"@patternfly/react-icons/dist/js/icons/arrow-icon\";\n\nexport type NoMatchingSchemaProps = {\n  basename: string;\n  registryId: string;\n  artifactId: string;\n  title: string;\n};\n\nexport const NoMatchingSchema: React.FC<NoMatchingSchemaProps> = ({\n  basename,\n  registryId,\n  artifactId,\n  title,\n}) => {\n  return (\n    <DescriptionListDescription>\n      <Grid hasGutter span={2}>\n        <GridItem>\n          <Alert\n            className=\"pf-c-alert pf-m-info pf-m-plain pf-m-inline\"\n            variant={AlertVariant.info}\n            title=\"No matching schema\"\n          />\n        </GridItem>\n        <GridItem>\n          <Popover\n            aria-label=\"No schema popover\"\n            headerContent={title}\n            bodyContent={\n              <>\n                The system couldn't find a matching schema for this topic in the\n                selected Service Registry instance. Please make sure to use the\n                following naming format for the Artifact ID:\n                <br />\n                <br />\n                <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n                  {artifactId}\n                </ClipboardCopy>\n                <br />\n                <Link to={`${basename}/t/${registryId}`}>\n                  Go to Service Registry instance <ArrowRightIcon />\n                </Link>\n              </>\n            }\n          >\n            <OutlinedQuestionCircleIcon />\n          </Popover>\n        </GridItem>\n      </Grid>\n    </DescriptionListDescription>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  DescriptionList,\n  DescriptionListTerm,\n} from \"@patternfly/react-core\";\nimport \"./schemaCard.css\";\nimport { MatchingSchemaCard } from \"./matchingSchemaCard\";\nimport { NoMatchingSchema } from \"./noMatchingSchema\";\n\nexport type SchemaCardProps = {\n  hasValueSchema: boolean | undefined;\n  hasKeySchema: boolean | undefined;\n  topicName: string;\n  groupId: string;\n  version: string;\n  basename: string;\n  registryId: string;\n};\n\nexport const SchemaCard: React.FC<SchemaCardProps> = ({\n  hasKeySchema,\n  hasValueSchema,\n  topicName,\n  version,\n  basename,\n  registryId,\n}) => {\n  return (\n    <Card>\n      <CardTitle component=\"h2\">Topic schemas</CardTitle>\n      <CardBody>\n        <DescriptionList\n          className={\"pf-c-description-list__RowGap\"}\n          isHorizontal\n          isAutoColumnWidths\n          columnModifier={{ lg: \"2Col\" }}\n        >\n          <DescriptionListTerm>Value schema artifact ID</DescriptionListTerm>\n          {hasValueSchema ? (\n            <MatchingSchemaCard\n              topicName={topicName}\n              keySchema={false}\n              routePath={`${basename}/t/${registryId}/artifacts/default/${topicName}-value/versions/${version}`}\n            />\n          ) : (\n            <NoMatchingSchema\n              title=\"Value schema\"\n              artifactId={`${topicName}-value`}\n              basename={basename}\n              registryId={registryId}\n            />\n          )}\n          <DescriptionListTerm>Key schema artifact ID</DescriptionListTerm>\n          {hasKeySchema ? (\n            <MatchingSchemaCard\n              topicName={topicName}\n              keySchema={true}\n              routePath={`${basename}/t/${registryId}/artifacts/default/${topicName}-key/versions/${version}`}\n            />\n          ) : (\n            <NoMatchingSchema\n              title=\"Key schema\"\n              artifactId={`${topicName}-key`}\n              basename={basename}\n              registryId={registryId}\n            />\n          )}\n        </DescriptionList>\n      </CardBody>\n    </Card>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Spinner, Bullseye } from \"@patternfly/react-core\";\nimport { SchemaCard, SchemaCardProps } from \"./schemaCard\";\nimport { Services } from \"src/services\";\nimport { SchemaEmptyState } from \"./emptyState\";\nimport {\n  PureComponent,\n  PureComponentProps,\n  PureComponentState,\n} from \"../baseComponent\";\n\n/**\n * Properties\n */\n\nexport interface SchemaMappingProps\n  extends PureComponentProps,\n    SchemaCardProps {\n  registryId: string;\n}\n\n/**\n * State\n */\nexport interface SchemaMappingState extends PureComponentState {\n  hasKeySchema: boolean | undefined;\n  hasValueSchema: boolean | undefined;\n}\n\nexport class SchemaMapping extends PureComponent<\n  SchemaMappingProps,\n  SchemaMappingState\n> {\n  constructor(props: Readonly<SchemaMappingProps>) {\n    super(props);\n  }\n\n  public render(): React.ReactElement {\n    const { hasKeySchema, hasValueSchema } = this.state;\n    const { topicName, groupId, version, basename, registryId } = this.props;\n\n    if (hasKeySchema === undefined && hasValueSchema === undefined) {\n      return (\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      );\n    }\n\n    if (hasKeySchema || hasValueSchema) {\n      return (\n        <SchemaCard\n          hasKeySchema={hasKeySchema}\n          hasValueSchema={hasValueSchema}\n          topicName={topicName}\n          groupId={groupId}\n          version={version}\n          basename={basename}\n          registryId={registryId}\n        />\n      );\n    } else {\n      return (\n        <SchemaEmptyState\n          artifactName={topicName}\n          basename={basename}\n          registryId={registryId}\n        />\n      );\n    }\n  }\n\n  protected initializeState(): SchemaMappingState {\n    return {\n      hasKeySchema: undefined,\n      hasValueSchema: undefined,\n    };\n  }\n\n  componentWillMount() {\n    this.getArtifactsMetadata();\n  }\n\n  componentDidUpdate(prevProps: SchemaMappingProps) {\n    if (prevProps.registryId !== this.props.registryId) {\n      this.getArtifactsMetadata();\n    }\n  }\n\n  // @ts-ignore\n  private getArtifactsMetadata(): Promise[] | null {\n    const { topicName, groupId, version } = this.props;\n\n    Services.getLoggerService().info(\n      \"Loading data for artifact metadata: \",\n      topicName\n    );\n\n    const artifactId1 = topicName + \"-key\";\n    const artifactId2 = topicName + \"-value\";\n  \n\n    return [\n      Services.getGroupsService()\n        .getArtifactMetaData(groupId, artifactId1, version)\n        .then((data) => {\n          this.setSingleState(\"hasKeySchema\", true);\n        })\n        .catch((e) => {\n          if (e.error_code == \"404\") {\n            this.setSingleState(\"hasKeySchema\", false);\n          }\n        }),\n      Services.getGroupsService()\n        .getArtifactMetaData(groupId, artifactId2, version)\n        .then((data) => {\n          this.setSingleState(\"hasValueSchema\", true);\n        })\n        .catch((e) => {\n          if (e.error_code == \"404\") {\n            this.setSingleState(\"hasValueSchema\", false);\n          }\n        }),\n    ];\n  }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ConfigType, Services} from \"../../services\";\nimport {PureComponent} from \"../components\";\n\n/**\n * Component properties shared by all federated pages.\n */\nexport interface FederatedComponentProps {\n    config: ConfigType;\n    history: any;\n}\n\nexport class FederatedUtils {\n\n    static updateConfiguration(props: FederatedComponentProps): void {\n        Services.getLoggerService().info(\"[FederatedUtils] Updating config: %o\", props.config);\n        Services.getConfigService().updateConfig(props.config);\n        PureComponent.setHistory(props.history);\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// tslint:disable-next-line:interface-name\nexport class ContentTypes {\n\n    public static APPLICATION_JSON: string = \"application/json\";\n    public static APPLICATION_YAML: string = \"application/x-yaml\";\n    public static APPLICATION_XML: string = \"application/xml\";\n    public static APPLICATION_PROTOBUF: string = \"application/x-protobuf\";\n    public static APPLICATION_GRAPHQL: string = \"application/graphql\";\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nexport class RoleTypes {\n    public static READ_ONLY: string = \"READ_ONLY\";\n    public static DEVELOPER: string = \"DEVELOPER\";\n    public static ADMIN: string = \"ADMIN\";\n}\n\n\n// tslint:disable-next-line:interface-name\nexport interface RoleMapping {\n\n    principalId: string;\n    role: string;\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {LoggerService} from \"./logger\";\nimport {ConfigService} from \"./config\";\nimport axios, { AxiosRequestConfig } from \"axios\";\nimport {AuthService} from \"./auth\";\nimport {ContentTypes} from \"../models\";\n\nconst AXIOS = axios.create();\n\n/**\n * Interface implemented by all services.\n */\nexport interface Service {\n    init(): void;\n}\n\n/**\n * Base class for all services.\n */\nexport abstract class BaseService implements Service {\n\n    // @ts-ignore\n    protected logger: LoggerService = null;\n    // @ts-ignore\n    protected config: ConfigService = null;\n    // @ts-ignore\n    protected auth: AuthService = null;\n\n    public init(): void {\n        this.initAuthInterceptor();\n    }\n\n    public initAuthInterceptor() {\n        AXIOS.interceptors.request.use(this.auth.getAuthInterceptor());\n    }\n\n    /**\n     * Creates an endpoint to use when making a REST call.  Supports path params and query params.\n     * @param path\n     * @param params\n     * @param queryParams\n     */\n    protected endpoint(path: string, params?: any, queryParams?: any): string {\n        if (params) {\n            Object.keys(params).forEach(key => {\n                const value: string = encodeURIComponent(params[key]);\n                path = path.replace(\":\" + key, value);\n            });\n        }\n        let rval: string = this.apiBaseHref() + path;\n        if (queryParams) {\n            let first: boolean = true;\n            for (const key in queryParams) {\n                if (queryParams[key]) {\n                    const value: string = encodeURIComponent(queryParams[key]);\n                    if (first) {\n                        rval = rval + \"?\" + key;\n                    } else {\n                        rval = rval + \"&\" + key;\n                    }\n                    if (value !== null && value !== undefined) {\n                        rval = rval + \"=\" + value;\n                    }\n                    first = false;\n                }\n            }\n        }\n        this.logger.info(\"[BaseService] Using REST endpoint: \", rval);\n        return rval;\n    }\n\n    /**\n     * Creates the request options used by the HTTP service when making API calls.\n     * @param headers\n     */\n    protected options(headers: {[header: string]: string}): AxiosRequestConfig {\n        const options: AxiosRequestConfig = {headers};\n        return options;\n    }\n\n    /**\n     * Performs an HTTP GET operation to the given URL with the given options.  Returns\n     * a Promise to the HTTP response data.\n     */\n    protected httpGet<T>(url: string, options?: AxiosRequestConfig, successCallback?: (value: any) => T): Promise<T> {\n        this.logger.info(\"[BaseService] Making a GET request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"get\", url, options);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: T = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n     * a Promise to null (no response data expected).\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPost<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void): Promise<void> {\n        this.logger.info(\"[BaseService] Making a POST request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"post\", url, options, body);\n        return AXIOS.request(config)\n            .then(() => {\n                if (successCallback) {\n                    return successCallback();\n                } else {\n                    return;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n     * a Promise to the HTTP response data.\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPostWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: any) => O): Promise<O> {\n        this.logger.info(\"[BaseService] Making a POST request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON, \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"post\", url, options, body);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: O = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n     * a Promise to null (no response data expected).\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPut<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void): Promise<void> {\n        this.logger.info(\"[BaseService] Making a PUT request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"put\", url, options, body);\n        return AXIOS.request(config)\n            .then(() => {\n                if (successCallback) {\n                    return successCallback();\n                } else {\n                    return;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n     * a Promise to the HTTP response data.\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPutWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: O) => O): Promise<O> {\n        this.logger.info(\"[BaseService] Making a PUT request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON, \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"put\", url, options, body);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: O = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP DELETE operation to the given URL with the given body and options.\n     * @param url\n     * @param options\n     */\n    protected httpDelete<T>(url: string, options?: AxiosRequestConfig, successCallback?: () => T): Promise<T> {\n        this.logger.info(\"[BaseService] Making a DELETE request to: \", url);\n\n        if (!options) {\n            options = {};\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"delete\", url, options);\n        // @ts-ignore\n        return AXIOS.request(config)\n            .then(() => {\n                return successCallback ? successCallback() : null;\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    private axiosConfig(method: string, url: string, options: any, data?: any): AxiosRequestConfig {\n        return {...{\n                data,\n                method,\n                url,\n                validateStatus: (status) => {\n                    return status >= 200 && status < 300;\n                }\n            }, ...options};\n    }\n\n    private unwrapErrorData(error: any): any {\n        if (error.response && error.response.data) {\n            return error.response.data;\n        }\n        return error;\n    }\n\n    private apiBaseHref(): string {\n        let artifactsUrl: string|null = this.config.artifactsUrl();\n        if (artifactsUrl == null) {\n            return \"\";\n        }\n        if (artifactsUrl.endsWith(\"/\")) {\n            artifactsUrl = artifactsUrl.substring(0, artifactsUrl.length - 1);\n        }\n        this.logger.debug(\"[BaseService] Base HREF of REST API: \", artifactsUrl);\n        return artifactsUrl;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BaseService} from \"../baseService\";\nimport {RoleMapping, Rule} from \"../../models\";\n\n/**\n * The Admin service.  Used to get global/settings information from the back-end, like global\n * rules and logging settings.\n */\nexport class AdminService extends BaseService {\n\n    public getRules(): Promise<Rule[]> {\n        this.logger.info(\"[AdminService] Getting the global list of rules.\");\n        const endpoint: string = this.endpoint(\"/v2/admin/rules\");\n        return this.httpGet<string[]>(endpoint).then( ruleTypes => {\n            return Promise.all(ruleTypes.map(rt => this.getRule(rt)));\n        });\n    }\n\n    public getRule(type: string): Promise<Rule> {\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            rule: type\n        });\n        return this.httpGet<Rule>(endpoint);\n    }\n\n    public createRule(type: string, config: string): Promise<Rule> {\n        this.logger.info(\"[AdminService] Creating global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules\");\n        const body: Rule = {\n            config,\n            type\n        };\n        return this.httpPostWithReturn(endpoint, body);\n    }\n\n    public updateRule(type: string, config: string): Promise<Rule|null> {\n        this.logger.info(\"[AdminService] Updating global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            \"rule\": type\n        });\n        const body: Rule = { config, type };\n        return this.httpPutWithReturn<Rule, Rule>(endpoint, body);\n    }\n\n    public deleteRule(type: string): Promise<null> {\n        this.logger.info(\"[AdminService] Deleting global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            \"rule\": type\n        });\n        return this.httpDelete(endpoint);\n    }\n\n    public getRoleMappings(): Promise<RoleMapping[]> {\n        this.logger.info(\"[AdminService] Getting the list of role mappings.\");\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings\");\n        return this.httpGet<RoleMapping[]>(endpoint);\n    }\n\n    public getRoleMapping(principalId: string): Promise<RoleMapping> {\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        return this.httpGet<RoleMapping>(endpoint);\n    }\n\n    public createRoleMapping(principalId: string, role: string): Promise<RoleMapping> {\n        this.logger.info(\"[AdminService] Creating a role mapping:\", principalId, role);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings\");\n        const body: RoleMapping = { principalId, role };\n        return this.httpPost(endpoint, body).then(() => {\n            return body;\n        });\n    }\n\n    public updateRoleMapping(principalId: string, role: string): Promise<RoleMapping> {\n        this.logger.info(\"[AdminService] Updating role mapping:\", principalId, role);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        const body: any = { role };\n        return this.httpPut<any>(endpoint, body).then(() => {\n            return { principalId, role };\n        });\n    }\n\n    public deleteRoleMapping(principalId: string): Promise<null> {\n        this.logger.info(\"[AdminService] Deleting role mapping for:\", principalId);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        return this.httpDelete(endpoint);\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ConfigType, FeaturesConfig, GetTokenAuthConfig, KeycloakJsAuthConfig} from './config.type';\nimport {Service} from \"../baseService\";\n\nconst DEFAULT_CONFIG: ConfigType = {\n    artifacts: {\n        url: \"http://localhost:8080/apis/registry\"\n    },\n    auth: {\n        options: {\n            clientId: 'registry-ui',\n            onLoad: 'login-required',\n            realm: 'registry',\n            url: 'http://localhost:8090/auth'\n        },\n        type: \"keycloakjs\",\n        rbacEnabled: true,\n        obacEnabled: false\n    },\n    features: {\n        readOnly: false,\n        breadcrumbs: true,\n        roleManagement: true\n    },\n    ui: {\n        contextPath: \"/\",\n        navPrefixPath: \"/\"\n    }\n};\n\n/**\n * A simple configuration service.  Reads information from a global \"ApicurioRegistryConfig\" variable\n * that is typically included via JSONP.\n */\nexport class ConfigService implements Service {\n    private config: ConfigType;\n\n    constructor() {\n        const w: any = window;\n        if (w.ApicurioRegistryConfig) {\n            this.config = w.ApicurioRegistryConfig;\n            console.info(\"[ConfigService] Found app config.\");\n        } else {\n            console.warn(\"[ConfigService] App config not found! (using default)\");\n            this.config = DEFAULT_CONFIG;\n        }\n    }\n\n    public init(): void {\n        // Nothing to init (done in c'tor)\n    }\n\n    public updateConfig(config: ConfigType): void {\n        this.config = config;\n    }\n\n    public artifactsUrl(): string|null {\n        if (!this.config.artifacts) {\n            return null;\n        }\n        return this.config.artifacts.url;\n    }\n\n    public uiContextPath(): string|undefined {\n        if (!this.config.ui || !this.config.ui.contextPath) {\n            return \"/\";\n        }\n        return this.config.ui.contextPath;\n    }\n\n    public uiNavPrefixPath(): string|undefined {\n        if (!this.config.ui || !this.config.ui.navPrefixPath) {\n            return \"\";\n        }\n        if (this.config.ui.navPrefixPath.endsWith(\"/\")) {\n            this.config.ui.navPrefixPath = this.config.ui.navPrefixPath.substr(0, this.config.ui.navPrefixPath.length - 1);\n        }\n        return this.config.ui.navPrefixPath;\n    }\n\n    public features(): FeaturesConfig {\n        const defaults: FeaturesConfig = {\n            readOnly: false,\n            breadcrumbs: true\n        };\n        if (!this.config.features) {\n            return defaults;\n        }\n        return {\n            ...defaults,\n            ...this.config.features\n        };\n    }\n\n    public featureReadOnly(): boolean {\n        return this.features().readOnly || false;\n    }\n\n    public featureBreadcrumbs(): boolean {\n        return this.features().breadcrumbs || false;\n    }\n\n    public featureRoleManagement(): boolean {\n        return this.features().roleManagement || false;\n    }\n\n    public authType(): string {\n        if (!this.config.auth || !this.config.auth.type) {\n            return \"\";\n        }\n        return this.config.auth.type;\n    }\n\n    public authRbacEnabled(): boolean {\n        if (!this.config.auth || !this.config.auth.rbacEnabled) {\n            return false;\n        }\n        return this.config.auth.rbacEnabled;\n    }\n\n    public authObacEnabled(): boolean {\n        if (!this.config.auth || !this.config.auth.obacEnabled) {\n            return false;\n        }\n        return this.config.auth.obacEnabled;\n    }\n\n    public authOptions(): any {\n        if (this.config.auth) {\n            const auth: KeycloakJsAuthConfig = this.config.auth as KeycloakJsAuthConfig;\n            return auth.options;\n        }\n        return {};\n    }\n\n    public authGetToken(): () => Promise<string> {\n        if (this.config.auth) {\n            const auth: GetTokenAuthConfig = this.config.auth as GetTokenAuthConfig;\n            return auth.getToken;\n        }\n        return () => {\n            console.error(\"[ConfigService] Missing: 'getToken' from auth config.\");\n            return Promise.resolve(\"\");\n        };\n    }\n\n    public principals() {\n        return this.config.principals;\n    }\n    \n    public featureMultiTenant(): boolean {\n        return this.features().multiTenant || false;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {Service} from \"../baseService\";\n\n\nfunction _window(): Window {\n    return window;\n}\n\n\n/**\n * A simple logger service.\n */\nexport class DownloaderService implements Service {\n\n    private window: Window | any;\n\n    public init(): void {\n        this.window = _window();\n    }\n\n    /**\n     * Called to download some content as a file to the user's local filesystem.\n     * @param content\n     * @param contentType\n     * @param filename\n     */\n    public downloadToFS(content: string, contentType: string, filename: string): Promise<boolean> {\n        console.info(\"[DownloaderService] Downloading an API definition.\");\n\n        if (this.window.chrome !== undefined) {\n            // Chrome version\n            const link = document.createElement('a');\n            const blob: Blob = new Blob([content], { type: contentType });\n            link.href = window.URL.createObjectURL(blob);\n            link.download = filename;\n            link.click();\n        } else if (window.navigator !== undefined && window.navigator.msSaveBlob !== undefined) {\n            // IE version\n            const blob: Blob = new Blob([content], { type: contentType });\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            // Firefox version\n            const file: File = new File([content], filename, { type: \"application/force-download\" });\n            window.open(URL.createObjectURL(file));\n        }\n        // Not async right now - so just resolve to true\n        return Promise.resolve(true);\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    SearchedArtifact,\n    SearchedVersion,\n    ArtifactMetaData,\n    Rule,\n    VersionMetaData,\n    ContentTypes\n} from \"../../models\";\nimport {BaseService} from \"../baseService\";\nimport YAML from \"yaml\";\n\nexport interface CreateArtifactData {\n    groupId: string;\n    id: string|null;\n    type: string;\n    content: string;\n}\n\nexport interface CreateVersionData {\n    type: string;\n    content: string;\n}\n\nexport interface GetArtifactsCriteria {\n    type: string;\n    value: string;\n    sortAscending: boolean;\n}\n\nexport interface Paging {\n    page: number;\n    pageSize: number;\n}\n\nexport interface ArtifactsSearchResults {\n    artifacts: SearchedArtifact[];\n    count: number;\n    page: number;\n    pageSize: number;\n}\n\nexport interface EditableMetaData {\n    name: string;\n    description: string;\n    labels: string[];\n}\n\n/**\n * The artifacts service.  Used to query the backend search API to fetch lists of\n * artifacts and also details about individual artifacts.\n */\nexport class GroupsService extends BaseService {\n\n    public createArtifact(data: CreateArtifactData): Promise<ArtifactMetaData> {\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts\", { groupId: data.groupId });\n        const headers: any = {};\n        if (data.id) {\n            headers[\"X-Registry-ArtifactId\"] = data.id;\n        }\n        if (data.type) {\n            headers[\"X-Registry-ArtifactType\"] = data.type;\n        }\n        headers[\"Content-Type\"] = this.contentType(data.type, data.content);\n        return this.httpPostWithReturn<any, ArtifactMetaData>(endpoint, data.content, this.options(headers));\n    }\n\n    public createArtifactVersion(groupId: string|null, artifactId: string, data: CreateVersionData): Promise<VersionMetaData> {\n        groupId = this.normalizeGroupId(groupId);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions\", { groupId, artifactId });\n        const headers: any = {};\n        if (data.type) {\n            headers[\"X-Registry-ArtifactType\"] = data.type;\n        }\n        headers[\"Content-Type\"] = this.contentType(data.type, data.content);\n        return this.httpPostWithReturn<any, VersionMetaData>(endpoint, data.content, this.options(headers));\n    }\n\n    public getArtifacts(criteria: GetArtifactsCriteria, paging: Paging): Promise<ArtifactsSearchResults> {\n        this.logger.debug(\"[GroupsService] Getting artifacts: \", criteria, paging);\n        const start: number = (paging.page - 1) * paging.pageSize;\n        const end: number = start + paging.pageSize;\n        const queryParams: any = {\n            limit: end,\n            offset: start,\n            order: criteria.sortAscending ? \"asc\" : \"desc\",\n            orderby: \"name\"\n        };\n        if (criteria.value) {\n            if (criteria.type == \"everything\") {\n                queryParams[\"name\"] = criteria.value;\n                queryParams[\"description\"] = criteria.value;\n                queryParams[\"labels\"] = criteria.value;\n            } else {\n                queryParams[criteria.type] = criteria.value;\n            }\n        }\n        const endpoint: string = this.endpoint(\"/v2/search/artifacts\", {}, queryParams);\n        return this.httpGet<ArtifactsSearchResults>(endpoint, undefined, (data) => {\n            const results: ArtifactsSearchResults = {\n                artifacts: data.artifacts,\n                count: data.count,\n                page: paging.page,\n                pageSize: paging.pageSize\n            };\n            return results;\n        });\n    }\n\n    public getArtifactMetaData(groupId: string|null, artifactId: string, version: string): Promise<ArtifactMetaData> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version/meta\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/meta\", { groupId, artifactId });\n        }\n        return this.httpGet<ArtifactMetaData>(endpoint);\n    }\n\n    public updateArtifactMetaData(groupId: string|null, artifactId: string, version: string, metaData: EditableMetaData): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version/meta\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/meta\", { groupId, artifactId });\n        }\n        return this.httpPut<EditableMetaData>(endpoint, metaData);\n    }\n\n    public getArtifactContent(groupId: string|null, artifactId: string, version: string): Promise<string> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId\", { groupId, artifactId });\n        }\n\n        const options: any = this.options({\n            \"Accept\": \"*\"\n        });\n        options.maxContentLength = \"5242880\"; // TODO 5MB hard-coded, make this configurable?\n        options.responseType = \"text\";\n        options.transformResponse = (data: any) => data;\n        return this.httpGet<string>(endpoint, options);\n    }\n\n    public getArtifactVersions(groupId: string|null, artifactId: string): Promise<SearchedVersion[]> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Getting the list of versions for artifact: \", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions\", { groupId, artifactId }, {\n            limit: 500,\n            offset: 0\n        });\n        return this.httpGet<SearchedVersion[]>(endpoint, undefined, (data) => {\n            return data.versions;\n        });\n    }\n\n    public getArtifactRules(groupId: string|null, artifactId: string): Promise<Rule[]> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Getting the list of rules for artifact: \", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules\", { groupId, artifactId });\n        return this.httpGet<string[]>(endpoint).then( ruleTypes => {\n            return Promise.all(ruleTypes.map(rt => this.getArtifactRule(groupId, artifactId, rt)));\n        });\n    }\n\n    public getArtifactRule(groupId: string|null, artifactId: string, type: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            rule: type\n        });\n        return this.httpGet<Rule>(endpoint);\n    }\n\n    public createArtifactRule(groupId: string|null, artifactId: string, type: string, config: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Creating rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules\", { groupId, artifactId });\n        const body: Rule = {\n            config,\n            type\n        };\n        return this.httpPostWithReturn(endpoint, body);\n    }\n\n    public updateArtifactRule(groupId: string|null, artifactId: string, type: string, config: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Updating rule:\", type);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            \"rule\": type\n        });\n        const body: Rule = { config, type };\n        return this.httpPutWithReturn<Rule, Rule>(endpoint, body);\n    }\n\n    public deleteArtifactRule(groupId: string|null, artifactId: string, type: string): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Deleting rule:\", type);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            \"rule\": type\n        });\n        return this.httpDelete(endpoint);\n    }\n\n    public deleteArtifact(groupId: string|null, artifactId: string): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Deleting artifact:\", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId\", { groupId, artifactId });\n        return this.httpDelete(endpoint);\n    }\n\n    private normalizeGroupId(groupId: string|null): string {\n        return groupId || \"default\";\n    }\n\n    private contentType(type: string, content: string): string {\n        switch (type) {\n            case \"PROTOBUF\":\n                return ContentTypes.APPLICATION_PROTOBUF;\n            case \"WSDL\":\n            case \"XSD\":\n            case \"XML\":\n                return ContentTypes.APPLICATION_XML;\n            case \"GRAPHQL\":\n                return ContentTypes.APPLICATION_GRAPHQL;\n        }\n        if (this.isJson(content)) {\n            return ContentTypes.APPLICATION_JSON;\n        } else if (this.isXml(content)) {\n            return ContentTypes.APPLICATION_XML;\n        } else if (this.isYaml(content)) {\n            return ContentTypes.APPLICATION_YAML;\n        } else {\n            return \"application/octet-stream\";\n        }\n    }\n\n    private isJson(content: string): boolean {\n        try {\n            JSON.parse(content);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private isXml(content: string): boolean {\n        try {\n            const xmlParser: DOMParser = new DOMParser();\n            const dom: Document = xmlParser.parseFromString(content, \"application/xml\");\n            const isParseError: boolean = dom.getElementsByTagName(\"parsererror\").length !== 0;\n            return !isParseError;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private isYaml(content: string): boolean {\n        try {\n            const parsedContent: any = YAML.parse(content);\n            return typeof parsedContent === \"object\";\n        } catch (e) {\n            return false;\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {Service} from \"../baseService\";\nimport {ConfigService} from \"../config\";\n\n/**\n * A simple logger service.\n */\nexport class LoggerService implements Service {\n    // @ts-ignore\n    protected config: ConfigService = null;\n\n    public init(): void {\n        // Nothing to init\n    }\n\n    public debug(message: any, ...optionalParams: any[]): void {\n        console.debug((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public info(message: any, ...optionalParams: any[]): void {\n        console.info((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public warn(message: any, ...optionalParams: any[]): void {\n        console.warn((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public error(message: any, ...optionalParams: any[]): void {\n        console.error((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n}\n","import Keycloak from \"keycloak-js\";\nimport {ConfigService} from \"../config\";\nimport {Service} from \"../baseService\";\nimport {AxiosRequestConfig} from \"axios\";\nimport {LoggerService} from \"../logger\";\nimport {UsersService} from \"../users\";\nimport {Services} from \"../services\";\n\nconst KC_CONFIG_OPTIONS: string[] = [\"url\", \"realm\", \"clientId\"];\nconst KC_INIT_OPTIONS: string[] = [\n    \"useNonce\", \"adapter\", \"onLoad\", \"token\", \"refreshToken\", \"idToken\", \"timeSkew\", \"checkLoginIframe\",\n    \"checkLoginIframeInterval\", \"responseMode\", \"redirectUri\", \"silentCheckSsoRedirectUri\", \"flow\",\n    \"pkceMethod\", \"enableLogging\"\n];\n\nfunction only(items: string[], allOptions: any): any {\n    const rval: any = {};\n    items.forEach(item => {\n        if (allOptions[item] !== undefined) {\n            rval[item] = allOptions[item];\n        }\n    });\n    return rval;\n}\n\nexport interface AuthenticatedUser {\n    username: string;\n    displayName: string;\n    fullName: string;\n}\n\n/**\n * Initializes Keycloak instance and calls the provided callback function if successfully authenticated.\n *\n * @param onAuthenticatedCallback\n */\n\nexport class AuthService implements Service {\n\n    // @ts-ignore\n    protected users: UsersService = null;\n\n    private enabled: boolean = false;\n    // @ts-ignore\n    private config: ConfigService = null;\n    // @ts-ignore\n    private logger: LoggerService = null;\n    // @ts-ignore\n    private keycloak: Keycloak.KeycloakInstance;\n    // @ts-ignore\n    private user: AuthenticatedUser;\n\n    public init = () => {\n        // no init?\n    }\n\n    public authenticateUsingKeycloak = (onAuthenticatedCallback: () => void) => {\n        const configOptions: any = only(KC_CONFIG_OPTIONS, this.config.authOptions());\n        const initOptions: any = only(KC_INIT_OPTIONS, this.config.authOptions());\n\n        this.keycloak = Keycloak(configOptions);\n\n        const addRoles: ((user: AuthenticatedUser) => void) = (user) => {\n            if (this.keycloak.resourceAccess) {\n                Object.keys(this.keycloak.resourceAccess)\n                    // @ts-ignore\n                    .forEach(key => (user.roles = user.roles.concat(this.keycloak.resourceAccess[key].roles)));\n            }\n\n            this.logger.info(\"----------------\");\n            this.logger.info(\"Authenticated!  User info:\", user);\n            this.logger.info(\"----------------\");\n        };\n\n        const fakeUser: (() => AuthenticatedUser) = () => {\n            return {\n                displayName: \"User\",\n                fullName: \"User\",\n                roles: [],\n                username: \"User\"\n            };\n        };\n\n        const infoToUser: (() => AuthenticatedUser) = () => {\n            const ui: any = this.keycloak.userInfo;\n            return {\n                displayName: ui.given_name,\n                fullName: ui.name,\n                roles: [],\n                username: ui.preferred_username\n            };\n        };\n\n        this.keycloak.init(initOptions)\n            .then((authenticated) => {\n                if (authenticated) {\n                    this.keycloak.loadUserInfo().then(() => {\n                        this.user = infoToUser();\n                        addRoles(this.user);\n                        onAuthenticatedCallback();\n                    }).catch(() => {\n                        this.user = fakeUser();\n                        addRoles(this.user);\n                        onAuthenticatedCallback();\n                    })\n                } else {\n                    console.warn(\"Not authenticated!\");\n                    this.doLogin();\n                }\n            })\n    };\n\n    public isAuthenticated = () => this.keycloak != null && this.keycloak.authenticated;\n\n    public doLogin = () => this.keycloak.login;\n\n    public doLogout = () =>  {\n        this.keycloak.logout({\n            redirectUri: window.location.href\n        });\n    }\n\n    public getToken = () => this.keycloak.token;\n\n    public isAuthenticationEnabled(): boolean {\n        return this.enabled;\n    }\n\n    public isRbacEnabled(): boolean {\n        return this.config.authRbacEnabled();\n    }\n\n    public isObacEnabled(): boolean {\n        return this.config.authObacEnabled();\n    }\n\n    public isUserAdmin(): boolean {\n        if (!this.isAuthenticationEnabled()) {\n            return true;\n        }\n        if (!this.isRbacEnabled() && !this.isObacEnabled()) {\n            return true;\n        }\n        return this.users.currentUser().admin;\n    }\n\n    public isUserDeveloper(resourceOwner?: string): boolean {\n        if (!this.isAuthenticationEnabled()) {\n            return true;\n        }\n        if (!this.isRbacEnabled() && !this.isObacEnabled()) {\n            return true;\n        }\n        if (this.isUserAdmin()) {\n            return true;\n        }\n        if (this.isRbacEnabled() && !this.users.currentUser().developer) {\n            return false;\n        }\n        if (this.isObacEnabled() && resourceOwner && this.users.currentUser().username !== resourceOwner) {\n            return false;\n        }\n        return true;\n    }\n\n    public authenticateAndRender(render: () => void): void {\n        if (this.config.authType() === \"keycloakjs\") {\n            this.enabled = true;\n            this.authenticateUsingKeycloak(render);\n        } else {\n            this.enabled = false;\n            render();\n        }\n    }\n\n    public getAuthInterceptor(): (config: AxiosRequestConfig) => Promise<any> {\n        const self: AuthService = this;\n        const interceptor = (config: AxiosRequestConfig) => {\n            if (self.config.authType() === \"keycloakjs\") {\n                return self.updateKeycloakToken(() => {\n                    config.headers.Authorization = `Bearer ${this.getToken()}`;\n                    return Promise.resolve(config);\n                });\n            } else if (self.config.authType() === \"gettoken\") {\n                this.logger.info(\"[AuthService] Using 'getToken' auth type.\")\n                return self.config.authGetToken()().then(token => {\n                    this.logger.info(\"[AuthService] Token acquired.\");\n                    config.headers.Authorization = `Bearer ${token}`;\n                    return Promise.resolve(config);\n                });\n            } else {\n                return Promise.resolve(config);\n            }\n        };\n        return interceptor;\n    }\n\n    // @ts-ignore\n    private updateKeycloakToken = (successCallback) => {\n        return this.keycloak.updateToken(5)\n            .then(successCallback)\n            .catch(this.doLogin)\n    };\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BaseService} from \"../baseService\";\nimport {UserInfo} from \"../../models\";\n\n/**\n * A service that provides access to the /users endpoint.\n */\nexport class UsersService extends BaseService {\n\n    private currentUserInfo: UserInfo;\n\n    constructor() {\n        super();\n        this.currentUserInfo = {\n            username: \"\",\n            displayName: \"\",\n            admin: false,\n            developer: false,\n            viewer: false\n        };\n    }\n\n    public init(): void {\n        // Nothing to init (done in c'tor)\n    }\n\n    public currentUser(): UserInfo {\n        return this.currentUserInfo;\n    }\n\n    public updateCurrentUser(): Promise<UserInfo> {\n        if (this.auth.isAuthenticated()) {\n            // TODO cache the response for a few minutes to limit the # of times this is called per minute??\n            const endpoint: string = this.endpoint(\"/v2/users/me\");\n            return this.httpGet<UserInfo>(endpoint).then(userInfo => {\n                this.currentUserInfo = userInfo;\n                return userInfo;\n            });\n        } else {\n            return Promise.resolve(this.currentUserInfo);\n        }\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {GroupsService} from \"./groups\";\nimport {ConfigService} from \"./config\";\nimport {LoggerService} from \"./logger\";\nimport {AdminService} from \"./admin\";\nimport {Service} from \"./baseService\";\nimport {DownloaderService} from \"./downloader\";\nimport {AuthService} from \"./auth\";\nimport {UsersService} from \"./users\";\n\n/**\n * Class that provides access to all of the services in the application.\n */\nexport class Services {\n\n    static _isInit: boolean = false;\n\n    public static getGroupsService(): GroupsService {\n        return Services.all.groups;\n    }\n\n    public static getConfigService(): ConfigService {\n        return Services.all.config;\n    }\n\n    public static getDownloaderService(): DownloaderService {\n        return Services.all.downloader;\n    }\n\n    public static getLoggerService(): LoggerService {\n        return Services.all.logger;\n    }\n\n    public static getAdminService(): AdminService {\n        return Services.all.admin;\n    }\n\n    public static getAuthService(): AuthService {\n        return Services.all.auth;\n    }\n\n    public static getUsersService(): UsersService {\n        return Services.all.users;\n    }\n\n    private static all: any = {\n        groups: new GroupsService(),\n        users: new UsersService(),\n        config: new ConfigService(),\n        downloader: new DownloaderService(),\n        admin: new AdminService(),\n        logger: new LoggerService(),\n        auth: new AuthService()\n    };\n\n    // tslint:disable-next-line:member-ordering member-access\n    static _intialize(): void {\n        console.info(\"[Services] _initialize() in Services\");\n        if (Services._isInit) {\n            console.info(\"[Services] Services already intialized...skipping.\");\n            return;\n        }\n        console.info(\"[Services] Actually initializing Services!!!\");\n        // First perform simple service-service injection.\n        Object.keys(Services.all).forEach( svcToInjectIntoName => {\n            const svcToInjectInto: any = Services.all[svcToInjectIntoName];\n            Object.keys(Services.all).filter(key => key !== svcToInjectIntoName).forEach(injectableSvcKey => {\n                if (svcToInjectInto[injectableSvcKey] !== undefined && svcToInjectInto[injectableSvcKey] === null) {\n                    svcToInjectInto[injectableSvcKey] = Services.all[injectableSvcKey];\n                }\n            })\n        });\n        // Once that's done, init() all the services\n        Object.keys(Services.all).forEach( svcToInjectIntoName => {\n            const svcToInit: Service = Services.all[svcToInjectIntoName];\n            svcToInit.init();\n        });\n        Services._isInit = true;\n        Services.getLoggerService().info(\"[Services] Services successfully initialized.\");\n    }\n\n}\nServices._intialize();\n","module.exports = __webpack_public_path__ + \"images/2cc104d5.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAB6VBMVEUAAAD///////+/v7/////////////////////////////////////////////////////////////////////Z2dn////b29v////////////////////////////////////////////////////////////////////MzMzNzc3////////////W1tb////W1tb////////Ly8v////////W1tb////////////////////////////////////////////////Nzc3AwMD////////////////////////////////////////////////AwMDIyMj///////////+1tbW3t7f///////////+7u7vCwsL///++vr6/v7////+pqamqqqqrq6usrKyurq6vrq+wsLCxsLCxsbGysrKzs7O1tLS1tbW3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDCwsLDw8PExMTFxcXGxsbIyMjJycnLy8vMzMzOzs7Qz8/Q0NDT09PY2NjZ2dnc3Nze3t7f39/g4ODh4eHi4uLj4+Pl5eXm5ubp6enq6uru7u7v7+/w8PDx8fHy8vLz8vPz8/P08/P09PT29vb4+Pj6+vr7+/v8/Pz9/f3+/v7///8xQE+pAAAAYXRSTlMAAQIEBgcODxARHiAiJSYnKDs9PkBDRUZGR0lKT1BWWFtdXmNkZ2xub3R2d4eIioqOj5GSkpOUlJWio7i5u7zExtfY2tve3+Dh4uPk5ejp7O3v8PHy8/j4+vv8/f39/v7+w68SqgAAAAFiS0dEorDd34wAAAHpSURBVBgZdcEHQ1JRGAbgD6Rpe9reWFlZlu29t5ZRQotTeFL0gnxhGaVFNjCaJjYkwPeXdsF7Dpfh81AJx7w17oYG9+q5DpqCc8Xh67BcO1TnpEqOjadR4tR6B5VZcBIVTsynEus8qOLWWrLZ6kdV9+tJ24Kp+DeTZYkPysSPD0Pvv/2D5l1EBbOuQvnVJ5+EmfuS0C7PoLyDUP70yM5ezvsIrYlMc7xQnkkZ5kkjUNpriegAlO9SdrElDm0fkasFyjspe9gSzUFpnUaroL2W0mAlDa2OGqG9ldJgJQNtJx2HlpQyyJZXKDpKF6FlDCl7edInFJ0nD4q+ShnkgoEcitrIB5tEp+yOMPNgGjY+8sBu7I3RFRr8nINdG11AmewEypyjY7DLjv9Opf6Op3OwOUKNULJf4s/Z8nRgOANlB62EZfQFl+j/CcsycrWgYDTKZaIjKGh1ETUjLxvjCv1Z5DUR0ex2mBJcRQKm9loyNcMU4ypewrSH8mZeAVJc1RhwaToVLPZimE2R7hCXSsK7kCwb/HFmjgSEwZbw40BXiHnIv4m0+n5mDgphsPJICBHmmJtsdj9g7hDCYKVDCBF8uItKLL/JASEMVoJCiBtLqYxz/x0hDFZC4vZeJ1Wq2X72LlvundlWQ9p/X4kh1YBMq44AAAAASUVORK5CYII=\""],"names":["properties","testIdCounter","navigateTo","location","history","PureComponent","HISTORY","Services","info","push","warn","state","initializeState","postConstruct","setHistory","testId","prefix","this","setSingleState","key","value","callback","newState","setMultiState","setState","linkTo","url","uiNavPrefixPath","props","render","className","getClassNames","title","getTitle","type","ArtifactTypes","classes","onSelect","event","isOpen","document","getElementById","focus","onToggle","dropdownItems","DropdownItem","Button","onClick","doLogout","variant","isInline","Dropdown","id","toggle","DropdownToggle","Avatar","src","alt","isPlain","showDetails","reloadPage","window","reload","PageSection","PageSectionVariants","EmptyState","EmptyStateVariant","EmptyStateIcon","icon","ExclamationTriangleIcon","Title","headingLevel","size","errorMessage","EmptyStateBody","EmptyStateSecondaryActions","isShowDetails","mode","theme","name","width","editorWidth","height","editorHeight","fontSize","showPrintMargin","showGutter","highlightActiveLine","errorDetail","readOnly","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","error","detail","JSON","stringify","Modal","ModalVariant","onClose","actions","header","href","showClose","Spinner","message","newValue","currentTarget","toggleIndicator","CaretDownIcon","displayValue","doEnableRule","ruleType","onEnableRule","doDisableRule","onDisableRule","doConfigureRule","config","onConfigureRule","validityRuleActions","isRuleEnabled","ValidityDropdown","getRuleConfig","TrashIcon","compatibilityRuleActions","CompatibilityDropdown","DataList","DataListItem","DataListItemRow","getRuleRowClasses","DataListItemCells","dataListCells","DataListCell","OkIcon","isDeveloper","feature","isNot","DataListAction","CodeBranchIcon","rules","filter","rule","length","join","frules","r","SchemaEmptyState","artifactName","basename","registryId","Card","CardTitle","CardBody","color","ClipboardCopy","isReadOnly","hoverTip","clickTip","Link","to","keySchema","topicName","routePath","postfix","DescriptionListDescription","Grid","hasGutter","rowSpan","GridItem","NoMatchingSchema","artifactId","span","Alert","AlertVariant","Popover","headerContent","bodyContent","SchemaCard","hasKeySchema","hasValueSchema","version","component","DescriptionList","isHorizontal","isAutoColumnWidths","columnModifier","lg","DescriptionListTerm","groupId","undefined","Bullseye","componentWillMount","getArtifactsMetadata","componentDidUpdate","prevProps","artifactId1","artifactId2","getArtifactMetaData","then","data","catch","e","error_code","updateConfiguration","updateConfig","APPLICATION_JSON","APPLICATION_YAML","APPLICATION_XML","APPLICATION_PROTOBUF","APPLICATION_GRAPHQL","READ_ONLY","DEVELOPER","ADMIN","AXIOS","logger","auth","init","initAuthInterceptor","interceptors","request","use","getAuthInterceptor","endpoint","path","params","queryParams","Object","keys","forEach","encodeURIComponent","replace","rval","apiBaseHref","first","options","headers","httpGet","successCallback","ContentTypes","axiosConfig","response","Promise","reject","unwrapErrorData","httpPost","body","httpPostWithReturn","httpPut","httpPutWithReturn","httpDelete","method","validateStatus","status","artifactsUrl","endsWith","substring","debug","getRules","ruleTypes","all","map","rt","getRule","createRule","updateRule","deleteRule","getRoleMappings","getRoleMapping","principalId","createRoleMapping","role","updateRoleMapping","deleteRoleMapping","BaseService","DEFAULT_CONFIG","artifacts","clientId","onLoad","realm","rbacEnabled","obacEnabled","features","breadcrumbs","roleManagement","ui","contextPath","navPrefixPath","w","ApicurioRegistryConfig","console","uiContextPath","substr","defaults","featureReadOnly","featureBreadcrumbs","featureRoleManagement","authType","authRbacEnabled","authObacEnabled","authOptions","authGetToken","getToken","resolve","principals","featureMultiTenant","multiTenant","downloadToFS","content","contentType","filename","chrome","link","createElement","blob","Blob","URL","createObjectURL","download","click","navigator","msSaveBlob","file","File","open","createArtifact","createArtifactVersion","normalizeGroupId","getArtifacts","criteria","paging","start","page","pageSize","limit","offset","order","sortAscending","orderby","count","updateArtifactMetaData","metaData","getArtifactContent","maxContentLength","responseType","transformResponse","getArtifactVersions","versions","getArtifactRules","getArtifactRule","createArtifactRule","updateArtifactRule","deleteArtifactRule","deleteArtifact","isJson","isXml","isYaml","parse","DOMParser","parseFromString","getElementsByTagName","optionalParams","KC_CONFIG_OPTIONS","KC_INIT_OPTIONS","only","items","allOptions","item","users","enabled","authenticateUsingKeycloak","onAuthenticatedCallback","configOptions","initOptions","keycloak","addRoles","user","resourceAccess","roles","concat","authenticated","loadUserInfo","displayName","userInfo","given_name","fullName","username","preferred_username","doLogin","isAuthenticated","login","logout","redirectUri","token","updateKeycloakToken","updateToken","isAuthenticationEnabled","isRbacEnabled","isObacEnabled","isUserAdmin","currentUser","admin","isUserDeveloper","resourceOwner","developer","authenticateAndRender","self","Authorization","currentUserInfo","viewer","updateCurrentUser","getGroupsService","groups","getConfigService","getDownloaderService","downloader","getLoggerService","getAdminService","getAuthService","getUsersService","_intialize","_isInit","svcToInjectIntoName","svcToInjectInto","injectableSvcKey","GroupsService","UsersService","ConfigService","DownloaderService","AdminService","LoggerService","AuthService","module","exports"],"sourceRoot":""}