{"version":3,"file":"7383.5e127e62.js","mappings":"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","sources":["webpack://@apicurio/registry-ui/./src/app/components/baseComponent.ts","webpack://@apicurio/registry-ui/./src/app/components/common/artifactTypeIcon.tsx","webpack://@apicurio/registry-ui/./src/app/components/errorPage/errorPage.tsx","webpack://@apicurio/registry-ui/./src/app/components/header/avatarDropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/header/avatar.png","webpack://@apicurio/registry-ui/./src/app/components/modals/invalidContentModal.tsx","webpack://@apicurio/registry-ui/./src/app/components/modals/pleaseWaitModal.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/compatibility-dropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/validity-dropdown.tsx","webpack://@apicurio/registry-ui/./src/app/components/ruleList/ruleList.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/emptyState.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/matchingSchemaCard.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/noMatchingSchema.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/schemaCard.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/permissionDenied.tsx","webpack://@apicurio/registry-ui/./src/app/components/schemaMapping/schemaMapping.tsx","webpack://@apicurio/registry-ui/./src/app/federated/federated-utils.ts","webpack://@apicurio/registry-ui/./src/models/contentTypes.model.ts","webpack://@apicurio/registry-ui/./src/models/roleMapping.model.ts","webpack://@apicurio/registry-ui/./src/services/baseService.ts","webpack://@apicurio/registry-ui/./src/services/admin/admin.service.ts","webpack://@apicurio/registry-ui/./src/services/config/config.service.ts","webpack://@apicurio/registry-ui/./src/services/alerts/alerts.service.ts","webpack://@apicurio/registry-ui/./src/services/downloader/downloader.service.ts","webpack://@apicurio/registry-ui/./src/services/groups/groups.service.ts","webpack://@apicurio/registry-ui/./src/services/logger/logger.service.ts","webpack://@apicurio/registry-ui/./src/services/auth/auth.service.ts","webpack://@apicurio/registry-ui/./src/services/users/users.service.ts","webpack://@apicurio/registry-ui/./src/services/services.ts","webpack://@apicurio/registry-ui/./src/app/components/header/apicurio_logo_darkbkg_350px.png"],"sourcesContent":["/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport {Services} from \"../../services\";\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface PureComponentProps {\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface PureComponentState {\n}\n\n\n/**\n * Base class for all Apicurio Registry UI components.\n */\nexport abstract class PureComponent<P extends PureComponentProps, S extends PureComponentState, SS = {}> extends React.PureComponent<P, S, SS> {\n\n    private static HISTORY: any = null;\n    private testIdCounter: number = 1;\n\n    public static setHistory(history: any): void {\n        PureComponent.HISTORY = history;\n    }\n\n    protected constructor(properties: Readonly<P>) {\n        super(properties);\n        this.state = this.initializeState();\n        this.postConstruct();\n    }\n\n    protected abstract initializeState(): S;\n\n    protected testId(prefix: string): string {\n        return prefix + this.testIdCounter++;\n    }\n\n    protected postConstruct(): void {\n        // Can optionally be overridden by subclasses.\n    }\n\n    protected setSingleState(key: string, value: any, callback?: () => void): void {\n        const newState: any = {};\n        newState[key] = value;\n        this.setMultiState(newState, callback);\n    }\n\n    protected setMultiState<K extends keyof S>(newState: Pick<S, K>, callback?: () => void): void {\n        // Services.getLoggerService().debug(\"[PureComponent] Setting multi-state: %o\", newState);\n        this.setState({\n            ...newState\n        }, callback);\n    }\n\n    protected navigateTo = (location: string): () => void => {\n        // @ts-ignore\n        return () => {\n            const history: any = PureComponent.HISTORY;\n            if (history) {\n                Services.getLoggerService().info(\"Navigating to:\", location);\n                history.push(location);\n            } else {\n                Services.getLoggerService().warn(\"Navigation impossible, null/undefined history.\");\n            }\n        };\n    };\n\n    protected linkTo(url: string): string {\n        return Services.getConfigService().uiNavPrefixPath() + url;\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from \"react\";\nimport \"./artifactTypeIcon.css\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {ArtifactTypes} from \"../../../models\";\n\n/**\n * Properties\n */\nexport interface ArtifactTypeIconProps extends PureComponentProps {\n    type: string;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface ArtifactTypeIconState extends PureComponentState {\n}\n\n\n/**\n * Models the list of artifacts.\n */\nexport class ArtifactTypeIcon extends PureComponent<ArtifactTypeIconProps, ArtifactTypeIconState> {\n\n    constructor(props: Readonly<ArtifactTypeIconProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <div className={this.getClassNames()} title={this.getTitle()} />\n        );\n    }\n\n    protected initializeState(): ArtifactTypeIconState {\n        return {};\n    }\n\n    private getTitle(): string {\n        let title: string = this.props.type;\n        switch (this.props.type) {\n            case ArtifactTypes.AVRO:\n                title = \"Avro Schema\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                title = \"Protobuf Schema\";\n                break;\n            case ArtifactTypes.JSON:\n                title = \"JSON Schema\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                title = \"OpenAPI Definition\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                title = \"AsyncAPI Definition\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                title = \"GraphQL Definition\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                title = \"Kafka Connect Schema\";\n                break;\n            case ArtifactTypes.WSDL:\n                title = \"WSDL\";\n                break;\n            case ArtifactTypes.XSD:\n                title = \"XML Schema\";\n                break;\n            case ArtifactTypes.XML:\n                title = \"XML\";\n                break;\n        }\n        return title;\n    }\n\n    private getClassNames(): string {\n        let classes: string = \"artifact-type-icon\";\n        switch (this.props.type) {\n            case ArtifactTypes.AVRO:\n                classes += \" avro-icon24\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                classes += \" protobuf-icon24\";\n                break;\n            case ArtifactTypes.JSON:\n                classes += \" json-icon24\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                classes += \" oai-icon24\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                classes += \" aai-icon24\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                classes += \" graphql-icon24\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                classes += \" kconnect-icon24\";\n                break;\n            case ArtifactTypes.WSDL:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XSD:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XML:\n                classes += \" xml-icon24\";\n                break;\n        }\n        return classes;\n    }\n\n}\n\nexport default ArtifactTypeIcon;\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./errorPage.css\";\nimport {\n    Button, DropdownItem,\n    EmptyState, EmptyStateBody,\n    EmptyStateIcon, EmptyStateSecondaryActions,\n    EmptyStateVariant,\n    PageSection,\n    PageSectionVariants,\n    Title\n} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {PageErrorType} from \"../../pages/basePage\";\nimport {ExclamationTriangleIcon} from \"@patternfly/react-icons\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-text\";\nimport \"ace-builds/src-noconflict/theme-tomorrow\";\nimport {Services} from \"../../../services\";\n\n\nexport interface PageError {\n    type: PageErrorType,\n    errorMessage: string,\n    error: any\n}\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface ErrorPageProps extends PureComponentProps {\n    error: PageError|undefined;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface ErrorPageState extends PureComponentState {\n    isShowDetails: boolean;\n    editorWidth: string;\n    editorHeight: string;\n    canShowDetails: boolean;\n}\n\n\nexport class ErrorPage extends PureComponent<ErrorPageProps, ErrorPageState> {\n\n    constructor(props: Readonly<ErrorPageProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <React.Fragment>\n                <PageSection className=\"ps_error\" variant={PageSectionVariants.light}>\n                    <div className=\"centerizer\">\n                        <EmptyState variant={EmptyStateVariant.large}>\n                            <EmptyStateIcon icon={ExclamationTriangleIcon} />\n                            <Title headingLevel=\"h5\" size=\"lg\">{ this.errorMessage() }</Title>\n                            <EmptyStateBody>\n                                Try reloading the page. If the issue persists, reach out to your administrator.\n                            </EmptyStateBody>\n                            <Button variant=\"primary\" onClick={this.reloadPage}>Reload page</Button>\n                            <EmptyStateSecondaryActions>\n                                <Button variant=\"link\"\n                                        data-testid=\"error-btn-artifacts\"\n                                        onClick={this.navigateTo(this.linkTo(\"/\"))}>Back to artifacts</Button>\n                                {\n                                    this.state.canShowDetails ?\n                                        <Button variant=\"link\"\n                                                data-testid=\"error-btn-details\"\n                                                onClick={this.showDetails}>Show details</Button>\n                                        :\n                                        <span/>\n                                }\n                            </EmptyStateSecondaryActions>\n                        </EmptyState>\n                        <div className=\"separator\">&nbsp;</div>\n                        {\n                            this.state.isShowDetails ?\n                                <div className=\"ace-wrapper pf-c-empty-state pf-m-lg\" id=\"ace-wrapper\">\n                                    <AceEditor\n                                        data-testid=\"ace-details\"\n                                        mode=\"json\"\n                                        theme=\"tomorrow\"\n                                        name=\"errorDetail\"\n                                        className=\"errorDetail\"\n                                        width={this.state.editorWidth}\n                                        height={this.state.editorHeight}\n                                        fontSize={14}\n                                        showPrintMargin={false}\n                                        showGutter={false}\n                                        highlightActiveLine={false}\n                                        value={this.errorDetail()}\n                                        readOnly={true}\n                                        setOptions={{\n                                            enableBasicAutocompletion: false,\n                                            enableLiveAutocompletion: false,\n                                            enableSnippets: false,\n                                            showLineNumbers: true,\n                                            tabSize: 2,\n                                            useWorker: false\n                                        }}\n                                    />\n                                </div>\n                                :\n                                <div/>\n                        }\n                    </div>\n                </PageSection>\n            </React.Fragment>\n        );\n    }\n\n    protected initializeState(): ErrorPageState {\n        return {\n            editorHeight: \"250px\",\n            editorWidth: \"100%\",\n            isShowDetails: false,\n            canShowDetails: !Services.getConfigService().featureMultiTenant()\n        };\n    }\n\n    private errorMessage(): string {\n        if (this.props.error) {\n            return this.props.error.errorMessage;\n        } else {\n            return \"Internal server error\";\n        }\n    }\n\n    private errorDetail(): string {\n        if (this.props.error && this.props.error.error && this.props.error.error.detail) {\n            return this.props.error.error.detail;\n        } else if (this.props.error && this.props.error.error) {\n            return JSON.stringify(this.props.error.error, null, 3);\n        } else {\n            return \"Error info not available\";\n        }\n    }\n\n    private showDetails = (): void => {\n        this.setSingleState(\"isShowDetails\", true);\n    };\n\n    protected reloadPage = (): void => {\n        window.location.reload();\n    };\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./avatarDropdown.css\"\nimport avatarImg from \"./avatar.png\";\nimport {Avatar, Button, Dropdown, DropdownItem, DropdownToggle} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {Services} from \"../../../services\";\n\n\n// tslint:disable-next-line:no-empty-interface\nexport interface AvatarDropdownProps extends PureComponentProps {\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface AvatarDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\nexport class AvatarDropdown extends PureComponent<AvatarDropdownProps, AvatarDropdownState> {\n\n    constructor(props: Readonly<AvatarDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"logout\">\n                <Button className=\"avatar-logout-link\" onClick={() => Services.getAuthService().doLogout()} variant=\"link\" isInline={true}>Logout</Button>\n            </DropdownItem>,\n        ];\n\n        return (\n            <Dropdown\n                id=\"avatar-dropdown\"\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle onToggle={this.onToggle} aria-label=\"User Menu\" id=\"avatar-toggle\">\n                        <Avatar src={avatarImg} alt=\"User\" />\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                isPlain={true}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): AvatarDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onSelect = (event: any): void => {\n        this.setSingleState(\"isOpen\", !this.state.isOpen);\n        // @ts-ignore\n        document.getElementById(\"avatar-toggle\").focus();\n    };\n\n    private onToggle = (): void => {\n        this.setSingleState(\"isOpen\", !this.state.isOpen);\n    };\n\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAB6VBMVEUAAAD///////+/v7/////////////////////////////////////////////////////////////////////Z2dn////b29v////////////////////////////////////////////////////////////////////MzMzNzc3////////////W1tb////W1tb////////Ly8v////////W1tb////////////////////////////////////////////////Nzc3AwMD////////////////////////////////////////////////AwMDIyMj///////////+1tbW3t7f///////////+7u7vCwsL///++vr6/v7////+pqamqqqqrq6usrKyurq6vrq+wsLCxsLCxsbGysrKzs7O1tLS1tbW3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDCwsLDw8PExMTFxcXGxsbIyMjJycnLy8vMzMzOzs7Qz8/Q0NDT09PY2NjZ2dnc3Nze3t7f39/g4ODh4eHi4uLj4+Pl5eXm5ubp6enq6uru7u7v7+/w8PDx8fHy8vLz8vPz8/P08/P09PT29vb4+Pj6+vr7+/v8/Pz9/f3+/v7///8xQE+pAAAAYXRSTlMAAQIEBgcODxARHiAiJSYnKDs9PkBDRUZGR0lKT1BWWFtdXmNkZ2xub3R2d4eIioqOj5GSkpOUlJWio7i5u7zExtfY2tve3+Dh4uPk5ejp7O3v8PHy8/j4+vv8/f39/v7+w68SqgAAAAFiS0dEorDd34wAAAHpSURBVBgZdcEHQ1JRGAbgD6Rpe9reWFlZlu29t5ZRQotTeFL0gnxhGaVFNjCaJjYkwPeXdsF7Dpfh81AJx7w17oYG9+q5DpqCc8Xh67BcO1TnpEqOjadR4tR6B5VZcBIVTsynEus8qOLWWrLZ6kdV9+tJ24Kp+DeTZYkPysSPD0Pvv/2D5l1EBbOuQvnVJ5+EmfuS0C7PoLyDUP70yM5ezvsIrYlMc7xQnkkZ5kkjUNpriegAlO9SdrElDm0fkasFyjspe9gSzUFpnUaroL2W0mAlDa2OGqG9ldJgJQNtJx2HlpQyyJZXKDpKF6FlDCl7edInFJ0nD4q+ShnkgoEcitrIB5tEp+yOMPNgGjY+8sBu7I3RFRr8nINdG11AmewEypyjY7DLjv9Opf6Op3OwOUKNULJf4s/Z8nRgOANlB62EZfQFl+j/CcsycrWgYDTKZaIjKGh1ETUjLxvjCv1Z5DUR0ex2mBJcRQKm9loyNcMU4ypewrSH8mZeAVJc1RhwaToVLPZimE2R7hCXSsK7kCwb/HFmjgSEwZbw40BXiHnIv4m0+n5mDgphsPJICBHmmJtsdj9g7hDCYKVDCBF8uItKLL/JASEMVoJCiBtLqYxz/x0hDFZC4vZeJ1Wq2X72LlvundlWQ9p/X4kh1YBMq44AAAAASUVORK5CYII=\"","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport \"./invalidContentModal.css\";\nimport {Button, DataList, DataListCell, DataListItemCells, DataListItemRow, Modal, ModalVariant} from \"@patternfly/react-core\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport { ApiError } from 'src/models/apiError.model';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\n\n\n/**\n * Properties\n */\nexport interface InvalidContentModalProps extends PureComponentProps {\n    error: ApiError|null;\n    isOpen: boolean;\n    onClose: () => void;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface InvalidContentModalState extends PureComponentState {\n}\n\n/**\n * Models the \"invalid content\" modal.  This is shown when the user tries to upload content\n * that is not valid.\n */\nexport class InvalidContentModal extends PureComponent<InvalidContentModalProps, InvalidContentModalState> {\n\n    constructor(props: Readonly<InvalidContentModalProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <Modal\n                title=\"Invalid Content Error\"\n                variant={ModalVariant.large}\n                isOpen={this.props.isOpen}\n                onClose={this.props.onClose}\n                className=\"edit-artifact-metaData pf-m-redhat-font\"\n                actions={[\n                    <Button key=\"close\" variant=\"link\" data-testid=\"modal-btn-close\" onClick={this.props.onClose}>Close</Button>\n                ]}\n            >\n                <p className=\"modal-desc\" >The content you attempted to upload violated one or more of the established content rules.</p>\n                { this.errorDetail() }\n            </Modal>\n        );\n    }\n\n    protected initializeState(): InvalidContentModalState {\n        return {};\n    }\n\n    private errorDetail(): React.ReactElement {\n        if (this.props.error) {\n            if (this.props.error.name === \"RuleViolationException\" && this.props.error.causes != null && this.props.error.causes.length > 0 ) {\n                return (\n                    <DataList aria-label=\"Error causes\" className=\"error-causes\" >\n                        {\n                            this.props.error.causes.map( (cause, idx) =>\n                                <DataListItemRow key={\"\"+idx} className=\"error-causes-item\">\n                                    <DataListItemCells\n                                        dataListCells={[\n                                            <DataListCell key=\"error icon\" className=\"type-icon-cell\">\n                                                <ExclamationCircleIcon/>\n                                            </DataListCell>,\n                                            <DataListCell key=\"main content\">\n                                                <div className=\"error-causes-item-title\">\n                                                    <span>{cause.context != null ? (<b>{cause.context}</b>) : cause.description}</span>\n                                                </div>\n                                                <div className=\"error-causes-item-description\">{cause.context != null ? cause.description : cause.context }</div>\n                                            </DataListCell>\n                                        ]}\n                                    />\n                                </DataListItemRow>\n                            )\n                        }\n                    </DataList>\n                );\n            } else if (this.props.error.detail) {\n                return (\n                    <pre className=\"error-detail\">\n                        {this.props.error.detail}\n                    </pre>\n                );\n            }\n        }\n        return <p/>;\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport \"./pleaseWaitModal.css\";\nimport {Modal, Spinner} from \"@patternfly/react-core\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface PleaseWaitModalProps extends PureComponentProps {\n    message: string;\n    isOpen: boolean;\n}\n\n/**\n * State\n */\n// tslint:disable-next-line:no-empty-interface\nexport interface PleaseWaitModalState extends PureComponentState {\n}\n\n/**\n * Models the \"please wait\" modal.  This is shown when the user performs an asynchronous operation.\n */\nexport class PleaseWaitModal extends PureComponent<PleaseWaitModalProps, PleaseWaitModalState> {\n\n    constructor(props: Readonly<PleaseWaitModalProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        return (\n            <Modal\n                title=\"Please Wait\"\n                variant=\"small\"\n                isOpen={this.props.isOpen}\n                header={<a href=\"#\" />}\n                showClose={false}\n                className=\"please-wait pf-m-redhat-font\"\n                aria-label=\"please-wait-modal\"\n            >\n                <Spinner size=\"md\" className=\"spinner\" />\n                <span className=\"message\">{ this.props.message }</span>\n            </Modal>\n        );\n    }\n\n    protected initializeState(): PleaseWaitModalState {\n        return {};\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {Dropdown, DropdownItem, DropdownToggle} from \"@patternfly/react-core\";\nimport {CaretDownIcon} from \"@patternfly/react-icons\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface CompatibilityDropdownProps extends PureComponentProps {\n    value: string;\n    onSelect: (newValue: string) => void;\n}\n\n/**\n * State\n */\nexport interface CompatibilityDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\n/**\n * Models the content of the Artifact Info tab.\n */\nexport class CompatibilityDropdown extends PureComponent<CompatibilityDropdownProps, CompatibilityDropdownState> {\n\n    constructor(props: Readonly<CompatibilityDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"NONE\"\n                          tooltip=\"No compatibility checking should be performed\"\n                          data-testid=\"rules-compatibility-config-none\"\n                          id=\"NONE\">None</DropdownItem>,\n            <DropdownItem key=\"BACKWARD\"\n                          tooltip=\"Clients using the new artifact can read data written using the most recently added artifact\"\n                          data-testid=\"rules-compatibility-config-backward\"\n                          id=\"BACKWARD\">Backward</DropdownItem>,\n            <DropdownItem key=\"BACKWARD_TRANSITIVE\"\n                          tooltip=\"Clients using the new artifact can read data written using all previously added artifacts\"\n                          data-testid=\"rules-compatibility-config-backwardTrans\"\n                          id=\"BACKWARD_TRANSITIVE\">Backward Transitive</DropdownItem>,\n            <DropdownItem key=\"FORWARD\"\n                          tooltip=\"Clients using the most recently added artifact can read data written using the new artifact\"\n                          data-testid=\"rules-compatibility-config-forward\"\n                          id=\"FORWARD\">Forward</DropdownItem>,\n            <DropdownItem key=\"FORWARD_TRANSITIVE\"\n                          tooltip=\"Clients using all previously added artifacts can read data written using the new artifact\"\n                          data-testid=\"rules-compatibility-config-forwardTrans\"\n                          id=\"FORWARD_TRANSITIVE\">Forward Transitive</DropdownItem>,\n            <DropdownItem key=\"FULL\"\n                          tooltip=\"The new artifact is forward and backward compatible with the most recently added artifact\"\n                          data-testid=\"rules-compatibility-config-full\"\n                          id=\"FULL\">Full</DropdownItem>,\n            <DropdownItem key=\"FULL_TRANSITIVE\"\n                          tooltip=\"The new artifact is forward and backward compatible with all previously added artifacts\"\n                          data-testid=\"rules-compatibility-config-fullTrans\"\n                          id=\"FULL_TRANSITIVE\">Full Transitive</DropdownItem>,\n        ];\n        return (\n            <Dropdown\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle id=\"toggle-id\"\n                                    data-testid=\"rules-compatibility-config-toggle\"\n                                    onToggle={this.onToggle} toggleIndicator={CaretDownIcon}>\n                        {this.displayValue()}\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): CompatibilityDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onToggle = (isOpen: boolean): void => {\n        this.setSingleState(\"isOpen\", isOpen);\n    };\n\n    private onSelect = (event: any): void => {\n        const newValue: string = event && event.currentTarget && event.currentTarget.id ? event.currentTarget.id : \"\";\n        this.props.onSelect(newValue);\n        this.onToggle(false);\n    };\n\n    private displayValue(): string {\n        switch (this.props.value) {\n            case \"NONE\":\n                return \"None\";\n            case \"BACKWARD\":\n                return \"Backward\";\n            case \"BACKWARD_TRANSITIVE\":\n                return \"Backward Transitive\";\n            case \"FORWARD\":\n                return \"Forward\";\n            case \"FORWARD_TRANSITIVE\":\n                return \"Forward Transitive\";\n            case \"FULL\":\n                return \"Full\";\n            case \"FULL_TRANSITIVE\":\n                return \"Full Transitive\";\n        }\n        return this.props.value;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {Dropdown, DropdownItem, DropdownToggle} from \"@patternfly/react-core\";\nimport {CaretDownIcon} from \"@patternfly/react-icons\";\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\n\n\n/**\n * Properties\n */\nexport interface ValidityDropdownProps extends PureComponentProps {\n    value: string;\n    onSelect: (newValue: string) => void;\n}\n\n/**\n * State\n */\nexport interface ValidityDropdownState extends PureComponentState {\n    isOpen: boolean;\n}\n\n\n/**\n * Models the content of the Artifact Info tab.\n */\nexport class ValidityDropdown extends PureComponent<ValidityDropdownProps, ValidityDropdownState> {\n\n    constructor(props: Readonly<ValidityDropdownProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        const dropdownItems = [\n            <DropdownItem key=\"FULL\"\n                          tooltip=\"Syntactic and semantic validation\"\n                          id=\"FULL\"\n                          data-testid=\"rules-validity-config-full\">Full</DropdownItem>,\n            <DropdownItem key=\"SYNTAX_ONLY\"\n                          tooltip=\"Only syntactic validation\"\n                          id=\"SYNTAX_ONLY\"\n                          data-testid=\"rules-validity-config-syntaxOnly\">Syntax Only</DropdownItem>,\n            <DropdownItem key=\"NONE\"\n                          tooltip=\"No validation\"\n                          id=\"NONE\"\n                          data-testid=\"rules-validity-config-none\">None</DropdownItem>,\n        ];\n        return (\n            <Dropdown\n                onSelect={this.onSelect}\n                toggle={\n                    <DropdownToggle id=\"toggle-id\"\n                                    data-testid=\"rules-validity-config-toggle\"\n                                    onToggle={this.onToggle} toggleIndicator={CaretDownIcon}>\n                        {this.displayValue()}\n                    </DropdownToggle>\n                }\n                isOpen={this.state.isOpen}\n                dropdownItems={dropdownItems}\n            />\n        );\n    }\n\n    protected initializeState(): ValidityDropdownState {\n        return {\n            isOpen: false\n        };\n    }\n\n    private onToggle = (isOpen: boolean): void => {\n        this.setSingleState(\"isOpen\", isOpen);\n    };\n\n    private onSelect = (event: any): void => {\n        const newValue: string = event && event.currentTarget && event.currentTarget.id ? event.currentTarget.id : \"\";\n        this.props.onSelect(newValue);\n        this.onToggle(false);\n    };\n\n    private displayValue(): string {\n        switch (this.props.value) {\n            case \"FULL\":\n                return \"Full\";\n            case \"SYNTAX_ONLY\":\n                return \"Syntax Only\";\n            case \"NONE\":\n                return \"None\";\n        }\n        return this.props.value;\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport \"./ruleList.css\"\nimport {\n    Button,\n    DataList,\n    DataListAction,\n    DataListCell,\n    DataListItem,\n    DataListItemCells,\n    DataListItemRow, EmptyStateBody\n} from '@patternfly/react-core';\nimport {PureComponent, PureComponentProps, PureComponentState} from \"../baseComponent\";\nimport {CodeBranchIcon, OkIcon, TrashIcon} from \"@patternfly/react-icons\";\nimport {CompatibilityDropdown} from \"./compatibility-dropdown\";\nimport {ValidityDropdown} from \"./validity-dropdown\";\nimport {IfFeature} from \"../common/ifFeature\";\nimport {IfAuth} from \"../common\";\nimport {Rule} from \"../../../models\";\n\n\nexport interface RuleListProps extends PureComponentProps {\n    onEnableRule: (ruleType: string) => void;\n    onDisableRule: (ruleType: string) => void;\n    onConfigureRule: (ruleType: string, config: string) => void;\n    rules: Rule[];\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface RuleListState extends PureComponentState {\n}\n\n\nexport class RuleList extends PureComponent<RuleListProps, RuleListState> {\n\n    constructor(props: Readonly<RuleListProps>) {\n        super(props);\n    }\n\n    public render(): React.ReactElement {\n        let validityRuleActions: React.ReactElement = (\n            <Button variant=\"secondary\"\n                    key=\"enable-action\"\n                    data-testid=\"rules-validity-enable\"\n                    onClick={this.doEnableRule(\"VALIDITY\")}>Enable</Button>\n        );\n        if (this.isRuleEnabled(\"VALIDITY\")) {\n            validityRuleActions = (\n                <React.Fragment>\n                    <ValidityDropdown value={this.getRuleConfig(\"VALIDITY\")}\n                                      onSelect={this.doConfigureRule(\"VALIDITY\")} />\n                    <Button variant=\"plain\"\n                            key=\"delete-action\"\n                            data-testid=\"rules-validity-disable\"\n                            title=\"Disable the validity rule\"\n                            onClick={this.doDisableRule(\"VALIDITY\")}><TrashIcon /></Button>\n                </React.Fragment>\n            );\n        }\n        let compatibilityRuleActions: React.ReactElement = (\n            <Button variant=\"secondary\"\n                    key=\"enable-action\"\n                    data-testid=\"rules-compatibility-enable\"\n                    onClick={this.doEnableRule(\"COMPATIBILITY\")}>Enable</Button>\n        );\n        if (this.isRuleEnabled(\"COMPATIBILITY\")) {\n            compatibilityRuleActions = (\n                <React.Fragment>\n                    <CompatibilityDropdown value={this.getRuleConfig(\"COMPATIBILITY\")}\n                                           onSelect={this.doConfigureRule(\"COMPATIBILITY\")} />\n                    <Button variant=\"plain\"\n                            key=\"delete-action\"\n                            data-testid=\"rules-compatibility-disable\"\n                            title=\"Disable the compatibility rule\"\n                            onClick={this.doDisableRule(\"COMPATIBILITY\")}><TrashIcon /></Button>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <DataList aria-label=\"Artifact rules\">\n                <DataListItem aria-labelledby=\"validity-rule-name\">\n                    <DataListItemRow className={this.getRuleRowClasses(\"VALIDITY\")}>\n                        <DataListItemCells dataListCells={[\n                            <DataListCell key=\"rule-name\">\n                                <OkIcon className=\"rule-icon\" />\n                                <span id=\"validity-rule-name\">Validity rule</span>\n                            </DataListCell>,\n                            <DataListCell key=\"rule-description\">Ensure that content is <em>valid</em> when updating this artifact.</DataListCell>\n                        ]}\n                        />\n                        <IfAuth isDeveloper={true}>\n                            <IfFeature feature=\"readOnly\" isNot={true}>\n                                <DataListAction\n                                    aria-labelledby=\"selectable-action-item1 selectable-action-action1\"\n                                    id=\"selectable-action-action1\"\n                                    aria-label=\"Actions\"\n                                >\n                                    { validityRuleActions}\n                                </DataListAction>\n                            </IfFeature>\n                        </IfAuth>\n                    </DataListItemRow>\n                </DataListItem>\n                <DataListItem aria-labelledby=\"compatibility-rule-name\">\n                    <DataListItemRow className={this.getRuleRowClasses(\"COMPATIBILITY\")}>\n                        <DataListItemCells dataListCells={[\n                            <DataListCell key=\"rule-name\">\n                                <CodeBranchIcon className=\"rule-icon\" />\n                                <span id=\"compatibility-rule-name\">Compatibility rule</span>\n                            </DataListCell>,\n                            <DataListCell key=\"rule-description\">Enforce a compatibility level when updating this artifact (for example, Backwards Compatibility).</DataListCell>\n                        ]}\n                        />\n                        <IfAuth isDeveloper={true}>\n                            <IfFeature feature=\"readOnly\" isNot={true}>\n                                <DataListAction\n                                    aria-labelledby=\"selectable-action-item1 selectable-action-action1\"\n                                    id=\"selectable-action-action2\"\n                                    aria-label=\"Actions\"\n                                >\n                                    { compatibilityRuleActions }\n                                </DataListAction>\n                            </IfFeature>\n                        </IfAuth>\n                    </DataListItemRow>\n                </DataListItem>\n            </DataList>\n        );\n    }\n\n    protected initializeState(): RuleListState {\n        return {};\n    }\n\n    private isRuleEnabled(ruleType: string): boolean {\n        return this.props.rules.filter(rule => rule.type === ruleType).length > 0;\n    }\n\n    private getRuleRowClasses(ruleType: string): string {\n        const classes: string[] = [ \"rule\" ];\n        if (ruleType === \"COMPATIBILITY\") {\n            classes.push(\"compatibility-rule\");\n        } else {\n            classes.push(\"validity-rule\");\n        }\n        if (!this.isRuleEnabled(ruleType)) {\n            classes.push(\"disabled\");\n        }\n        return classes.join(' ');\n    }\n\n    private getRuleConfig(ruleType: string): string {\n        const frules: Rule[] = this.props.rules.filter(r => r.type === ruleType);\n        if (frules.length === 1) {\n            return frules[0].config;\n        } else {\n            return \"UNKNOWN\";\n        }\n    };\n\n    private doEnableRule = (ruleType: string): (() => void) => {\n        return () => {\n            this.props.onEnableRule(ruleType);\n        };\n    };\n\n    private doDisableRule = (ruleType: string): (() => void) => {\n        return () => {\n            this.props.onDisableRule(ruleType);\n        };\n    };\n\n    private doConfigureRule = (ruleType: string): ((config: string) => void) => {\n        return (config: string) => {\n            this.props.onConfigureRule(ruleType, config);\n        };\n    };\n\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateVariant,\n  ClipboardCopy,\n  EmptyStateSecondaryActions,\n  Card,\n  CardBody,\n  CardTitle,\n} from \"@patternfly/react-core\";\nimport ArrowRightIcon from \"@patternfly/react-icons/dist/js/icons/arrow-icon\";\nimport WrenchIcon from \"@patternfly/react-icons/dist/js/icons/wrench-icon\";\n\nexport type EmptyStateProps = {\n  artifactName: string;\n  basename: string;\n  registryId: string;\n};\n\nexport const SchemaEmptyState: React.FC<EmptyStateProps> = ({\n  artifactName,\n  basename,\n  registryId,\n}: EmptyStateProps) => {\n  return (\n    <Card>\n      <CardTitle>Topic schemas</CardTitle>\n      <CardBody>\n        <EmptyState variant={EmptyStateVariant.large}>\n          <EmptyStateIcon icon={WrenchIcon} />\n          <Title headingLevel=\"h4\" size=\"lg\">\n            No matching schema exists for the selected instance\n          </Title>\n          <EmptyStateBody>\n            The system couldn't find a matching schema for this topic in the\n            selected Service Registry instance. Please make sure to use the\n            following naming format for the artifact ID:\n          </EmptyStateBody>\n          <EmptyStateSecondaryActions>\n            <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n              {artifactName + \"-value\"}\n            </ClipboardCopy>\n          </EmptyStateSecondaryActions>\n          <EmptyStateSecondaryActions>\n            <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n              {artifactName + \"-key\"}\n            </ClipboardCopy>\n          </EmptyStateSecondaryActions>\n          <EmptyStateSecondaryActions>\n            <Link to={`${basename}/t/${registryId}`}>\n              Go to Service Registry instance <ArrowRightIcon />\n            </Link>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      </CardBody>\n    </Card>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Grid,\n  GridItem,\n  DescriptionListDescription,\n  ExpandableSection,\n  CodeBlock,\n  CodeBlockAction,\n  ClipboardCopyButton,\n  CodeBlockCode,\n} from \"@patternfly/react-core\";\nimport { PureComponent, PureComponentState } from \"../baseComponent\";\nimport CheckCircleIcon from \"@patternfly/react-icons/dist/js/icons/check-circle-icon\";\nimport { Services } from \"src/services\";\n\nexport type MatchingSchemaProps = {\n  topicName: string;\n  keySchema: boolean;\n  routePath: string;\n};\n\nexport interface MatchingSchemaSate extends PureComponentState {\n  schemaContentData: any\n  copySchemaContent: boolean;\n}\n\nexport class MatchingSchemaCard extends PureComponent<MatchingSchemaProps, MatchingSchemaSate> {\n  clipboardCopyFunc: (event: any, text: any) => void;\n  onClick: (event: any, text: any) => void;\n  timer: number;\n  constructor(props: Readonly<MatchingSchemaProps>) {\n    super(props);\n\n    this.timer = 0;\n\n    this.clipboardCopyFunc = (event, text) => {\n      const clipboard = event.currentTarget.parentElement;\n      const el = document.createElement('textarea');\n      el.value = text.toString();\n      clipboard.appendChild(el);\n      el.select();\n      clipboard.removeChild(el);\n    };\n\n    this.onClick = (event, text) => {\n      if (this.timer) {\n        window.clearTimeout(this.timer);\n        this.setState({ copySchemaContent: false });\n      }\n      this.clipboardCopyFunc(event, text);\n      this.setState({ copySchemaContent: true }, () => {\n        this.timer = window.setTimeout(() => {\n          this.setState({ copySchemaContent: false });\n          this.timer = 0;\n        }, 1000);\n      });\n    };\n  }\n\n  protected initializeState() {\n    return {\n      schemaContentData: undefined,\n      copySchemaContent: false\n    };\n  }\n\n  componentDidMount() {\n    this.createLoaders();\n  }\n\n  // @ts-ignore\n  protected createLoaders(): Promise[] | null {\n    const { topicName } = this.props;\n\n    const artifactId1 = topicName + \"-key\";\n    const artifactId2 = topicName + \"-value\";\n\n    if (this.props.keySchema) {\n      return [\n        Services.getGroupsService()\n          .getLatestArtifact(\"default\", artifactId1).then((response => this.setSingleState(\"schemaContentData\", response)))\n      ]\n    }\n    else {\n      return [\n        Services.getGroupsService()\n          .getLatestArtifact(\"default\", artifactId2).then((response => this.setSingleState(\"schemaContentData\", response)))\n      ]\n    }\n  }\n\n  public render(): React.ReactElement {\n    const { keySchema, topicName, routePath } = this.props;\n    const postfix = keySchema ? \"-key\" : \"-value\";\n\n    return (\n      <DescriptionListDescription>\n        <Grid hasGutter span={2}>\n          <GridItem rowSpan={2}>\n            <CheckCircleIcon color=\"#38812f\" /> {topicName + postfix}\n          </GridItem>\n          <GridItem>\n            <Link to={routePath}>\n              View details\n            </Link>\n          </GridItem>\n        </Grid>\n        <ExpandableSection toggleText={\"Display schema content\"} displaySize=\"large\" isWidthLimited className={\"pf-c-change-background-color\"}>\n          <CodeBlock actions={<CodeBlockAction>\n            <ClipboardCopyButton id=\"copy-button\" aria-label=\"Copy to clipboard\" textId=\"code-content\" onClick={e => this.onClick(e, this.state.schemaContentData)} exitDelay={600}\n              maxWidth=\"110px\"\n              variant=\"plain\" >\n              {this.state.copySchemaContent ? 'Successfully copied to clipboard!' : 'Copy to clipboard'}\n            </ClipboardCopyButton>\n          </CodeBlockAction>}>\n            <CodeBlockCode>\n              {this.state.schemaContentData}\n            </CodeBlockCode>\n          </CodeBlock>\n        </ExpandableSection>\n      </DescriptionListDescription >\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Split,\n  SplitItem,\n  Alert,\n  AlertVariant,\n  DescriptionListDescription,\n  Popover,\n  ClipboardCopy,\n  Button,\n  ButtonVariant,\n  Stack,\n  StackItem,\n} from \"@patternfly/react-core\";\nimport ArrowRightIcon from \"@patternfly/react-icons/dist/js/icons/arrow-icon\";\nimport HelpIcon from \"@patternfly/react-icons/dist/js/icons/help-icon\";\n\nexport type NoMatchingSchemaProps = {\n  basename: string;\n  registryId: string;\n  artifactId: string;\n  title: string;\n};\n\nexport const NoMatchingSchema: React.FC<NoMatchingSchemaProps> = ({\n  basename,\n  registryId,\n  artifactId,\n  title,\n}) => {\n  return (\n    <DescriptionListDescription>\n      <Split hasGutter>\n        <SplitItem>\n          <Alert\n            className=\"pf-c-alert pf-m-info pf-m-plain pf-m-inline\"\n            variant={AlertVariant.info}\n            title=\"No matching schema\"\n          />\n        </SplitItem>\n        <SplitItem>\n          <Popover\n            hasAutoWidth\n            aria-label=\"No schema popover\"\n            headerContent={title}\n            bodyContent={\n              <Stack hasGutter>\n                <StackItem>\n                  The system couldn't find a matching schema for this topic in\n                  the selected Service Registry instance. Please make sure to\n                  use the following naming format for the Artifact ID:\n                </StackItem>\n                <StackItem>\n                  <ClipboardCopy isReadOnly hoverTip=\"Copy\" clickTip=\"Copied\">\n                    {artifactId}\n                  </ClipboardCopy>\n                </StackItem>\n                <StackItem>\n                  <Link to={`${basename}/t/${registryId}`}>\n                    Go to Service Registry instance <ArrowRightIcon />\n                  </Link>\n                </StackItem>\n              </Stack>\n            }\n          >\n            <HelpIcon />\n          </Popover>\n        </SplitItem>\n      </Split>\n    </DescriptionListDescription>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  DescriptionList,\n  DescriptionListTerm,\n} from \"@patternfly/react-core\";\nimport { MatchingSchemaCard } from \"./matchingSchemaCard\";\nimport { NoMatchingSchema } from \"./noMatchingSchema\";\n\nexport type SchemaCardProps = {\n  hasValueSchema: boolean | undefined;\n  hasKeySchema: boolean | undefined;\n  topicName: string;\n  groupId: string;\n  version: string;\n  basename: string;\n  registryId: string;\n};\n\nexport const SchemaCard: React.FC<SchemaCardProps> = ({\n  hasKeySchema,\n  hasValueSchema,\n  topicName,\n  version,\n  basename,\n  registryId,\n}) => {\n  return (\n    <Card>\n      <CardTitle component=\"h2\">Topic schemas</CardTitle>\n      <CardBody>\n        <DescriptionList\n          isHorizontal\n          isAutoColumnWidths\n          columnModifier={{ lg: \"2Col\" }}\n        >\n          <DescriptionListTerm>Value schema artifact ID</DescriptionListTerm>\n          {hasValueSchema ? (\n            <MatchingSchemaCard\n              topicName={topicName}\n              keySchema={false}\n              routePath={`${basename}/t/${registryId}/artifacts/default/${topicName}-value/versions/${version}`}\n            />\n          ) : (\n            <NoMatchingSchema\n              title=\"Value schema\"\n              artifactId={`${topicName}-value`}\n              basename={basename}\n              registryId={registryId}\n            />\n          )}\n          <DescriptionListTerm>Key schema artifact ID</DescriptionListTerm>\n          {hasKeySchema ? (\n            <MatchingSchemaCard\n              topicName={topicName}\n              keySchema={true}\n              routePath={`${basename}/t/${registryId}/artifacts/default/${topicName}-key/versions/${version}`}\n            />\n          ) : (\n            <NoMatchingSchema\n              title=\"Key schema\"\n              artifactId={`${topicName}-key`}\n              basename={basename}\n              registryId={registryId}\n            />\n          )}\n        </DescriptionList>\n      </CardBody>\n    </Card>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Card,\n  CardBody,\n  CardTitle,\n} from \"@patternfly/react-core\";\nimport LockIcon from \"@patternfly/react-icons/dist/js/icons/lock-icon\";\n\nexport const PermissionDenied: React.FC = () => {\n  return (\n    <Card>\n      <CardTitle>Topic schemas</CardTitle>\n      <CardBody>\n        <EmptyState variant={EmptyStateVariant.large}>\n          <EmptyStateIcon icon={LockIcon} />\n          <Title headingLevel=\"h4\" size=\"lg\">\n            Access permissions needed\n          </Title>\n          <EmptyStateBody>\n            You don’t have access to the selected Service Registry instance. To\n            get access, contact your organization administrators.\n          </EmptyStateBody>\n        </EmptyState>\n      </CardBody>\n    </Card>\n  );\n};\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport { Spinner, Bullseye } from \"@patternfly/react-core\";\nimport { SchemaCard, SchemaCardProps } from \"./schemaCard\";\nimport { Services } from \"src/services\";\nimport { SchemaEmptyState } from \"./emptyState\";\nimport { PermissionDenied } from \"./permissionDenied\";\nimport {\n  PureComponent,\n  PureComponentProps,\n  PureComponentState,\n} from \"../baseComponent\";\n\n/**\n * Properties\n */\n\nexport interface SchemaMappingProps\n  extends PureComponentProps,\n    SchemaCardProps {\n  registryId: string;\n}\n\n/**\n * State\n */\nexport interface SchemaMappingState extends PureComponentState {\n  hasKeySchema: boolean | undefined;\n  hasValueSchema: boolean | undefined;\n  hasPermissionDenied: boolean;\n}\n\nexport class SchemaMapping extends PureComponent<\n  SchemaMappingProps,\n  SchemaMappingState\n> {\n  constructor(props: Readonly<SchemaMappingProps>) {\n    super(props);\n  }\n\n  public render(): React.ReactElement {\n    const { hasKeySchema, hasValueSchema, hasPermissionDenied } = this.state;\n    const { topicName, groupId, version, basename, registryId } = this.props;\n\n    if (hasKeySchema === undefined && hasValueSchema === undefined) {\n      return (\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      );\n    }\n    if (hasPermissionDenied) {\n      return <PermissionDenied />;\n    }\n\n    if (hasKeySchema || hasValueSchema) {\n      return (\n        <SchemaCard\n          hasKeySchema={hasKeySchema}\n          hasValueSchema={hasValueSchema}\n          topicName={topicName}\n          groupId={groupId}\n          version={version}\n          basename={basename}\n          registryId={registryId}\n        />\n      );\n    } else {\n      return (\n        <SchemaEmptyState\n          artifactName={topicName}\n          basename={basename}\n          registryId={registryId}\n        />\n      );\n    }\n  }\n\n  protected initializeState(): SchemaMappingState {\n    return {\n      hasKeySchema: undefined,\n      hasValueSchema: undefined,\n      hasPermissionDenied: false,\n    };\n  }\n\n  componentWillMount() {\n    this.getArtifactsMetadata();\n  }\n\n  componentDidUpdate(prevProps: SchemaMappingProps) {\n    if (prevProps.registryId !== this.props.registryId) {\n      this.getArtifactsMetadata();\n    }\n  }\n\n  // @ts-ignore\n  private getArtifactsMetadata(): Promise[] | null {\n    const { topicName, groupId, version } = this.props;\n\n    Services.getLoggerService().info(\n      \"Loading data for artifact metadata: \",\n      topicName\n    );\n\n    const artifactId1 = topicName + \"-key\";\n    const artifactId2 = topicName + \"-value\";\n\n    return [\n      Services.getGroupsService()\n        .getArtifactMetaData(groupId, artifactId1, version)\n        .then(() => {\n          this.setSingleState(\"hasKeySchema\", true);\n        })\n        .catch((e: any) => {\n          if (e.error_code === 404 || e.response?.status === 404) {\n            this.setSingleState(\"hasKeySchema\", false);\n          } else if (e.response?.status === 403) {\n            this.setSingleState(\"hasKeySchema\", false);\n            this.setSingleState(\"hasPermissionDenied\", true);\n          }\n        }),\n      Services.getGroupsService()\n        .getArtifactMetaData(groupId, artifactId2, version)\n        .then(() => {\n          this.setSingleState(\"hasValueSchema\", true);\n        })\n        .catch((e: any) => {\n          if (e.error_code === 404 || e.response?.status === 404) {\n            this.setSingleState(\"hasValueSchema\", false);\n          } else if (e.response?.status === 403) {\n            this.setSingleState(\"hasValueSchema\", false);\n            this.setSingleState(\"hasPermissionDenied\", true);\n          }\n        }),\n    ];\n  }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ConfigType, Services} from \"../../services\";\nimport {PureComponent} from \"../components\";\n\n/**\n * Component properties shared by all federated pages.\n */\nexport interface FederatedComponentProps {\n    config: ConfigType;\n    history: any;\n}\n\nexport class FederatedUtils {\n\n    static updateConfiguration(props: FederatedComponentProps): void {\n        Services.getLoggerService().info(\"[FederatedUtils] Updating config: %o\", props.config);\n        Services.getConfigService().updateConfig(props.config);\n        PureComponent.setHistory(props.history);\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// tslint:disable-next-line:interface-name\nexport class ContentTypes {\n\n    public static APPLICATION_JSON: string = \"application/json\";\n    public static APPLICATION_YAML: string = \"application/x-yaml\";\n    public static APPLICATION_XML: string = \"application/xml\";\n    public static APPLICATION_PROTOBUF: string = \"application/x-protobuf\";\n    public static APPLICATION_GRAPHQL: string = \"application/graphql\";\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nexport class RoleTypes {\n    public static READ_ONLY: string = \"READ_ONLY\";\n    public static DEVELOPER: string = \"DEVELOPER\";\n    public static ADMIN: string = \"ADMIN\";\n}\n\n\n// tslint:disable-next-line:interface-name\nexport interface RoleMapping {\n\n    principalId: string;\n    role: string;\n    principalName: string;\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {LoggerService} from \"./logger\";\nimport {ConfigService} from \"./config\";\nimport axios, { AxiosRequestConfig } from \"axios\";\nimport {AuthService} from \"./auth\";\nimport {ContentTypes} from \"../models\";\n\nconst AXIOS = axios.create();\n\n/**\n * Interface implemented by all services.\n */\nexport interface Service {\n    init(): void;\n}\n\n/**\n * Base class for all services.\n */\nexport abstract class BaseService implements Service {\n\n    // @ts-ignore\n    protected logger: LoggerService = null;\n    // @ts-ignore\n    protected config: ConfigService = null;\n    // @ts-ignore\n    protected auth: AuthService = null;\n\n    public init(): void {\n        this.initAuthInterceptor();\n    }\n\n    public initAuthInterceptor() {\n        AXIOS.interceptors.request.use(this.auth.getAuthInterceptor());\n    }\n\n    /**\n     * Creates an endpoint to use when making a REST call.  Supports path params and query params.\n     * @param path\n     * @param params\n     * @param queryParams\n     */\n    protected endpoint(path: string, params?: any, queryParams?: any): string {\n        if (params) {\n            Object.keys(params).forEach(key => {\n                const value: string = encodeURIComponent(params[key]);\n                path = path.replace(\":\" + key, value);\n            });\n        }\n        let rval: string = this.apiBaseHref() + path;\n        if (queryParams) {\n            let first: boolean = true;\n            for (const key in queryParams) {\n                if (queryParams[key]) {\n                    const value: string = encodeURIComponent(queryParams[key]);\n                    if (first) {\n                        rval = rval + \"?\" + key;\n                    } else {\n                        rval = rval + \"&\" + key;\n                    }\n                    if (value !== null && value !== undefined) {\n                        rval = rval + \"=\" + value;\n                    }\n                    first = false;\n                }\n            }\n        }\n        this.logger.info(\"[BaseService] Using REST endpoint: \", rval);\n        return rval;\n    }\n\n    /**\n     * Creates the request options used by the HTTP service when making API calls.\n     * @param headers\n     */\n    protected options(headers: {[header: string]: string}): AxiosRequestConfig {\n        const options: AxiosRequestConfig = {headers};\n        return options;\n    }\n\n    /**\n     * Performs an HTTP GET operation to the given URL with the given options.  Returns\n     * a Promise to the HTTP response data.\n     */\n    protected httpGet<T>(url: string, options?: AxiosRequestConfig, successCallback?: (value: any) => T): Promise<T> {\n        this.logger.info(\"[BaseService] Making a GET request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"get\", url, options);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: T = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n     * a Promise to null (no response data expected).\n     * @param url\n     * @param body\n     * @param options\n     * @param successCallback\n     * @param progressCallback\n     */\n    protected httpPost<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void,\n                          progressCallback?: (progressEvent: any) => void): Promise<void> {\n        this.logger.info(\"[BaseService] Making a POST request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"post\", url, options, body);\n        if (progressCallback) {\n            const fiftyMB: number = 50 * 1024 * 1024;\n            config.onUploadProgress = progressCallback;\n            config.maxContentLength = fiftyMB;\n            config.maxBodyLength = fiftyMB;\n        }\n        return AXIOS.request(config)\n            .then(() => {\n                if (successCallback) {\n                    return successCallback();\n                } else {\n                    return;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n     * a Promise to the HTTP response data.\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPostWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: any) => O): Promise<O> {\n        this.logger.info(\"[BaseService] Making a POST request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON, \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"post\", url, options, body);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: O = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n     * a Promise to null (no response data expected).\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPut<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void): Promise<void> {\n        this.logger.info(\"[BaseService] Making a PUT request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"put\", url, options, body);\n        return AXIOS.request(config)\n            .then(() => {\n                if (successCallback) {\n                    return successCallback();\n                } else {\n                    return;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n     * a Promise to the HTTP response data.\n     * @param url\n     * @param body\n     * @param options\n     */\n    protected httpPutWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: O) => O): Promise<O> {\n        this.logger.info(\"[BaseService] Making a PUT request to: \", url);\n\n        if (!options) {\n            options = this.options({ \"Accept\": ContentTypes.APPLICATION_JSON, \"Content-Type\": ContentTypes.APPLICATION_JSON });\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"put\", url, options, body);\n        return AXIOS.request(config)\n            .then(response => {\n                const data: O = response.data;\n                if (successCallback) {\n                    return successCallback(data);\n                } else {\n                    return data;\n                }\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    /**\n     * Performs an HTTP DELETE operation to the given URL with the given body and options.\n     * @param url\n     * @param options\n     */\n    protected httpDelete<T>(url: string, options?: AxiosRequestConfig, successCallback?: () => T): Promise<T> {\n        this.logger.info(\"[BaseService] Making a DELETE request to: \", url);\n\n        if (!options) {\n            options = {};\n        }\n\n        const config: AxiosRequestConfig = this.axiosConfig(\"delete\", url, options);\n        // @ts-ignore\n        return AXIOS.request(config)\n            .then(() => {\n                return successCallback ? successCallback() : null;\n            }).catch(error => {\n                return Promise.reject(this.unwrapErrorData(error));\n            });\n    }\n\n    protected apiBaseHref(): string {\n        let artifactsUrl: string|null = this.config.artifactsUrl();\n        if (artifactsUrl == null) {\n            return \"\";\n        }\n        if (artifactsUrl.endsWith(\"/\")) {\n            artifactsUrl = artifactsUrl.substring(0, artifactsUrl.length - 1);\n        }\n        this.logger.debug(\"[BaseService] Base HREF of REST API: \", artifactsUrl);\n        return artifactsUrl;\n    }\n\n    private axiosConfig(method: string, url: string, options: any, data?: any): AxiosRequestConfig {\n        if (typeof data === \"string\") {\n            data = new Blob([data]);\n        }\n        return {...{\n                data,\n                method,\n                url,\n                validateStatus: (status) => {\n                    return status >= 200 && status < 300;\n                }\n            }, ...options};\n    }\n\n    private unwrapErrorData(error: any): any {\n        if (error && error.response && error.response.data) {\n            return {\n                message: error.message,\n                ...error.response.data,\n                status: error.response.status\n            }\n        } else if (error && error.response) {\n            return {\n                message: error.message,\n                status: error.response.status\n            }\n        } else if (error) {\n            console.error(\"Unknown error detected: \", error);\n            return {\n                message: error.message,\n                status: 500\n            }\n        } else {\n            console.error(\"Unknown error detected: \", error);\n            return {\n                message: \"Unknown error\",\n                status: 500\n            }\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BaseService} from \"../baseService\";\nimport {DownloadRef, RoleMapping, Rule} from \"../../models\";\nimport {ConfigurationProperty} from \"../../models/configurationProperty.model\";\nimport {UpdateConfigurationProperty} from \"../../models/updateConfigurationProperty.model\";\n\n/**\n * The Admin service.  Used to get global/settings information from the back-end, like global\n * rules and logging settings.\n */\nexport class AdminService extends BaseService {\n\n    public getRules(): Promise<Rule[]> {\n        this.logger.info(\"[AdminService] Getting the global list of rules.\");\n        const endpoint: string = this.endpoint(\"/v2/admin/rules\");\n        return this.httpGet<string[]>(endpoint).then( ruleTypes => {\n            return Promise.all(ruleTypes.map(rt => this.getRule(rt)));\n        });\n    }\n\n    public getRule(type: string): Promise<Rule> {\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            rule: type\n        });\n        return this.httpGet<Rule>(endpoint);\n    }\n\n    public createRule(type: string, config: string): Promise<Rule> {\n        this.logger.info(\"[AdminService] Creating global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules\");\n        const body: Rule = {\n            config,\n            type\n        };\n        return this.httpPostWithReturn(endpoint, body);\n    }\n\n    public updateRule(type: string, config: string): Promise<Rule|null> {\n        this.logger.info(\"[AdminService] Updating global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            \"rule\": type\n        });\n        const body: Rule = { config, type };\n        return this.httpPutWithReturn<Rule, Rule>(endpoint, body);\n    }\n\n    public deleteRule(type: string): Promise<null> {\n        this.logger.info(\"[AdminService] Deleting global rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/rules/:rule\", {\n            \"rule\": type\n        });\n        return this.httpDelete(endpoint);\n    }\n\n    public getRoleMappings(): Promise<RoleMapping[]> {\n        this.logger.info(\"[AdminService] Getting the list of role mappings.\");\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings\");\n        return this.httpGet<RoleMapping[]>(endpoint);\n    }\n\n    public getRoleMapping(principalId: string): Promise<RoleMapping> {\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        return this.httpGet<RoleMapping>(endpoint);\n    }\n\n    public createRoleMapping(principalId: string, role: string, principalName: string): Promise<RoleMapping> {\n        this.logger.info(\"[AdminService] Creating a role mapping:\", principalId, role, principalName);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings\");\n        const body: RoleMapping = { principalId, role, principalName };\n        return this.httpPost(endpoint, body).then(() => {\n            return body;\n        });\n    }\n\n    public updateRoleMapping(principalId: string, role: string): Promise<RoleMapping> {\n        this.logger.info(\"[AdminService] Updating role mapping:\", principalId, role);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        const body: any = { role };\n        return this.httpPut<any>(endpoint, body).then(() => {\n            return { principalId, role, principalName: principalId };\n        });\n    }\n\n    public deleteRoleMapping(principalId: string): Promise<null> {\n        this.logger.info(\"[AdminService] Deleting role mapping for:\", principalId);\n\n        const endpoint: string = this.endpoint(\"/v2/admin/roleMappings/:principalId\", {\n            principalId\n        });\n        return this.httpDelete(endpoint);\n    }\n\n    public exportAs(filename: string): Promise<DownloadRef> {\n        const endpoint: string = this.endpoint(\"/v2/admin/export\", {}, {\n            forBrowser: true\n        });\n        const headers: any = {\n            Accept: \"application/zip\"\n        };\n        return this.httpGet<DownloadRef>(endpoint, this.options(headers)).then(ref => {\n            if (ref.href.startsWith(\"/apis/registry\")) {\n                ref.href = ref.href.replace(\"/apis/registry\", this.apiBaseHref());\n                ref.href = ref.href + \"/\" + filename;\n            }\n\n            return ref;\n        });\n    }\n\n    public importFrom(file: string | File, progressFunction: (progressEvent: any) => void): Promise<void> {\n        const endpoint: string = this.endpoint(\"/v2/admin/import\");\n        const headers: any = {\n            \"Content-Type\": \"application/zip\"\n        };\n        return this.httpPost(endpoint, file, this.options(headers),undefined, progressFunction);\n    }\n\n    public listConfigurationProperties(): Promise<ConfigurationProperty[]> {\n        this.logger.info(\"[AdminService] Getting the dynamic config properties.\");\n        const endpoint: string = this.endpoint(\"/v2/admin/config/properties\");\n        return this.httpGet<ConfigurationProperty[]>(endpoint);\n    }\n\n    public setConfigurationProperty(propertyName: string, newValue: string): Promise<void> {\n        this.logger.info(\"[AdminService] Setting a config property: \", propertyName);\n        const endpoint: string = this.endpoint(\"/v2/admin/config/properties/:propertyName\", {\n            propertyName\n        });\n        const body: UpdateConfigurationProperty = {\n            value: newValue\n        };\n        return this.httpPut<UpdateConfigurationProperty>(endpoint, body);\n    }\n\n    public resetConfigurationProperty(propertyName: string): Promise<void> {\n        this.logger.info(\"[AdminService] Resetting a config property: \", propertyName);\n        const endpoint: string = this.endpoint(\"/v2/admin/config/properties/:propertyName\", {\n            propertyName\n        });\n        return this.httpDelete(endpoint);\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Alerts, ConfigType, FeaturesConfig, GetTokenAuthConfig, KeycloakJsAuthConfig} from './config.type';\nimport {Service} from \"../baseService\";\n\nconst DEFAULT_CONFIG: ConfigType = {\n    artifacts: {\n        url: \"http://localhost:8080/apis/registry\"\n    },\n    auth: {\n        options: {\n            clientId: 'registry-ui',\n            onLoad: 'login-required',\n            realm: 'registry',\n            url: 'http://localhost:8090/auth'\n        },\n        type: \"keycloakjs\",\n        rbacEnabled: true,\n        obacEnabled: false\n    },\n    features: {\n        readOnly: false,\n        breadcrumbs: true,\n        roleManagement: true,\n        settings: true\n    },\n    ui: {\n        contextPath: \"/\",\n        navPrefixPath: \"/\"\n    }\n};\n\n/**\n * A simple configuration service.  Reads information from a global \"ApicurioRegistryConfig\" variable\n * that is typically included via JSONP.\n */\nexport class ConfigService implements Service {\n    private config: ConfigType;\n\n    constructor() {\n        const w: any = window;\n        if (w.ApicurioRegistryConfig) {\n            this.config = w.ApicurioRegistryConfig;\n            console.info(\"[ConfigService] Found app config.\");\n        } else {\n            console.warn(\"[ConfigService] App config not found! (using default)\");\n            this.config = DEFAULT_CONFIG;\n        }\n    }\n\n    public init(): void {\n        // Nothing to init (done in c'tor)\n    }\n\n    public updateConfig(config: ConfigType): void {\n        this.config = config;\n    }\n\n    public artifactsUrl(): string|null {\n        if (!this.config.artifacts) {\n            return null;\n        }\n        return this.config.artifacts.url;\n    }\n\n    public uiContextPath(): string|undefined {\n        if (!this.config.ui || !this.config.ui.contextPath) {\n            return \"/\";\n        }\n        return this.config.ui.contextPath;\n    }\n\n    public uiNavPrefixPath(): string|undefined {\n        if (!this.config.ui || !this.config.ui.navPrefixPath) {\n            return \"\";\n        }\n        if (this.config.ui.navPrefixPath.endsWith(\"/\")) {\n            this.config.ui.navPrefixPath = this.config.ui.navPrefixPath.substr(0, this.config.ui.navPrefixPath.length - 1);\n        }\n        return this.config.ui.navPrefixPath;\n    }\n\n    public features(): FeaturesConfig {\n        const defaults: FeaturesConfig = {\n            readOnly: false,\n            breadcrumbs: true\n        };\n        if (!this.config.features) {\n            return defaults;\n        }\n        return {\n            ...defaults,\n            ...this.config.features\n        };\n    }\n\n    public featureReadOnly(): boolean {\n        return this.features().readOnly || false;\n    }\n\n    public featureBreadcrumbs(): boolean {\n        return this.features().breadcrumbs || false;\n    }\n\n    public featureRoleManagement(): boolean {\n        return this.features().roleManagement || false;\n    }\n\n    public featureSettings(): boolean {\n        return this.features().settings || false;\n    }\n\n    public featureAlertsService(): Alerts | undefined {\n        return this.features().alerts;\n    }\n\n    public authType(): string {\n        if (!this.config.auth || !this.config.auth.type) {\n            return \"\";\n        }\n        return this.config.auth.type;\n    }\n\n    public authRbacEnabled(): boolean {\n        if (!this.config.auth || !this.config.auth.rbacEnabled) {\n            return false;\n        }\n        return this.config.auth.rbacEnabled;\n    }\n\n    public authObacEnabled(): boolean {\n        if (!this.config.auth || !this.config.auth.obacEnabled) {\n            return false;\n        }\n        return this.config.auth.obacEnabled;\n    }\n\n    public authOptions(): any {\n        if (this.config.auth) {\n            const auth: KeycloakJsAuthConfig = this.config.auth as KeycloakJsAuthConfig;\n            return auth.options;\n        }\n        return {};\n    }\n\n    public authGetToken(): () => Promise<string> {\n        if (this.config.auth) {\n            const auth: GetTokenAuthConfig = this.config.auth as GetTokenAuthConfig;\n            return auth.getToken;\n        }\n        return () => {\n            console.error(\"[ConfigService] Missing: 'getToken' from auth config.\");\n            return Promise.resolve(\"\");\n        };\n    }\n\n    public principals() {\n        return this.config.principals;\n    }\n\n    public featureMultiTenant(): boolean {\n        return this.features().multiTenant || false;\n    }\n}\n","import {Alerts, AlertVariant, ConfigService} from \"../config\";\nimport {Service} from \"../baseService\";\nimport {ConfigurationProperty} from \"../../models/configurationProperty.model\";\nimport {LoggerService} from \"../logger\";\n\n\nexport class AlertsService implements Service {\n\n    // @ts-ignore\n    private config: ConfigService = null;\n    // @ts-ignore\n    private logger: LoggerService = null;\n\n    public init = () => {\n        // no init\n    }\n\n    public settingChanged(property: ConfigurationProperty, newValue: any): void {\n        const alerts: Alerts | undefined = this.config.featureAlertsService();\n        let title: string = `${property.label} updated`;\n        if (newValue === \"true\" || newValue === \"false\") {\n            title = `${property.label} turned ${newValue === \"true\" ? \"on\" : \"off\"}`;\n        }\n        if (alerts && alerts.addAlert) {\n            alerts.addAlert({\n                title,\n                variant: AlertVariant.success,\n                dataTestId: \"toast-setting-changed\"\n            });\n        } else {\n            this.logger.info(\"[AlertsService] Alerts (toast) service not available: \", title);\n            this.logger.debug(\"[AlertsService] Alerts config is: \", alerts);\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {Service} from \"../baseService\";\n\n\nfunction _window(): Window {\n    return window;\n}\n\n\n/**\n * A simple logger service.\n */\nexport class DownloaderService implements Service {\n\n    private window: Window | any;\n\n    public init(): void {\n        this.window = _window();\n    }\n\n    /**\n     * Called to download some content as a file to the user's local filesystem.\n     * @param content\n     * @param contentType\n     * @param filename\n     */\n    public downloadToFS(content: string, contentType: string, filename: string): Promise<boolean> {\n        console.info(\"[DownloaderService] Downloading an API definition.\");\n\n        if (this.window.chrome !== undefined) {\n            // Chrome version\n            const link = document.createElement('a');\n            const blob: Blob = new Blob([content], { type: contentType });\n            link.href = window.URL.createObjectURL(blob);\n            link.download = filename;\n            link.click();\n        } else if (window.navigator !== undefined && window.navigator.msSaveBlob !== undefined) {\n            // IE version\n            const blob: Blob = new Blob([content], { type: contentType });\n            window.navigator.msSaveBlob(blob, filename);\n        } else {\n            // Firefox version\n            const file: File = new File([content], filename, { type: \"application/force-download\" });\n            window.open(URL.createObjectURL(file));\n        }\n        // Not async right now - so just resolve to true\n        return Promise.resolve(true);\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n    SearchedArtifact,\n    SearchedVersion,\n    ArtifactMetaData,\n    Rule,\n    VersionMetaData,\n    ContentTypes\n} from \"../../models\";\nimport {BaseService} from \"../baseService\";\nimport YAML from \"yaml\";\n\nexport interface CreateArtifactData {\n    groupId: string;\n    id: string|null;\n    type: string;\n    content: string;\n}\n\nexport interface CreateVersionData {\n    type: string;\n    content: string;\n}\n\nexport interface GetArtifactsCriteria {\n    type: string;\n    value: string;\n    sortAscending: boolean;\n}\n\nexport interface Paging {\n    page: number;\n    pageSize: number;\n}\n\nexport interface ArtifactsSearchResults {\n    artifacts: SearchedArtifact[];\n    count: number;\n    page: number;\n    pageSize: number;\n}\n\nexport interface EditableMetaData {\n    name: string;\n    description: string;\n    labels: string[];\n    properties: { [key: string]: string|undefined };\n}\n\n/**\n * The artifacts service.  Used to query the backend search API to fetch lists of\n * artifacts and also details about individual artifacts.\n */\nexport class GroupsService extends BaseService {\n\n    public createArtifact(data: CreateArtifactData): Promise<ArtifactMetaData> {\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts\", { groupId: data.groupId });\n        const headers: any = {};\n        if (data.id) {\n            headers[\"X-Registry-ArtifactId\"] = data.id;\n        }\n        if (data.type) {\n            headers[\"X-Registry-ArtifactType\"] = data.type;\n        }\n        headers[\"Content-Type\"] = this.contentType(data.type, data.content);\n        return this.httpPostWithReturn<any, ArtifactMetaData>(endpoint, data.content, this.options(headers));\n    }\n\n    public createArtifactVersion(groupId: string|null, artifactId: string, data: CreateVersionData): Promise<VersionMetaData> {\n        groupId = this.normalizeGroupId(groupId);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions\", { groupId, artifactId });\n        const headers: any = {};\n        if (data.type) {\n            headers[\"X-Registry-ArtifactType\"] = data.type;\n        }\n        headers[\"Content-Type\"] = this.contentType(data.type, data.content);\n        return this.httpPostWithReturn<any, VersionMetaData>(endpoint, data.content, this.options(headers));\n    }\n\n    public getArtifacts(criteria: GetArtifactsCriteria, paging: Paging): Promise<ArtifactsSearchResults> {\n        this.logger.debug(\"[GroupsService] Getting artifacts: \", criteria, paging);\n        const start: number = (paging.page - 1) * paging.pageSize;\n        const end: number = start + paging.pageSize;\n        const queryParams: any = {\n            limit: end,\n            offset: start,\n            order: criteria.sortAscending ? \"asc\" : \"desc\",\n            orderby: \"name\"\n        };\n        if (criteria.value) {\n            if (criteria.type == \"everything\") {\n                queryParams[\"name\"] = criteria.value;\n                queryParams[\"description\"] = criteria.value;\n                queryParams[\"labels\"] = criteria.value;\n            } else {\n                queryParams[criteria.type] = criteria.value;\n            }\n        }\n        const endpoint: string = this.endpoint(\"/v2/search/artifacts\", {}, queryParams);\n        return this.httpGet<ArtifactsSearchResults>(endpoint, undefined, (data) => {\n            const results: ArtifactsSearchResults = {\n                artifacts: data.artifacts,\n                count: data.count,\n                page: paging.page,\n                pageSize: paging.pageSize\n            };\n            return results;\n        });\n    }\n\n    public getArtifactMetaData(groupId: string|null, artifactId: string, version: string): Promise<ArtifactMetaData> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version/meta\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/meta\", { groupId, artifactId });\n        }\n        return this.httpGet<ArtifactMetaData>(endpoint);\n    }\n\n    public getLatestArtifact(groupId: string|null, artifactId: string): Promise<string> {\n        return this.getArtifactContent(groupId, artifactId, \"latest\");\n    }\n\n    public updateArtifactMetaData(groupId: string|null, artifactId: string, version: string, metaData: EditableMetaData): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version/meta\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/meta\", { groupId, artifactId });\n        }\n        return this.httpPut<EditableMetaData>(endpoint, metaData);\n    }\n\n    public getArtifactContent(groupId: string|null, artifactId: string, version: string): Promise<string> {\n        groupId = this.normalizeGroupId(groupId);\n\n        let endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions/:version\", { groupId, artifactId, version });\n        if (version === \"latest\") {\n            endpoint = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId\", { groupId, artifactId });\n        }\n\n        const options: any = this.options({\n            \"Accept\": \"*\"\n        });\n        options.maxContentLength = \"5242880\"; // TODO 5MB hard-coded, make this configurable?\n        options.responseType = \"text\";\n        options.transformResponse = (data: any) => data;\n        return this.httpGet<string>(endpoint, options);\n    }\n\n    public getArtifactVersions(groupId: string|null, artifactId: string): Promise<SearchedVersion[]> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Getting the list of versions for artifact: \", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/versions\", { groupId, artifactId }, {\n            limit: 500,\n            offset: 0\n        });\n        return this.httpGet<SearchedVersion[]>(endpoint, undefined, (data) => {\n            return data.versions;\n        });\n    }\n\n    public getArtifactRules(groupId: string|null, artifactId: string): Promise<Rule[]> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Getting the list of rules for artifact: \", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules\", { groupId, artifactId });\n        return this.httpGet<string[]>(endpoint).then( ruleTypes => {\n            return Promise.all(ruleTypes.map(rt => this.getArtifactRule(groupId, artifactId, rt)));\n        });\n    }\n\n    public getArtifactRule(groupId: string|null, artifactId: string, type: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            rule: type\n        });\n        return this.httpGet<Rule>(endpoint);\n    }\n\n    public createArtifactRule(groupId: string|null, artifactId: string, type: string, config: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Creating rule:\", type);\n\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules\", { groupId, artifactId });\n        const body: Rule = {\n            config,\n            type\n        };\n        return this.httpPostWithReturn(endpoint, body);\n    }\n\n    public updateArtifactRule(groupId: string|null, artifactId: string, type: string, config: string): Promise<Rule> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Updating rule:\", type);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            \"rule\": type\n        });\n        const body: Rule = { config, type };\n        return this.httpPutWithReturn<Rule, Rule>(endpoint, body);\n    }\n\n    public deleteArtifactRule(groupId: string|null, artifactId: string, type: string): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Deleting rule:\", type);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId/rules/:rule\", {\n            groupId,\n            artifactId,\n            \"rule\": type\n        });\n        return this.httpDelete(endpoint);\n    }\n\n    public deleteArtifact(groupId: string|null, artifactId: string): Promise<void> {\n        groupId = this.normalizeGroupId(groupId);\n\n        this.logger.info(\"[GroupsService] Deleting artifact:\", groupId, artifactId);\n        const endpoint: string = this.endpoint(\"/v2/groups/:groupId/artifacts/:artifactId\", { groupId, artifactId });\n        return this.httpDelete(endpoint);\n    }\n\n    private normalizeGroupId(groupId: string|null): string {\n        return groupId || \"default\";\n    }\n\n    private contentType(type: string, content: string): string {\n        switch (type) {\n            case \"PROTOBUF\":\n                return ContentTypes.APPLICATION_PROTOBUF;\n            case \"WSDL\":\n            case \"XSD\":\n            case \"XML\":\n                return ContentTypes.APPLICATION_XML;\n            case \"GRAPHQL\":\n                return ContentTypes.APPLICATION_GRAPHQL;\n        }\n        if (this.isJson(content)) {\n            return ContentTypes.APPLICATION_JSON;\n        } else if (this.isXml(content)) {\n            return ContentTypes.APPLICATION_XML;\n        } else if (this.isYaml(content)) {\n            return ContentTypes.APPLICATION_YAML;\n        } else {\n            return \"application/octet-stream\";\n        }\n    }\n\n    private isJson(content: string): boolean {\n        try {\n            JSON.parse(content);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private isXml(content: string): boolean {\n        try {\n            const xmlParser: DOMParser = new DOMParser();\n            const dom: Document = xmlParser.parseFromString(content, \"application/xml\");\n            const isParseError: boolean = dom.getElementsByTagName(\"parsererror\").length !== 0;\n            return !isParseError;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    private isYaml(content: string): boolean {\n        try {\n            const parsedContent: any = YAML.parse(content);\n            return typeof parsedContent === \"object\";\n        } catch (e) {\n            return false;\n        }\n    }\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {Service} from \"../baseService\";\nimport {ConfigService} from \"../config\";\n\n/**\n * A simple logger service.\n */\nexport class LoggerService implements Service {\n    // @ts-ignore\n    protected config: ConfigService = null;\n\n    public init(): void {\n        // Nothing to init\n    }\n\n    public debug(message: any, ...optionalParams: any[]): void {\n        console.debug((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public info(message: any, ...optionalParams: any[]): void {\n        console.info((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public warn(message: any, ...optionalParams: any[]): void {\n        console.warn((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n    public error(message: any, ...optionalParams: any[]): void {\n        console.error((this.config.featureMultiTenant() ? \"{MT}::\" : \"\") + message, ...optionalParams);\n    }\n\n}\n","import Keycloak from \"keycloak-js\";\nimport {ConfigService} from \"../config\";\nimport {Service} from \"../baseService\";\nimport {AxiosRequestConfig} from \"axios\";\nimport {LoggerService} from \"../logger\";\nimport {UsersService} from \"../users\";\nimport {Services} from \"../services\";\n\nconst KC_CONFIG_OPTIONS: string[] = [\"url\", \"realm\", \"clientId\"];\nconst KC_INIT_OPTIONS: string[] = [\n    \"useNonce\", \"adapter\", \"onLoad\", \"token\", \"refreshToken\", \"idToken\", \"timeSkew\", \"checkLoginIframe\",\n    \"checkLoginIframeInterval\", \"responseMode\", \"redirectUri\", \"silentCheckSsoRedirectUri\", \"flow\",\n    \"pkceMethod\", \"enableLogging\"\n];\n\nfunction only(items: string[], allOptions: any): any {\n    const rval: any = {};\n    items.forEach(item => {\n        if (allOptions[item] !== undefined) {\n            rval[item] = allOptions[item];\n        }\n    });\n    return rval;\n}\n\nexport interface AuthenticatedUser {\n    username: string;\n    displayName: string;\n    fullName: string;\n}\n\n/**\n * Initializes Keycloak instance and calls the provided callback function if successfully authenticated.\n *\n * @param onAuthenticatedCallback\n */\n\nexport class AuthService implements Service {\n\n    // @ts-ignore\n    protected users: UsersService = null;\n\n    private enabled: boolean = false;\n    // @ts-ignore\n    private config: ConfigService = null;\n    // @ts-ignore\n    private logger: LoggerService = null;\n    // @ts-ignore\n    private keycloak: Keycloak.KeycloakInstance;\n    // @ts-ignore\n    private user: AuthenticatedUser;\n\n    public init = () => {\n        // no init?\n    }\n\n    public authenticateUsingKeycloak = (onAuthenticatedCallback: () => void) => {\n        const configOptions: any = only(KC_CONFIG_OPTIONS, this.config.authOptions());\n        const initOptions: any = only(KC_INIT_OPTIONS, this.config.authOptions());\n\n        this.keycloak = Keycloak(configOptions);\n\n        const addRoles: ((user: AuthenticatedUser) => void) = (user) => {\n            if (this.keycloak.resourceAccess) {\n                Object.keys(this.keycloak.resourceAccess)\n                    // @ts-ignore\n                    .forEach(key => (user.roles = user.roles.concat(this.keycloak.resourceAccess[key].roles)));\n            }\n\n            this.logger.info(\"----------------\");\n            this.logger.info(\"Authenticated!  User info:\", user);\n            this.logger.info(\"----------------\");\n        };\n\n        const fakeUser: (() => AuthenticatedUser) = () => {\n            return {\n                displayName: \"User\",\n                fullName: \"User\",\n                roles: [],\n                username: \"User\"\n            };\n        };\n\n        const infoToUser: (() => AuthenticatedUser) = () => {\n            const ui: any = this.keycloak.userInfo;\n            return {\n                displayName: ui.given_name,\n                fullName: ui.name,\n                roles: [],\n                username: ui.preferred_username\n            };\n        };\n\n        this.keycloak.init(initOptions)\n            .then((authenticated) => {\n                if (authenticated) {\n                    this.keycloak.loadUserInfo().then(() => {\n                        this.user = infoToUser();\n                        addRoles(this.user);\n                        onAuthenticatedCallback();\n                    }).catch(() => {\n                        this.user = fakeUser();\n                        addRoles(this.user);\n                        onAuthenticatedCallback();\n                    })\n                } else {\n                    console.warn(\"Not authenticated!\");\n                    this.doLogin();\n                }\n            })\n    };\n\n    public isAuthenticated = () => this.keycloak != null && this.keycloak.authenticated;\n\n    public doLogin = () => this.keycloak.login;\n\n    public doLogout = () =>  {\n        this.keycloak.logout({\n            redirectUri: window.location.href\n        });\n    }\n\n    public getToken = () => this.keycloak.token;\n\n    public isAuthenticationEnabled(): boolean {\n        return this.enabled;\n    }\n\n    public isRbacEnabled(): boolean {\n        return this.config.authRbacEnabled();\n    }\n\n    public isObacEnabled(): boolean {\n        return this.config.authObacEnabled();\n    }\n\n    public isUserAdmin(): boolean {\n        if (!this.isAuthenticationEnabled()) {\n            return true;\n        }\n        if (!this.isRbacEnabled() && !this.isObacEnabled()) {\n            return true;\n        }\n        return this.users.currentUser().admin;\n    }\n\n    public isUserDeveloper(resourceOwner?: string): boolean {\n        if (!this.isAuthenticationEnabled()) {\n            return true;\n        }\n        if (!this.isRbacEnabled() && !this.isObacEnabled()) {\n            return true;\n        }\n        if (this.isUserAdmin()) {\n            return true;\n        }\n        if (this.isRbacEnabled() && !this.users.currentUser().developer) {\n            return false;\n        }\n        if (this.isObacEnabled() && resourceOwner && this.users.currentUser().username !== resourceOwner) {\n            return false;\n        }\n        return true;\n    }\n\n    public authenticateAndRender(render: () => void): void {\n        if (this.config.authType() === \"keycloakjs\") {\n            this.enabled = true;\n            this.authenticateUsingKeycloak(render);\n        } else {\n            this.enabled = false;\n            render();\n        }\n    }\n\n    public getAuthInterceptor(): (config: AxiosRequestConfig) => Promise<any> {\n        const self: AuthService = this;\n        const interceptor = (config: AxiosRequestConfig) => {\n            if (self.config.authType() === \"keycloakjs\") {\n                return self.updateKeycloakToken(() => {\n                    config.headers.Authorization = `Bearer ${this.getToken()}`;\n                    return Promise.resolve(config);\n                });\n            } else if (self.config.authType() === \"gettoken\") {\n                this.logger.info(\"[AuthService] Using 'getToken' auth type.\")\n                return self.config.authGetToken()().then(token => {\n                    this.logger.info(\"[AuthService] Token acquired.\");\n                    config.headers.Authorization = `Bearer ${token}`;\n                    return Promise.resolve(config);\n                }).catch(error => {\n                    this.logger.info(\"[AuthService] Failed to acquire token: \", error);\n                    return Promise.reject(error);\n                });\n            } else {\n                return Promise.resolve(config);\n            }\n        };\n        return interceptor;\n    }\n\n    // @ts-ignore\n    private updateKeycloakToken = (successCallback) => {\n        return this.keycloak.updateToken(5)\n            .then(successCallback)\n            .catch(this.doLogin)\n    };\n}\n","/**\n * @license\n * Copyright 2021 Red Hat\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {BaseService} from \"../baseService\";\nimport {UserInfo} from \"../../models\";\n\n/**\n * A service that provides access to the /users endpoint.\n */\nexport class UsersService extends BaseService {\n\n    private currentUserInfo: UserInfo;\n\n    constructor() {\n        super();\n        this.currentUserInfo = {\n            username: \"\",\n            displayName: \"\",\n            admin: false,\n            developer: false,\n            viewer: false\n        };\n    }\n\n    public init(): void {\n        // Nothing to init (done in c'tor)\n    }\n\n    public currentUser(): UserInfo {\n        return this.currentUserInfo;\n    }\n\n    public updateCurrentUser(): Promise<UserInfo> {\n        if (this.auth.isAuthenticated()) {\n            // TODO cache the response for a few minutes to limit the # of times this is called per minute??\n            const endpoint: string = this.endpoint(\"/v2/users/me\");\n            return this.httpGet<UserInfo>(endpoint).then(userInfo => {\n                this.currentUserInfo = userInfo;\n                return userInfo;\n            });\n        } else {\n            return Promise.resolve(this.currentUserInfo);\n        }\n    }\n\n}\n","/**\n * @license\n * Copyright 2020 JBoss Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {GroupsService} from \"./groups\";\nimport {ConfigService} from \"./config\";\nimport {LoggerService} from \"./logger\";\nimport {AdminService} from \"./admin\";\nimport {Service} from \"./baseService\";\nimport {DownloaderService} from \"./downloader\";\nimport {AuthService} from \"./auth\";\nimport {UsersService} from \"./users\";\nimport {AlertsService} from \"./alerts\";\n\n/**\n * Class that provides access to all of the services in the application.\n */\nexport class Services {\n\n    static _isInit: boolean = false;\n\n    public static getGroupsService(): GroupsService {\n        return Services.all.groups;\n    }\n\n    public static getConfigService(): ConfigService {\n        return Services.all.config;\n    }\n\n    public static getDownloaderService(): DownloaderService {\n        return Services.all.downloader;\n    }\n\n    public static getLoggerService(): LoggerService {\n        return Services.all.logger;\n    }\n\n    public static getAdminService(): AdminService {\n        return Services.all.admin;\n    }\n\n    public static getAuthService(): AuthService {\n        return Services.all.auth;\n    }\n\n    public static getUsersService(): UsersService {\n        return Services.all.users;\n    }\n\n    public static getAlertsService(): AlertsService {\n        return Services.all.alerts;\n    }\n\n    private static all: any = {\n        groups: new GroupsService(),\n        users: new UsersService(),\n        config: new ConfigService(),\n        downloader: new DownloaderService(),\n        admin: new AdminService(),\n        logger: new LoggerService(),\n        auth: new AuthService(),\n        alerts: new AlertsService(),\n    };\n\n    // tslint:disable-next-line:member-ordering member-access\n    static _intialize(): void {\n        console.info(\"[Services] _initialize() in Services\");\n        if (Services._isInit) {\n            console.info(\"[Services] Services already intialized...skipping.\");\n            return;\n        }\n        console.info(\"[Services] Actually initializing Services!!!\");\n        // First perform simple service-service injection.\n        Object.keys(Services.all).forEach( svcToInjectIntoName => {\n            const svcToInjectInto: any = Services.all[svcToInjectIntoName];\n            Object.keys(Services.all).filter(key => key !== svcToInjectIntoName).forEach(injectableSvcKey => {\n                if (svcToInjectInto[injectableSvcKey] !== undefined && svcToInjectInto[injectableSvcKey] === null) {\n                    svcToInjectInto[injectableSvcKey] = Services.all[injectableSvcKey];\n                }\n            })\n        });\n        // Once that's done, init() all the services\n        Object.keys(Services.all).forEach( svcToInjectIntoName => {\n            const svcToInit: Service = Services.all[svcToInjectIntoName];\n            svcToInit.init();\n        });\n        Services._isInit = true;\n        Services.getLoggerService().info(\"[Services] Services successfully initialized.\");\n    }\n\n}\nServices._intialize();\n","export default __webpack_public_path__ + \"4169897f.png\";"],"names":["properties","testIdCounter","navigateTo","location","history","PureComponent","HISTORY","Services","info","push","warn","state","initializeState","postConstruct","setHistory","testId","prefix","this","setSingleState","key","value","callback","newState","setMultiState","setState","linkTo","url","uiNavPrefixPath","props","render","className","getClassNames","title","getTitle","type","ArtifactTypes","classes","showDetails","reloadPage","window","reload","PageSection","variant","PageSectionVariants","EmptyState","EmptyStateVariant","EmptyStateIcon","icon","ExclamationTriangleIcon","Title","headingLevel","size","errorMessage","EmptyStateBody","Button","onClick","EmptyStateSecondaryActions","canShowDetails","isShowDetails","id","mode","theme","name","width","editorWidth","height","editorHeight","fontSize","showPrintMargin","showGutter","highlightActiveLine","errorDetail","readOnly","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","featureMultiTenant","error","detail","JSON","stringify","onSelect","event","isOpen","document","getElementById","focus","onToggle","dropdownItems","DropdownItem","doLogout","isInline","Dropdown","toggle","DropdownToggle","Avatar","src","alt","isPlain","Modal","ModalVariant","onClose","actions","causes","length","DataList","map","cause","idx","DataListItemRow","DataListItemCells","dataListCells","DataListCell","ExclamationCircleIcon","context","description","header","href","showClose","Spinner","message","newValue","currentTarget","tooltip","toggleIndicator","CaretDownIcon","displayValue","doEnableRule","ruleType","onEnableRule","doDisableRule","onDisableRule","doConfigureRule","config","onConfigureRule","validityRuleActions","isRuleEnabled","ValidityDropdown","getRuleConfig","TrashIcon","compatibilityRuleActions","CompatibilityDropdown","DataListItem","getRuleRowClasses","OkIcon","isDeveloper","feature","isNot","DataListAction","CodeBranchIcon","rules","filter","rule","join","frules","r","SchemaEmptyState","artifactName","basename","registryId","Card","CardTitle","CardBody","ClipboardCopy","isReadOnly","hoverTip","clickTip","Link","to","timer","clipboardCopyFunc","text","clipboard","parentElement","el","createElement","toString","appendChild","select","removeChild","clearTimeout","copySchemaContent","setTimeout","schemaContentData","undefined","componentDidMount","createLoaders","topicName","artifactId1","artifactId2","keySchema","getLatestArtifact","then","response","routePath","postfix","DescriptionListDescription","Grid","hasGutter","span","GridItem","rowSpan","color","ExpandableSection","toggleText","displaySize","isWidthLimited","CodeBlock","CodeBlockAction","ClipboardCopyButton","textId","e","exitDelay","maxWidth","CodeBlockCode","NoMatchingSchema","artifactId","Split","SplitItem","Alert","AlertVariant","Popover","hasAutoWidth","headerContent","bodyContent","Stack","StackItem","SchemaCard","hasKeySchema","hasValueSchema","version","component","DescriptionList","isHorizontal","isAutoColumnWidths","columnModifier","lg","DescriptionListTerm","PermissionDenied","hasPermissionDenied","groupId","Bullseye","componentWillMount","getArtifactsMetadata","componentDidUpdate","prevProps","getArtifactMetaData","catch","error_code","status","updateConfiguration","updateConfig","APPLICATION_JSON","APPLICATION_YAML","APPLICATION_XML","APPLICATION_PROTOBUF","APPLICATION_GRAPHQL","READ_ONLY","DEVELOPER","ADMIN","AXIOS","logger","auth","init","initAuthInterceptor","interceptors","request","use","getAuthInterceptor","endpoint","path","params","queryParams","Object","keys","forEach","encodeURIComponent","replace","rval","apiBaseHref","first","options","headers","httpGet","successCallback","ContentTypes","axiosConfig","data","Promise","reject","unwrapErrorData","httpPost","body","progressCallback","fiftyMB","onUploadProgress","maxContentLength","maxBodyLength","httpPostWithReturn","httpPut","httpPutWithReturn","httpDelete","artifactsUrl","endsWith","substring","debug","method","Blob","validateStatus","console","getRules","ruleTypes","all","rt","getRule","createRule","updateRule","deleteRule","getRoleMappings","getRoleMapping","principalId","createRoleMapping","role","principalName","updateRoleMapping","deleteRoleMapping","exportAs","filename","forBrowser","Accept","ref","startsWith","importFrom","file","progressFunction","listConfigurationProperties","setConfigurationProperty","propertyName","resetConfigurationProperty","BaseService","DEFAULT_CONFIG","artifacts","clientId","onLoad","realm","rbacEnabled","obacEnabled","features","breadcrumbs","roleManagement","settings","ui","contextPath","navPrefixPath","w","ApicurioRegistryConfig","uiContextPath","substr","defaults","featureReadOnly","featureBreadcrumbs","featureRoleManagement","featureSettings","featureAlertsService","alerts","authType","authRbacEnabled","authObacEnabled","authOptions","authGetToken","getToken","resolve","principals","multiTenant","settingChanged","property","label","addAlert","dataTestId","downloadToFS","content","contentType","chrome","link","blob","URL","createObjectURL","download","click","navigator","msSaveBlob","File","open","createArtifact","createArtifactVersion","normalizeGroupId","getArtifacts","criteria","paging","start","page","pageSize","limit","offset","order","sortAscending","orderby","count","getArtifactContent","updateArtifactMetaData","metaData","responseType","transformResponse","getArtifactVersions","versions","getArtifactRules","getArtifactRule","createArtifactRule","updateArtifactRule","deleteArtifactRule","deleteArtifact","isJson","isXml","isYaml","parse","DOMParser","parseFromString","getElementsByTagName","optionalParams","KC_CONFIG_OPTIONS","KC_INIT_OPTIONS","only","items","allOptions","item","users","enabled","authenticateUsingKeycloak","onAuthenticatedCallback","configOptions","initOptions","keycloak","addRoles","user","resourceAccess","roles","concat","authenticated","loadUserInfo","displayName","userInfo","given_name","fullName","username","preferred_username","doLogin","isAuthenticated","login","logout","redirectUri","token","updateKeycloakToken","updateToken","isAuthenticationEnabled","isRbacEnabled","isObacEnabled","isUserAdmin","currentUser","admin","isUserDeveloper","resourceOwner","developer","authenticateAndRender","self","Authorization","currentUserInfo","viewer","updateCurrentUser","getGroupsService","groups","getConfigService","getDownloaderService","downloader","getLoggerService","getAdminService","getAuthService","getUsersService","getAlertsService","_intialize","_isInit","svcToInjectIntoName","svcToInjectInto","injectableSvcKey","GroupsService","UsersService","ConfigService","DownloaderService","AdminService","LoggerService","AuthService","AlertsService"],"sourceRoot":""}